var e,t,n=Object.defineProperty,r=(e,t,r)=>((e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);import{r as i,t as o,g as a,R as s,c as l,a as c,b as u,d}from"./react.js";import{H as f}from"./hls.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var h={exports:{}},p={},m=i,g=Symbol.for("react.element"),v=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,b=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)y.call(t,r)&&!w.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:g,type:e,key:o,ref:a,props:i,_owner:b.current}}p.Fragment=v,p.jsx=x,p.jsxs=x,h.exports=p;var C,_,k=h.exports;
/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}(_=C||(C={})).Pop="POP",_.Push="PUSH",_.Replace="REPLACE";const E="popstate";function j(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=C.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(S({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=C.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function f(e,t){s=C.Push;let n=A(m.location,e,t);c=u()+1;let r=O(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}o&&l&&l({action:s,location:m.location,delta:1})}function h(e,t){s=C.Replace;let n=A(m.location,e,t);c=u();let r=O(n,c),i=m.createHref(n);a.replaceState(r,"",i),o&&l&&l({action:s,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:L(e);return n=n.replace(/ $/,"%20"),T(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E,d),l=e,()=>{i.removeEventListener(E,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:h,go:e=>a.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return A("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:L(t)}),0,e)}function T(e,t){if(!1===e||null==e)throw new Error(t)}function N(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(fs){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function M(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var R,P;function I(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?M(t):t,o=K(i.pathname||"/",n);if(null==o)return null;let a=F(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let l=0;null==s&&l<a.length;++l){let e=Q(o);s=G(a[l],e,r)}return s}(e,t,n,!1)}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(T(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=ee([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:q(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of D(e.path))i(e,t,r);else i(e,t)})),t}function D(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=D(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}(P=R||(R={})).data="data",P.deferred="deferred",P.redirect="redirect",P.error="error";const $=/^:[\w-]+$/,z=3,B=2,V=1,U=10,H=-2,W=e=>"*"===e;function q(e,t){let n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=B),n.filter((e=>!W(e))).reduce(((e,t)=>e+($.test(t)?z:""===t?V:U)),r)}function G(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:ee([o,u.pathname]),pathnameBase:te(ee([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=ee([o,u.pathnameBase]))}return a}function Z(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function Q(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function K(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Y(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function X(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=M(e):(i=S({},e),T(!i.pathname||!i.pathname.includes("?"),Y("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),Y("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),Y("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?M(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:ne(r),hash:re(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ee=e=>e.join("/").replace(/\/\/+/g,"/"),te=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ne=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",re=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const ie=["post","put","patch","delete"];new Set(ie);const oe=["get",...ie];
/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}new Set(oe);const se=i.createContext(null),le=i.createContext(null),ce=i.createContext(null),ue=i.createContext(null),de=i.createContext({outlet:null,matches:[],isDataRoute:!1}),fe=i.createContext(null);function he(){return null!=i.useContext(ue)}function pe(){return he()||T(!1),i.useContext(ue).location}function me(e){i.useContext(ce).static||i.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=i.useContext(de);return e?function(){let{router:e}=function(){let e=i.useContext(se);return e||T(!1),e}(_e.UseNavigateStable),t=Se(ke.UseNavigateStable),n=i.useRef(!1);return me((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,ae({fromRouteId:t},i)))}),[e,t])}():function(){he()||T(!1);let e=i.useContext(se),{basename:t,future:n,navigator:r}=i.useContext(ce),{matches:o}=i.useContext(de),{pathname:a}=pe(),s=JSON.stringify(J(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return me((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"==typeof n)return void r.go(n);let o=X(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:ee([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e])}()}function ve(){let{matches:e}=i.useContext(de),t=e[e.length-1];return t?t.params:{}}function ye(e,t){return function(e,t,n,r){he()||T(!1);let{navigator:o}=i.useContext(ce),{matches:a}=i.useContext(de),s=a[a.length-1],l=s?s.params:{};!s||s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u,d=pe();if(t){var f;let e="string"==typeof t?M(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||T(!1),u=e}else u=d;let h=u.pathname||"/",p=h;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=I(e,{pathname:p}),g=function(e,t,n,r){var o;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||T(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,d=!1,f=null,h=null;n&&(a=l&&r.route.id?l[r.route.id]:void 0,f=r.route.errorElement||we,c&&(u<0&&0===o?(d=!0,h=null):u===o&&(d=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?f:d?h:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Ce,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(xe,{location:n.location,revalidation:n.revalidation,component:f,error:a,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ee([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ee([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);if(t&&g)return i.createElement(ue.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:C.Pop}},g);return g}(e,t)}function be(){let e=function(){var e;let t=i.useContext(fe),n=function(){let e=i.useContext(le);return e||T(!1),e}(ke.UseRouteError),r=Se(ke.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const we=i.createElement(be,null);class xe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(de.Provider,{value:this.props.routeContext},i.createElement(fe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(se);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(de.Provider,{value:t},r)}var _e=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_e||{}),ke=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ke||{});function Se(e){let t=function(){let e=i.useContext(de);return e||T(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||T(!1),n.route.id}function Ee(e){let{to:t,replace:n,state:r,relative:o}=e;he()||T(!1);let{future:a,static:s}=i.useContext(ce),{matches:l}=i.useContext(de),{pathname:c}=pe(),u=ge(),d=X(t,J(l,a.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(d);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:o})),[u,f,o,n,r]),null}function je(e){T(!1)}function Te(e){let{basename:t="/",children:n=null,location:r,navigationType:o=C.Pop,navigator:a,static:s=!1,future:l}=e;he()&&T(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:a,static:s,future:ae({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"==typeof r&&(r=M(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=i.useMemo((()=>{let e=K(d,c);return null==e?null:{location:{pathname:e,search:f,hash:h,state:p,key:m},navigationType:o}}),[c,d,f,h,p,m,o]);return null==g?null:i.createElement(ce.Provider,{value:u},i.createElement(ue.Provider,{children:n,value:g}))}function Ne(e){let{children:t,location:n}=e;return ye(Oe(t),n)}function Oe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Oe(e.props.children,o));e.type!==je&&T(!1),e.props.index&&e.props.children&&T(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Oe(e.props.children,o)),n.push(a)})),n}
/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ae(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Promise((()=>{}));try{window.__reactRouterVersion="6"}catch(fs){}const Le=o.startTransition;function Me(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();null==a.current&&(a.current=j({window:o,v5Compat:!0}));let s=a.current,[l,c]=i.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=i.useCallback((e=>{u&&Le?Le((()=>c(e))):c(e)}),[c,u]);return i.useLayoutEffect((()=>s.listen(d)),[s,d]),i.createElement(Te,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}var Re,Pe,Ie,Fe;function De(e){let t=i.useRef(Ae(e)),n=i.useRef(!1),r=pe(),o=i.useMemo((()=>function(e,t){let n=Ae(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=ge(),s=i.useCallback(((e,t)=>{const r=Ae("function"==typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}(Pe=Re||(Re={})).UseScrollRestoration="useScrollRestoration",Pe.UseSubmit="useSubmit",Pe.UseSubmitFetcher="useSubmitFetcher",Pe.UseFetcher="useFetcher",Pe.useViewTransitionState="useViewTransitionState",(Fe=Ie||(Ie={})).UseFetcher="useFetcher",Fe.UseFetchers="useFetchers",Fe.UseScrollRestoration="useScrollRestoration";const $e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ze=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==($e?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,o);return o};var Be={exports:{}},Ve={},Ue={exports:{}},He={},We=i;var qe="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ge=We.useState,Ze=We.useEffect,Qe=We.useLayoutEffect,Ke=We.useDebugValue;function Ye(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch(r){return!0}}var Je="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Ge({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Qe((function(){i.value=n,i.getSnapshot=t,Ye(i)&&o({inst:i})}),[e,n,t]),Ze((function(){return Ye(i)&&o({inst:i}),e((function(){Ye(i)&&o({inst:i})}))}),[e]),Ke(n),n};He.useSyncExternalStore=void 0!==We.useSyncExternalStore?We.useSyncExternalStore:Je,Ue.exports=He;var Xe=Ue.exports,et=i,tt=Xe;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},rt=tt.useSyncExternalStore,it=et.useRef,ot=et.useEffect,at=et.useMemo,st=et.useDebugValue;Ve.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=it(null);if(null===o.current){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=at((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&a.hasValue){var t=a.value;if(i(t,e))return s=t}return s=e}if(t=s,nt(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var s=rt(e,o[0],o[1]);return ot((function(){a.hasValue=!0,a.value=s}),[s]),st(s),s},Be.exports=Ve;const lt=a(Be.exports),ct={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:ut}=s,{useSyncExternalStoreWithSelector:dt}=lt;let ft=!1;const ht=e=>e;const pt=e=>{"production"!==(ct?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?ze(e):ze)(e):e,n=(e,n)=>function(e,t=ht,n){"production"!==(ct?"production":void 0)&&n&&!ft&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ft=!0);const r=dt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ut(r),r}(t,e,n);return Object.assign(n,t),n},mt=e=>e?pt(e):pt;var gt=Symbol.for("immer-nothing"),vt=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function bt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wt=Object.getPrototypeOf;function xt(e){return!!e&&!!e[yt]}function Ct(e){var t;return!!e&&(kt(e)||Array.isArray(e)||!!e[vt]||!!(null==(t=e.constructor)?void 0:t[vt])||Nt(e)||Ot(e))}var _t=Object.prototype.constructor.toString();function kt(e){if(!e||"object"!=typeof e)return!1;const t=wt(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===_t}function St(e,t){0===Et(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Et(e){const t=e[yt];return t?t.type_:Array.isArray(e)?1:Nt(e)?2:Ot(e)?3:0}function jt(e,t){return 2===Et(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tt(e,t,n){const r=Et(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Nt(e){return e instanceof Map}function Ot(e){return e instanceof Set}function At(e){return e.copy_||e.base_}function Lt(e,t){if(Nt(e))return new Map(e);if(Ot(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=kt(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[yt];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(wt(e),t)}{const t=wt(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Mt(e,t=!1){return Pt(e)||xt(e)||!Ct(e)||(Et(e)>1&&(e.set=e.add=e.clear=e.delete=Rt),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>Mt(t,!0)))),e}function Rt(){bt(2)}function Pt(e){return Object.isFrozen(e)}var It,Ft={};function Dt(e){const t=Ft[e];return t||bt(0),t}function $t(){return It}function zt(e,t){t&&(Dt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bt(e){Vt(e),e.drafts_.forEach(Ht),e.drafts_=null}function Vt(e){e===It&&(It=e.parent_)}function Ut(e){return It={drafts_:[],parent_:It,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ht(e){const t=e[yt];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Wt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[yt].modified_&&(Bt(t),bt(4)),Ct(e)&&(e=qt(t,e),t.parent_||Zt(t,e)),t.patches_&&Dt("Patches").generateReplacementPatches_(n[yt].base_,e,t.patches_,t.inversePatches_)):e=qt(t,n,[]),Bt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gt?e:void 0}function qt(e,t,n){if(Pt(t))return t;const r=t[yt];if(!r)return St(t,((i,o)=>Gt(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Zt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),St(i,((i,a)=>Gt(e,r,t,i,a,n,o))),Zt(e,t,!1),n&&e.patches_&&Dt("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gt(e,t,n,r,i,o,a){if(xt(i)){const a=qt(e,i,o&&t&&3!==t.type_&&!jt(t.assigned_,r)?o.concat(r):void 0);if(Tt(n,r,a),!xt(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Ct(i)&&!Pt(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qt(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Zt(e,i)}}function Zt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mt(t,n)}var Qt={get(e,t){if(t===yt)return e;const n=At(e);if(!jt(n,t))return function(e,t,n){var r;const i=Jt(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ct(r)?r:r===Yt(e.base_,t)?(en(e),e.copy_[t]=tn(r,e)):r},has:(e,t)=>t in At(e),ownKeys:e=>Reflect.ownKeys(At(e)),set(e,t,n){const r=Jt(At(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Yt(At(e),t),a=null==r?void 0:r[yt];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||jt(e.base_,t)))return!0;en(e),Xt(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Yt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,en(e),Xt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=At(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){bt(11)},getPrototypeOf:e=>wt(e.base_),setPrototypeOf(){bt(12)}},Kt={};function Yt(e,t){const n=e[yt];return(n?At(n):e)[t]}function Jt(e,t){if(!(t in e))return;let n=wt(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=wt(n)}}function Xt(e){e.modified_||(e.modified_=!0,e.parent_&&Xt(e.parent_))}function en(e){e.copy_||(e.copy_=Lt(e.base_,e.scope_.immer_.useStrictShallowCopy_))}St(Qt,((e,t)=>{Kt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Kt.deleteProperty=function(e,t){return Kt.set.call(this,e,t,void 0)},Kt.set=function(e,t,n){return Qt.set.call(this,e[0],t,n,e[0])};function tn(e,t){const n=Nt(e)?Dt("MapSet").proxyMap_(e,t):Ot(e)?Dt("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:$t(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Qt;n&&(i=[r],o=Kt);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:$t()).drafts_.push(n),n}function nn(e){if(!Ct(e)||Pt(e))return e;const t=e[yt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Lt(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Lt(e,!0);return St(n,((e,t)=>{Tt(n,e,nn(t))})),t&&(t.finalized_=!1),n}var rn=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&bt(6),void 0!==n&&"function"!=typeof n&&bt(7),Ct(e)){const i=Ut(this),o=tn(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?Bt(i):Vt(i)}return zt(i,n),Wt(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===gt&&(r=void 0),this.autoFreeze_&&Mt(r,!0),n){const t=[],i=[];Dt("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}bt(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ct(e)||bt(8),xt(e)&&(e=function(e){xt(e)||bt(10);return nn(e)}(e));const t=Ut(this),n=tn(e,void 0);return n[yt].isManual_=!0,Vt(t),n}finishDraft(e,t){const n=e&&e[yt];n&&n.isManual_||bt(9);const{scope_:r}=n;return zt(r,t),Wt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Dt("Patches").applyPatches_;return xt(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},on=rn.produce;rn.produceWithPatches.bind(rn),rn.setAutoFreeze.bind(rn),rn.setUseStrictShallowCopy.bind(rn),rn.applyPatches.bind(rn),rn.createDraft.bind(rn),rn.finishDraft.bind(rn);const an=e=>(t,n,r)=>(r.setState=(e,n,...r)=>{const i="function"==typeof e?on(e):e;return t(i,n,...r)},e(r.setState,n,r)),sn=e=>({casting:{instance:null,player:null,controller:null,setInstance(t){e((e=>{e.casting.instance=t}))},setPlayer(t){e((e=>{e.casting.player=t}))},setController(t){e((e=>{e.casting.controller=t}))},setIsCasting(t){e((e=>{e.interface.isCasting=t}))},clear(){e((e=>{e.casting.instance=null}))}}}),ln=Object.entries({unknown:0,360:10,480:20,720:30,1080:40,"4k":35}).sort(((e,t)=>t[1]-e[1])).map((e=>e[0]));function cn(e,t){if(t.automaticQuality||null===t.lastChosenQuality||"unknown"===t.lastChosenQuality)return ln.find((t=>e.includes(t)));const n=ln.indexOf(t.lastChosenQuality);let r;for(let i=n;i<ln.length;i+=1)if(e.includes(ln[i])){r=ln[i];break}if(r)return r;for(let i=n;i>=0;i-=1)if(e.includes(ln[i])){r=ln[i];break}return r}function un(e,t){if("hls"===e.type)return{stream:e,quality:null};if("file"===e.type){const n=cn(Object.entries(e.qualities).filter((e=>(e[1].url.length??0)>0)).map((e=>e[0])),t);if(n){const t=e.qualities[n];if(t)return{stream:t,quality:n}}}throw new Error("couldn't select quality")}const dn={"4k":"4K",1080:"1080p",360:"360p",480:"480p",720:"720p",unknown:"unknown"},fn=Object.keys(dn);function hn(e){return dn[e]}var pn={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object Object]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[o]=u["[object Map]"]=u["[object Number]"]=u[a]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof l&&l&&l.Object===Object&&l,f="object"==typeof self&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),p=t&&!t.nodeType&&t,m=p&&e&&!e.nodeType&&e,g=m&&m.exports===p,v=g&&d.process,y=function(){try{var e=m&&m.require&&m.require("util").types;return e||v&&v.binding&&v.binding("util")}catch(fs){}}(),b=y&&y.isTypedArray;var w,x=Array.prototype,C=Function.prototype,_=Object.prototype,k=h["__core-js_shared__"],S=C.toString,E=_.hasOwnProperty,j=(w=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",T=_.toString,N=S.call(Object),O=RegExp("^"+S.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=g?h.Buffer:void 0,L=h.Symbol,M=h.Uint8Array;A&&A.allocUnsafe;var R,P,I=(R=Object.getPrototypeOf,P=Object,function(e){return R(P(e))}),F=Object.create,D=_.propertyIsEnumerable,$=x.splice,z=L?L.toStringTag:void 0,B=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch(fs){}}(),V=A?A.isBuffer:void 0,U=Math.max,H=Date.now,W=fe(h,"Map"),q=fe(Object,"create"),G=function(){function e(){}return function(t){if(!ke(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new Q(e);this.size=t.size}function J(e,t){var n=be(e),r=!n&&ye(e),i=!n&&!r&&xe(e),o=!n&&!r&&!i&&Ee(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||he(c,l))||s.push(c);return s}function X(e,t,n){(void 0!==n&&!ve(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];E.call(e,t)&&ve(r,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Z.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(q){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:E.call(t,e)},Z.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q&&void 0===t?n:t,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),--this.size,!0)},Q.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},Q.prototype.has=function(e){return te(this.__data__,e)>-1},Q.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(W||Q),string:new Z}},K.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return de(this,e).get(e)},K.prototype.has=function(e){return de(this,e).has(e)},K.prototype.set=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new Q,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};var re=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e};function ie(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=E.call(e,z),n=e[z];try{e[z]=void 0;var r=!0}catch(fs){}var i=T.call(e);r&&(t?e[z]=n:delete e[z]);return i}(e):function(e){return T.call(e)}(e)}function oe(e){return Se(e)&&ie(e)==i}function ae(e){return!(!ke(e)||function(e){return!!j&&j in e}(e))&&(Ce(e)?O:s).test(function(e){if(null!=e){try{return S.call(e)}catch(fs){}try{return e+""}catch(fs){}}return""}(e))}function se(e){if(!ke(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=pe(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function le(e,t,n,r,i){e!==t&&re(t,(function(o,s){if(i||(i=new Y),ke(o))!function(e,t,n,r,i,o,s){var l=me(e,n),c=me(t,n),u=s.get(c);if(u)return void X(e,n,u);var d=o?o(l,c,n+"",e,t,s):void 0,f=void 0===d;if(f){var h=be(c),p=!h&&xe(c),m=!h&&!p&&Ee(c);d=c,h||p||m?be(l)?d=l:Se(g=l)&&we(g)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(l):p?(f=!1,d=c.slice()):m?(f=!1,d=function(e){var t=(n=e.buffer,r=new n.constructor(n.byteLength),new M(r).set(new M(n)),r);var n,r;return new e.constructor(t,e.byteOffset,e.length)}(c)):d=[]:function(e){if(!Se(e)||ie(e)!=a)return!1;var t=I(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==N}(c)||ye(c)?(d=l,ye(l)?d=function(e){return function(e,t,n){var r=!n;n||(n={});var i=-1,o=t.length;for(;++i<o;){var a=t[i],s=void 0;void 0===s&&(s=e[a]),r?ne(n,a,s):ee(n,a,s)}return n}(e,je(e))}(l):ke(l)&&!Ce(l)||(d=function(e){return"function"!=typeof e.constructor||pe(e)?{}:G(I(e))}(c))):f=!1}var g;f&&(s.set(c,d),i(d,c,r,o,s),s.delete(c));X(e,n,d)}(e,t,s,n,le,r,i);else{var l=r?r(me(e,s),o,s+"",e,t,i):void 0;void 0===l&&(l=o),X(e,s,l)}}),je)}function ce(e,t){return ge(function(e,t,n){return t=U(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=U(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Oe),e+"")}var ue=B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Oe;function de(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(n)?n:void 0}function he(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_)}function me(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,n=0;return function(){var r=H(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ue);function ve(e,t){return e===t||e!=e&&t!=t}var ye=oe(function(){return arguments}())?oe:function(e){return Se(e)&&E.call(e,"callee")&&!D.call(e,"callee")},be=Array.isArray;function we(e){return null!=e&&_e(e.length)&&!Ce(e)}var xe=V||function(){return!1};function Ce(e){if(!ke(e))return!1;var t=ie(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Se(e){return null!=e&&"object"==typeof e}var Ee=b?function(e){return function(t){return e(t)}}(b):function(e){return Se(e)&&_e(e.length)&&!!u[ie(e)]};function je(e){return we(e)?J(e):se(e)}var Te,Ne=(Te=function(e,t,n){le(e,t,n)},ce((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Te.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!ke(n))return!1;var r=typeof t;return!!("number"==r?we(n)&&he(t,n.length):"string"==r&&t in n)&&ve(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Te(e,a,n,i)}return e})));function Oe(e){return e}e.exports=Ne}(pn,pn.exports);const mn=a(pn.exports),gn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function vn(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const yn=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>yn(e)(n),catch(e){return this}}}catch(fs){return{then(e){return this},catch:t=>yn(t)(fs)}}},bn=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(gn?"production":void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const s=new Set,l=new Set;let c;try{c=o.getStorage()}catch(g){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)}),r,i);const u=yn(o.serialize),d=()=>{const e=o.partialize({...r()});let t;const n=u({state:e,version:o.version}).then((e=>c.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return n},f=i.setState;i.setState=(e,t)=>{f(e,t),d()};const h=e(((...e)=>{n(...e),d()}),r,i);let p;const m=()=>{var e;if(!c)return;a=!1,s.forEach((e=>e(r())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return yn(c.getItem.bind(c))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=o.merge(e,null!=(t=r())?t:h),n(p,!0),d()})).then((()=>{null==t||t(p,void 0),a=!0,l.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),p||h})(e,t)):((e,t)=>(n,r,i)=>{let o={storage:vn((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)}),r,i);const u=()=>{const e=o.partialize({...r()});return c.setItem(o.name,{state:e,version:o.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),u()};const f=e(((...e)=>{n(...e),u()}),r,i);let h;i.getInitialState=()=>f;const p=()=>{var e,t;if(!c)return;a=!1,s.forEach((e=>{var t;return e(null!=(t=r())?t:f)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=r())?e:f))||void 0;return yn(c.getItem.bind(c))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,a]=e;if(h=o.merge(a,null!=(t=r())?t:f),n(h,!0),i)return u()})).then((()=>{null==i||i(h,void 0),h=r(),a=!0,l.forEach((e=>e(h)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||p(),h||f})(e,t),wn=mt(bn(an((e=>({quality:{automaticQuality:!0,lastChosenQuality:null},setLastChosenQuality(t){e((e=>{e.quality.lastChosenQuality=t}))},setAutomaticQuality(t){e((e=>{e.quality.automaticQuality=t}))}}))),{name:"embed::quality",merge:(e,t)=>mn({},t,e)})),xn="idle",Cn="playing",_n="playbackError",kn=(e,t)=>({source:null,sourceId:null,qualities:[],audioTracks:[],captionList:[],currentQuality:null,currentAudioTrack:null,status:xn,meta:null,caption:{selected:null,asTrack:!1},setSourceId(t){e((e=>{e.status=Cn,e.sourceId=t}))},setStatus(t){e((e=>{e.status=t}))},setMeta(t,n){e((e=>{e.meta=t,e.interface.hideNextEpisodeBtn=!1,n&&(e.status=n)}))},addCaptionList(t){e((e=>{e.captionList.find((e=>e.id===t.id))||e.captionList.push(t)}))},setCaption(n){var r;null==(r=t().display)||r.setCaption(n),e((e=>{e.caption.selected=n}))},setSource(n,r,i){let o=[];"file"===n.type&&(o=Object.keys(n.qualities));const a=wn.getState(),s=un(n,a.quality);e((e=>{e.source=n,e.qualities=o,e.currentQuality=s.quality,e.captionList=r,e.interface.error=void 0,e.status=Cn,e.audioTracks=[],e.currentAudioTrack=null}));t().redisplaySource(i)},redisplaySource(n){var r;const i=t(),o=i.currentQuality;if(!i.source)return;const a=wn.getState(),s=un(i.source,{automaticQuality:a.quality.automaticQuality,lastChosenQuality:o});e((e=>{e.interface.error=void 0,e.status=Cn})),null==(r=i.display)||r.load({source:s.stream,startAt:n,automaticQuality:a.quality.automaticQuality,preferredQuality:a.quality.lastChosenQuality})},switchQuality(n){var r,i;const o=t();if(o.source)if("file"===o.source.type){const t=o.source.qualities[n];if(!t)return;e((e=>{e.currentQuality=n,e.status=Cn,e.interface.error=void 0})),null==(r=o.display)||r.load({source:t,startAt:o.progress.time,automaticQuality:!1,preferredQuality:n})}else"hls"===o.source.type&&(null==(i=o.display)||i.changeQuality(!1,n))},enableAutomaticQuality(){var e;null==(e=t().display)||e.changeQuality(!0,null)}}),Sn=(e,t)=>({display:null,setDisplay(n){const r=t().display;r&&r.destroy(),n?(n.on("pause",(()=>e((e=>{e.mediaPlaying.isPaused=!0,e.mediaPlaying.isPlaying=!1})))),n.on("play",(()=>e((e=>{e.mediaPlaying.hasPlayedOnce=!0,e.mediaPlaying.isPaused=!1,e.mediaPlaying.isPlaying=!0})))),n.on("fullscreen",(t=>e((e=>{e.interface.isFullscreen=t})))),n.on("time",(t=>e((e=>{e.progress.time=t})))),n.on("volumechange",(t=>e((e=>{e.mediaPlaying.volume=t})))),n.on("duration",(t=>e((e=>{e.progress.duration=t})))),n.on("buffered",(t=>e((e=>{e.progress.buffered=t})))),n.on("loading",(t=>e((e=>{e.mediaPlaying.isLoading=t})))),n.on("qualities",(t=>{e((e=>{e.qualities=t}))})),n.on("changedquality",(t=>{e((e=>{e.currentQuality=t}))})),n.on("audiotracks",(t=>{e((e=>{e.audioTracks=t}))})),n.on("changedaudiotrack",(t=>{e((e=>{e.currentAudioTrack=t}))})),n.on("needstrack",(t=>{e((e=>{e.caption.asTrack=t}))})),n.on("canairplay",(t=>{e((e=>{e.interface.canAirplay=t}))})),n.on("playbackrate",(t=>{e((e=>{e.mediaPlaying.playbackRate=t}))})),n.on("error",(t=>{e((e=>{e.status=_n,e.interface.error=t}))})),e((e=>{e.display=n}))):e((e=>{e.display=null}))},reset(){var n;null==(n=t().display)||n.load({source:null,startAt:0,automaticQuality:!1,preferredQuality:null}),e((e=>{e.status=xn,e.thumbnails.images=[],e.progress.time=0,e.progress.duration=0}))}});var En=(e=>(e[e.REGULAR=0]="REGULAR",e[e.REMAINING=1]="REMAINING",e))(En||{}),jn=(e=>(e.NOT_HOVERING="not_hovering",e.MOUSE_HOVER="mouse_hover",e.MOBILE_TAPPED="mobile_tapped",e))(jn||{});const Tn=(e,t)=>({interface:{isCasting:!1,hasOpenOverlay:!1,isFullscreen:!1,isSeeking:!1,lastVolume:0,leftControlHovering:!1,isHoveringControls:!1,hovering:"not_hovering",lastHoveringState:"not_hovering",volumeChangedWithKeybind:!1,volumeChangedWithKeybindDebounce:null,timeFormat:0,canAirplay:!1,hideNextEpisodeBtn:!1,shouldStartFromBeginning:!1},setShouldStartFromBeginning(t){e((e=>{e.interface.shouldStartFromBeginning=t}))},setLastVolume(t){e((e=>{e.interface.lastVolume=t}))},setHasOpenOverlay(t){e((e=>{e.interface.hasOpenOverlay=t}))},setTimeFormat(t){e((e=>{e.interface.timeFormat=t}))},updateInterfaceHovering(t){e((e=>{"not_hovering"!==t&&(e.interface.lastHoveringState=t),e.interface.hovering=t}))},setSeeking(n){const r=t().display;null==r||r.setSeeking(n),e((e=>{e.interface.isSeeking=n}))},setHoveringLeftControls(t){e((e=>{e.interface.leftControlHovering=t}))},setHoveringAnyControls(t){e((e=>{e.interface.isHoveringControls=t}))},hideNextEpisodeButton(){e((e=>{e.interface.hideNextEpisodeBtn=!0}))}}),Nn=e=>({mediaPlaying:{isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,hasPlayedOnce:!1,volume:1,playbackRate:1},play(){e((e=>{e.mediaPlaying.isPlaying=!0,e.mediaPlaying.isPaused=!1}))},pause(){e((e=>{e.mediaPlaying.isPlaying=!1,e.mediaPlaying.isPaused=!1}))}}),On=e=>({progress:{time:0,duration:0,buffered:0,draggingTime:0},setDraggingTime(t){e((e=>{e.progress.draggingTime=t}))}});const An=(e,t)=>({thumbnails:{images:[],resetImages(){e((e=>{e.thumbnails.images=[]}))},addImage(n){const r=t(),i=r.thumbnails.images.findIndex((e=>e.at>=n.at));if(-1===i)return void e((e=>{e.thumbnails.images.push(n),e.thumbnails.images=[...e.thumbnails.images]}));r.thumbnails.images[i].at!==n.at?e((e=>{e.thumbnails.images.splice(i,0,n),e.thumbnails.images=[...e.thumbnails.images]})):e((e=>{e.thumbnails.images[i]=n,e.thumbnails.images=[...e.thumbnails.images]}))}}}),Ln=mt(an(((...e)=>({...Tn(...e),...On(...e),...Nn(...e),...kn(...e),...Sn(...e),...sn(...e),...An(...e)})))),Mn=mt(bn(an((e=>({volume:2,setVolume(t){e((e=>{e.volume=t}))}}))),{name:"embed::volume"})),Rn=mt(an((e=>({showVolume:!1,setShowVolume(t){e((e=>{e.showVolume=t}))}}))));class Pn{constructor({name:e,build:t,detect:n,helper:r,parse:i}){this.name=e,this.helper=r,this.build=t,this.detect=e=>{if("string"!=typeof e)throw new TypeError(`Expected string, got ${typeof e}!`);return n(e)},this.parse=(e,t)=>{if("string"!=typeof e)throw new TypeError(`Expected string, got ${typeof e}!`);return i(e,t)}}}const In=e=>new Pn(e),Fn={toMilliseconds:e=>{const t=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new TypeError(`Invalid time format: ${e}`);return 3600*(t[1]?parseInt(t[1].replace(":","")):0)*1e3+60*parseInt(t[2],10)*1e3+1e3*parseInt(t[3],10)+10*(t[4]?parseInt(t[4],10):0)},toTimeString:e=>{const t=Math.floor(e/1e3/3600),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3%60),i=Math.floor(e%1e3/10);return`${t}:${n<10?"0":""}${n}:${r<10?"0":""}${r}.${i<10?"0":""}${i}`}},Dn=(e,t)=>{const n={};for(let r=0;r<e.length&&r<t.length;r++)n[e[r]]=t[r];return n},$n=(e,t)=>{var n;let r,i=null;const o=[],a=null!==(n=t.eol)&&void 0!==n?n:"\r\n",s=e.split(/\r?\n\s*\n/);for(const l of s){const e=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)$/.exec(l);if(e){const t=e[1],n=e[2].split(/\r?\n/);for(const e of n){if(/^\s*;/.test(e))continue;const n=/^\s*([^\s:]+):\s*(.*)$/.exec(e);if(n)if("Script Info"===t){if(r||(r={},r.type="meta",r.data={},o.push(r)),"object"!=typeof r.data)throw new TypeError(`Invalid meta data: ${e}`);{const e=n[1].trim(),t=n[2].trim();r.data[e]=t}}else if("V4 Styles"===t||"V4+ Styles"===t){const e=n[1].trim(),t=n[2].trim();if("Format"===e)i=t.split(/\s*,\s*/);else if("Style"===e&&i){const e=t.split(/\s*,\s*/),n={type:"style"};n.data=Dn(i,e),o.push(n)}}else if("Events"===t){const e=n[1].trim(),t=n[2].trim();if("Format"===e)i=t.split(/\s*,\s*/);else if("Dialogue"===e&&i){const e=t.split(/\s*,\s*/),n={type:"caption"};n.data=Dn(i,e),n.start=Fn.toMilliseconds(n.data.Start),n.end=Fn.toMilliseconds(n.data.End),n.duration=n.end-n.start,n.content=n.data.Text;const r=t.split(",",i.length-1).join(",").length+1+1;n.content=t.substring(r),n.data.Text=n.content,n.text=n.content.replace(/\\N/g,a).replace(/\{[^}]+\}/g,""),o.push(n)}}}}t.verbose&&console.warn("Unknown part",l)}return o},zn=(e,t)=>{var n;const r=null!==(n=t.eol)&&void 0!==n?n:"\r\n",i="ass"===t.format;let o="";o+=`[Script Info]${r}`,o+=`; Script generated by subsrt ${r}`,o+=`ScriptType: v4.00${i?"+":""}${r}`,o+=`Collisions: Normal${r}`,o+=r,i?(o+=`[V4+ Styles]${r}`,o+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding${r}`,o+=`Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0${r}`):(o+=`[V4 Styles]${r}`,o+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding${r}`,o+=`Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0${r}`),o+=r,o+=`[Events]${r}`,o+=`Format: ${i?"Layer":"Marked"}, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text${r}`;for(const a of e)"meta"!==a.type&&(a.type&&"caption"!==a.type?t.verbose&&console.log("SKIP:",a):o+=`Dialogue: ${i?"0":"Marked=0"},${Fn.toTimeString(a.start)},${Fn.toTimeString(a.end)},DefaultVCD, NTP,0000,0000,0000,,${a.text.replace(/\r?\n/g,"\\N")}${r}`);return o},Bn=e=>!(!/^\s*\[Script Info\]\r?\n/.test(e)||!/\s*\[Events\]\r?\n/.test(e))&&(e.indexOf("[V4+ Styles]")>0?"ass":"ssa"),Vn=In({name:"ssa",build:zn,detect:Bn,helper:Fn,parse:$n}),Un=In({name:"ass",build:zn,detect:Bn,helper:Fn,parse:$n}),Hn=In({name:"json",build:(e,t)=>JSON.stringify(e,void 0,2),detect:e=>{try{const t=JSON.parse(e);return Array.isArray(t)&&t.length>0&&"object"==typeof t[0]}catch(fs){return!1}},parse:(e,t)=>JSON.parse(e)}),Wn={toMilliseconds:e=>{const t=/^\s*(\d+):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new TypeError(`Invalid time format: ${e}`);return 60*parseInt(t[1],10)*1e3+1e3*parseInt(t[2],10)+10*(t[3]?parseInt(t[3],10):0)},toTimeString:e=>{const t=Math.floor(e/1e3/60),n=Math.floor(e/1e3%60),r=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${n<10?"0":""}${n}.${r<100?"0":""}${r<10?"0":Math.floor(r/10)}`}},qn=In({name:"lrc",build:(e,t)=>{var n;let r="",i=!1;const o=null!==(n=t.eol)&&void 0!==n?n:"\r\n";for(const a of e)"meta"!==a.type?a.type&&"caption"!==a.type?t.verbose&&console.log("SKIP:",a):(i||(r+=o,i=!0),r+=`[${Wn.toTimeString(a.start)}]${a.text}${o}`):a.tag&&a.data&&"string"==typeof a.data&&(r+=`[${a.tag}:${a.data.replace(/[\r\n]+/g," ")}]${o}`);return r},detect:e=>/\r?\n\[\d+:\d{1,2}(?:[.,]\d{1,3})?\].*\r?\n/.test(e),helper:Wn,parse:(e,t)=>{let n=null;const r=[],i=e.split(/\r?\n/);for(const o of i){if(!o||0===o.trim().length)continue;const e=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)(?:\r?\n)*$/.exec(o);if(e){const t={type:"caption"};t.start=Wn.toMilliseconds(e[1]),t.end=t.start+2e3,t.duration=t.end-t.start,t.content=e[2],t.text=t.content,r.push(t),n&&(n.end=t.start,n.duration=n.end-n.start),n=t;continue}const i=/^\[(\w+):([^\]]*)\](?:\r?\n)*$/.exec(o);if(i){const e={type:"meta"};e.tag=i[1],i[2]&&(e.data=i[2]),r.push(e)}else t.verbose&&console.warn("Unknown part",o)}return r}}),Gn={toMilliseconds:e=>{const t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new TypeError(`Invalid time format: ${e}`);return 3600*parseInt(t[1],10)*1e3+60*parseInt(t[2],10)*1e3+1e3*parseInt(t[3],10)+(t[4]?parseInt(t[4],10):0)},toTimeString:e=>{const t=Math.floor(e/1e3/3600),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${n<10?"0":""}${n}:${r<10?"0":""}${r}.${i<100?"0":""}${i<10?"0":""}${i}`}},Zn=In({name:"sbv",build:(e,t)=>{var n;let r="";const i=null!==(n=t.eol)&&void 0!==n?n:"\r\n";for(const o of e)o.type&&"caption"!==o.type?t.verbose&&console.log("SKIP:",o):(r+=`${Gn.toTimeString(o.start)},${Gn.toTimeString(o.end)}${i}`,r+=o.text+i,r+=i);return r},detect:e=>/\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(e),helper:Gn,parse:(e,t)=>{var n;const r=[],i=null!==(n=t.eol)&&void 0!==n?n:"\r\n",o=e.split(/\r?\n\s*\n/);for(const a of o){const e=/^(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(a);if(e){const t={type:"caption"};t.start=Gn.toMilliseconds(e[1]),t.end=Gn.toMilliseconds(e[2]),t.duration=t.end-t.start;const n=e[3].split(/\[br\]|\r?\n/i);t.content=n.join(i),t.text=t.content.replace(/>>[^:]+:\s*/g,""),r.push(t)}else t.verbose&&console.warn("Unknown part",a)}return r}}),Qn={htmlEncode:e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n/g,"<BR>"),htmlDecode:(e,t)=>e.replace(/<BR\s*\/?>/gi,t||"\r\n").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Kn=In({name:"smi",build:(e,t)=>{var n,r,i,o;const a=null!==(n=t.eol)&&void 0!==n?n:"\r\n";let s="";s+=`<SAMI>${a}`,s+=`<HEAD>${a}`,s+=`<TITLE>${null!==(r=t.title)&&void 0!==r?r:""}</TITLE>${a}`,s+=`<STYLE TYPE="text/css">${a}`,s+=`\x3c!--${a}`,s+=`P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }${a}`,s+=`.LANG { Name: ${null!==(i=t.langName)&&void 0!==i?i:"English"}; lang: ${null!==(o=t.langCode)&&void 0!==o?o:"en-US"}; SAMIType: CC; }${a}`,s+=`--\x3e${a}`,s+=`</STYLE>${a}`,s+=`</HEAD>${a}`,s+=`<BODY>${a}`;for(const l of e)"meta"!==l.type&&(l.type&&"caption"!==l.type?t.verbose&&console.log("SKIP:",l):(s+=`<SYNC Start=${l.start}>${a}`,s+=`  <P Class=LANG>${Qn.htmlEncode(l.text||"")}${t.closeTags?"</P>":""}${a}`,t.closeTags&&(s+=`</SYNC>${a}`),s+=`<SYNC Start=${l.end}>${a}`,s+=`  <P Class=LANG>&nbsp;${t.closeTags?"</P>":""}${a}`,t.closeTags&&(s+=`</SYNC>${a}`)));return s+=`</BODY>${a}`,s+=`</SAMI>${a}`,s},detect:e=>/<SAMI[^>]*>[\s\S]*<BODY[^>]*>/.test(e),helper:Qn,parse:(e,t)=>{var n,r;if(t.format&&"smi"!==t.format)throw new TypeError(`Invalid format: ${t.format}`);const i=[],o=null!==(n=t.eol)&&void 0!==n?n:"\r\n",a=/<TITLE[^>]*>([\s\S]*)<\/TITLE>/i.exec(e);if(a){const e={type:"meta",name:"title"};e.data=a[1].replace(/^\s*/g,"").replace(/\s*$/g,""),i.push(e)}const s=/<STYLE[^>]*>([\s\S]*)<\/STYLE>/i.exec(e);if(s){const e={type:"meta",name:"style"};e.data=s[1],i.push(e)}let l=null;const c=e.replace(/^[\s\S]*<BODY[^>]*>/gi,"").replace(/<\/BODY[^>]*>[\s\S]*$/gi,"").split(/<SYNC/i);for(const u of c){if(!u||0===u.trim().length)continue;const e=/^<SYNC[^>]+Start\s*=\s*["']?(\d+)[^\d>]*>([\s\S]*)/i.exec(`<SYNC${u}`);if(e){const n={type:"caption"};n.start=parseInt(e[1],10),n.end=n.start+2e3,n.duration=n.end-n.start,n.content=e[2].replace(/^<\/SYNC[^>]*>/gi,"");let a=!0;const s=null!==(r=/^<P.+Class\s*=\s*["']?([\w-]+)(?: .*)?>([\s\S]*)/i.exec(n.content))&&void 0!==r?r:/^<P([^>]*)>([\s\S]*)/i.exec(n.content);if(s){let e=s[2].replace(/<P[\s\S]+$/gi,"");e=e.replace(/<BR\s*\/?>\s+/gi,o).replace(/<BR\s*\/?>/gi,o).replace(/<[^>]+>/g,""),e=e.replace(/^\s+/g,"").replace(/\s+$/g,""),a=0===e.replace(/&nbsp;/gi," ").replace(/\s+/g,"").length,n.text=Qn.htmlDecode(e,o)}!t.preserveSpaces&&a?t.verbose&&console.log(`INFO: Skipping white space caption at ${n.start}`):i.push(n),l&&(l.end=n.start,l.duration=l.end-l.start),l=n}else t.verbose&&console.warn("Unknown part",u)}return i}}),Yn={toMilliseconds:e=>{const t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new TypeError(`Invalid time format: ${e}`);return 3600*parseInt(t[1],10)*1e3+60*parseInt(t[2],10)*1e3+1e3*parseInt(t[3],10)+(t[4]?parseInt(t[4],10):0)},toTimeString:e=>{const t=Math.floor(e/1e3/3600),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${n<10?"0":""}${n}:${r<10?"0":""}${r},${i<100?"0":""}${i<10?"0":""}${i}`}},Jn=In({name:"srt",build:(e,t)=>{var n;let r="";const i=null!==(n=t.eol)&&void 0!==n?n:"\r\n";for(let o=0;o<e.length;o++){const n=e[o];n.type&&"caption"!==n.type?t.verbose&&console.log("SKIP:",n):(r+=(o+1).toString()+i,r+=`${Yn.toTimeString(n.start)} --\x3e ${Yn.toTimeString(n.end)}${i}`,r+=n.text+i,r+=i)}return r},detect:e=>/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*-->\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(e),helper:Yn,parse:(e,t)=>{var n;const r=[],i=null!==(n=t.eol)&&void 0!==n?n:"\r\n",o=e.split(/\r?\n\s*\n/);for(const a of o){const e=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(a);if(e){const t={type:"caption"};t.index=parseInt(e[1],10),t.start=Yn.toMilliseconds(e[2]),t.end=Yn.toMilliseconds(e[3]),t.duration=t.end-t.start;const n=e[4].split(/\r?\n/);t.content=n.join(i),t.text=t.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,"").replace(/>>[^:]*:\s*/g,""),r.push(t)}else t.verbose&&console.warn("Unknown part",a)}return r}}),Xn=In({name:"sub",build:(e,t)=>{var n,r;const i=(null!==(n=t.fps)&&void 0!==n?n:0)>0?t.fps:25;let o="";const a=null!==(r=t.eol)&&void 0!==r?r:"\r\n";for(const s of e)if(s.type&&"caption"!==s.type)t.verbose&&console.log("SKIP:",s);else{o+=`{${"object"==typeof s.frame&&s.frame.start>=0?s.frame.start:s.start*i}}{${"object"==typeof s.frame&&s.frame.end>=0?s.frame.end:s.end*i}}${s.text.replace(/\r?\n/,"|")}${a}`}return o},detect:e=>/^\{\d+\}\{\d+\}.*/.test(e),parse:(e,t)=>{var n;t.fps||(t.fps=25);const r=t.fps>0?t.fps:25,i=[],o=null!==(n=t.eol)&&void 0!==n?n:"\r\n",a=e.split(/\r?\n/);for(let s=0;s<a.length;s++){const e=/^\{(\d+)\}\{(\d+)\}(.*)$/.exec(a[s]);if(e){const t={type:"caption"};t.index=s+1,t.frame={start:parseInt(e[1],10),end:parseInt(e[2],10),count:parseInt(e[2])-parseInt(e[1],10)},t.start=Math.round(t.frame.start/r),t.end=Math.round(t.frame.end/r),t.duration=t.end-t.start;const n=e[3].split(/\|/);t.content=n.join(o),t.text=t.content.replace(/\{[^}]+\}/g,""),i.push(t)}else t.verbose&&console.warn("Unknown part",a[s])}return i}}),er={toMilliseconds:e=>{const t=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new TypeError(`Invalid time format: ${e}`);return 3600*(t[1]?parseInt(t[1].replace(":","")):0)*1e3+60*parseInt(t[2],10)*1e3+1e3*parseInt(t[3],10)+(t[4]?parseInt(t[4],10):0)},toTimeString:e=>{const t=Math.floor(e/1e3/3600),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${n<10?"0":""}${n}:${r<10?"0":""}${r}.${i<100?"0":""}${i<10?"0":""}${i}`}},tr={vtt:In({name:"vtt",build:(e,t)=>{var n;const r=null!==(n=t.eol)&&void 0!==n?n:"\r\n";let i=`WEBVTT${r}${r}`;for(let o=0;o<e.length;o++){const n=e[o];if("meta"!==n.type)n.type&&"caption"!==n.type?t.verbose&&console.log("SKIP:",n):(i+=(o+1).toString()+r,i+=`${er.toTimeString(n.start)} --\x3e ${er.toTimeString(n.end)}${r}`,i+=n.text+r,i+=r);else{if("WEBVTT"===n.name)continue;i+=n.name+r,i+="string"==typeof n.data?n.data+r:"",i+=r}}return i},detect:e=>/^\s*WEBVTT\r?\n/.test(e),helper:er,parse:(e,t)=>{var n;let r=1;const i=[],o=e.split(/\r?\n\s*\n/);for(const a of o){const e=/^([^\r\n]+\r?\n)?((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)[^\S\r\n]?.*\r?\n([\s\S]*)$/.exec(a);if(e){const t={type:"caption"};t.index=r++,e[1]&&(t.cue=e[1].replace(/[\r\n]*/g,"")),t.start=er.toMilliseconds(e[2]),t.end=er.toMilliseconds(e[3]),t.duration=t.end-t.start,t.content=e[4],t.text=t.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,""),i.push(t);continue}const o=null!==(n=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(a))&&void 0!==n?n:/^([A-Z]+)\s+([^\r\n]*)$/.exec(a);if(o){const e={type:"meta"};e.name=o[1],o[3]&&(e.data=o[3]),i.push(e)}else t.verbose&&console.warn("Unknown part",a)}return i}}),lrc:qn,smi:Kn,ssa:Vn,ass:Un,sub:Xn,srt:Jn,sbv:Zn,json:Hn};const nr=new class{constructor(){this.format=tr,this.list=()=>Object.keys(this.format),this.detect=e=>{const t=this.list();for(const n of t){const t=this.format[n];if(void 0===t)continue;if("function"!=typeof t.detect)continue;const r=t.detect(e);if(!0===r||r===n)return n}return""},this.parse=(e,t={})=>{var n;const r=null!==(n=t.format)&&void 0!==n?n:this.detect(e);if(!r||0===r.trim().length)throw new TypeError("Cannot determine subtitle format");const i=this.format[r];if(void 0===i)throw new TypeError(`Unsupported subtitle format: ${r}`);const o=i.parse;if("function"!=typeof o)throw new TypeError(`Subtitle format does not support 'parse' op: ${r}`);return o(e,t)},this.build=(e,t={})=>{const n=t.format||"srt";if(!n||0===n.trim().length)throw new TypeError("Cannot determine subtitle format");const r=this.format[n];if(void 0===r)throw new TypeError(`Unsupported subtitle format: ${n}`);const i=r.build;if("function"!=typeof i)throw new TypeError(`Subtitle format does not support 'build' op: ${n}`);return i(e,t)},this.convert=(e,t={})=>{var n;let r={};"string"==typeof t?r.to=t:r=t;const i={format:null!==(n=r.from)&&void 0!==n?n:void 0,verbose:r.verbose,eol:r.eol};let o=this.parse(e,i);r.resync&&(o=this.resync(o,r.resync));const a={format:r.to||r.format,verbose:r.verbose,eol:r.eol};return this.build(o,a)},this.resync=(e,t={})=>{var n,r,i,o;let a,s,l,c=!1;if("function"==typeof t)a=t;else if("number"==typeof t)l=t,a=e=>[e[0]+l,e[1]+l];else{if("object"!=typeof t)throw new TypeError("Argument 'options' not defined");l=(null!==(n=t.offset)&&void 0!==n?n:0)*(t.frame?null!==(r=t.fps)&&void 0!==r?r:25:1),s=null!==(i=t.ratio)&&void 0!==i?i:1,c=null!==(o=t.frame)&&void 0!==o&&o,a=e=>[Math.round(e[0]*s+l),Math.round(e[1]*s+l)]}const u=[];for(const f of e){const e=(d=f,JSON.parse(JSON.stringify(d)));if(!e.type||"caption"===e.type)if(c&&e.frame){const t=a([e.frame.start,e.frame.end]);t&&2===t.length&&(e.frame.start=t[0],e.frame.end=t[1],e.frame.count=e.frame.end-e.frame.start)}else{const t=a([e.start,e.end]);t&&2===t.length&&(e.start=t[0],e.end=t[1],e.duration=e.end-e.start)}u.push(e)}var d;return u}}},{format:rr,list:ir,detect:or,parse:ar,build:sr,convert:lr,resync:cr}=nr,{entries:ur,setPrototypeOf:dr,isFrozen:fr,getPrototypeOf:hr,getOwnPropertyDescriptor:pr}=Object;let{freeze:mr,seal:gr,create:vr}=Object,{apply:yr,construct:br}="undefined"!=typeof Reflect&&Reflect;mr||(mr=function(e){return e}),gr||(gr=function(e){return e}),yr||(yr=function(e,t,n){return e.apply(t,n)}),br||(br=function(e,t){return new e(...t)});const wr=Mr(Array.prototype.forEach),xr=Mr(Array.prototype.pop),Cr=Mr(Array.prototype.push),_r=Mr(String.prototype.toLowerCase),kr=Mr(String.prototype.toString),Sr=Mr(String.prototype.match),Er=Mr(String.prototype.replace),jr=Mr(String.prototype.indexOf),Tr=Mr(String.prototype.trim),Nr=Mr(Object.prototype.hasOwnProperty),Or=Mr(RegExp.prototype.test),Ar=(Lr=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return br(Lr,t)});var Lr;function Mr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return yr(e,t,r)}}function Rr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_r;dr&&dr(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(fr(t)||(t[r]=e),i=e)}e[i]=!0}return e}function Pr(e){for(let t=0;t<e.length;t++){Nr(e,t)||(e[t]=null)}return e}function Ir(e){const t=vr(null);for(const[n,r]of ur(e)){Nr(e,n)&&(Array.isArray(r)?t[n]=Pr(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Ir(r):t[n]=r)}return t}function Fr(e,t){for(;null!==e;){const n=pr(e,t);if(n){if(n.get)return Mr(n.get);if("function"==typeof n.value)return Mr(n.value)}e=hr(e)}return function(){return null}}const Dr=mr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$r=mr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zr=mr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Br=mr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vr=mr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ur=mr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hr=mr(["#text"]),Wr=mr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qr=mr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gr=mr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zr=mr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qr=gr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Kr=gr(/<%[\w\W]*|[\w\W]*%>/gm),Yr=gr(/\${[\w\W]*}/gm),Jr=gr(/^data-[\-\w.\u00B7-\uFFFF]/),Xr=gr(/^aria-[\-\w]+$/),ei=gr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ti=gr(/^(?:\w+script|data):/i),ni=gr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ri=gr(/^html$/i),ii=gr(/^[a-z][.\w]*(-[.\w]+)+$/i);var oi=Object.freeze({__proto__:null,MUSTACHE_EXPR:Qr,ERB_EXPR:Kr,TMPLIT_EXPR:Yr,DATA_ATTR:Jr,ARIA_ATTR:Xr,IS_ALLOWED_URI:ei,IS_SCRIPT_OR_DATA:ti,ATTR_WHITESPACE:ni,DOCTYPE_NAME:ri,CUSTOM_ELEMENT:ii});const ai=1,si=3,li=7,ci=8,ui=9;var di=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.1.6",n.removed=[],!t||!t.document||t.document.nodeType!==ui)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=t,m=c.prototype,g=Fr(m,"cloneNode"),v=Fr(m,"remove"),y=Fr(m,"nextSibling"),b=Fr(m,"childNodes"),w=Fr(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let x,C="";const{implementation:_,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:E}=r,{importNode:j}=i;let T={};n.isSupported="function"==typeof ur&&"function"==typeof w&&_&&void 0!==_.createHTMLDocument;const{MUSTACHE_EXPR:N,ERB_EXPR:O,TMPLIT_EXPR:A,DATA_ATTR:L,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:I}=oi;let{IS_ALLOWED_URI:F}=oi,D=null;const $=Rr({},[...Dr,...$r,...zr,...Vr,...Hr]);let z=null;const B=Rr({},[...Wr,...qr,...Gr,...Zr]);let V=Object.seal(vr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,H=null,W=!0,q=!0,G=!1,Z=!0,Q=!1,K=!0,Y=!1,J=!1,X=!1,ee=!1,te=!1,ne=!1,re=!0,ie=!1,oe=!0,ae=!1,se={},le=null;const ce=Rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=Rr({},["audio","video","img","source","image","track"]);let fe=null;const he=Rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,ye=!1,be=null;const we=Rr({},[pe,me,ge],kr);let xe=null;const Ce=["application/xhtml+xml","text/html"];let _e=null,ke=null;const Se=r.createElement("form"),Ee=function(e){return e instanceof RegExp||e instanceof Function},je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ke||ke!==e){if(e&&"object"==typeof e||(e={}),e=Ir(e),xe=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,_e="application/xhtml+xml"===xe?kr:_r,D=Nr(e,"ALLOWED_TAGS")?Rr({},e.ALLOWED_TAGS,_e):$,z=Nr(e,"ALLOWED_ATTR")?Rr({},e.ALLOWED_ATTR,_e):B,be=Nr(e,"ALLOWED_NAMESPACES")?Rr({},e.ALLOWED_NAMESPACES,kr):we,fe=Nr(e,"ADD_URI_SAFE_ATTR")?Rr(Ir(he),e.ADD_URI_SAFE_ATTR,_e):he,ue=Nr(e,"ADD_DATA_URI_TAGS")?Rr(Ir(de),e.ADD_DATA_URI_TAGS,_e):de,le=Nr(e,"FORBID_CONTENTS")?Rr({},e.FORBID_CONTENTS,_e):ce,U=Nr(e,"FORBID_TAGS")?Rr({},e.FORBID_TAGS,_e):{},H=Nr(e,"FORBID_ATTR")?Rr({},e.FORBID_ATTR,_e):{},se=!!Nr(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Q=e.SAFE_FOR_TEMPLATES||!1,K=!1!==e.SAFE_FOR_XML,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,oe=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||ei,ve=e.NAMESPACE||ge,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(q=!1),te&&(ee=!0),se&&(D=Rr({},Hr),z=[],!0===se.html&&(Rr(D,Dr),Rr(z,Wr)),!0===se.svg&&(Rr(D,$r),Rr(z,qr),Rr(z,Zr)),!0===se.svgFilters&&(Rr(D,zr),Rr(z,qr),Rr(z,Zr)),!0===se.mathMl&&(Rr(D,Vr),Rr(z,Gr),Rr(z,Zr))),e.ADD_TAGS&&(D===$&&(D=Ir(D)),Rr(D,e.ADD_TAGS,_e)),e.ADD_ATTR&&(z===B&&(z=Ir(z)),Rr(z,e.ADD_ATTR,_e)),e.ADD_URI_SAFE_ATTR&&Rr(fe,e.ADD_URI_SAFE_ATTR,_e),e.FORBID_CONTENTS&&(le===ce&&(le=Ir(le)),Rr(le,e.FORBID_CONTENTS,_e)),oe&&(D["#text"]=!0),Y&&Rr(D,["html","head","body"]),D.table&&(Rr(D,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ar('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ar('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,C=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(p,o)),null!==x&&"string"==typeof C&&(C=x.createHTML(""));mr&&mr(e),ke=e}},Te=Rr({},["mi","mo","mn","ms","mtext"]),Ne=Rr({},["foreignobject","annotation-xml"]),Oe=Rr({},["title","style","font","a","script"]),Ae=Rr({},[...$r,...zr,...Br]),Le=Rr({},[...Vr,...Ur]),Me=function(e){Cr(n.removed,{element:e});try{w(e).removeChild(e)}catch(t){v(e)}},Re=function(e,t){try{Cr(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){Cr(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!z[e])if(ee||te)try{Me(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Pe=function(e){let t=null,n=null;if(X)e="<remove></remove>"+e;else{const t=Sr(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===xe&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=x?x.createHTML(e):e;if(ve===ge)try{t=(new h).parseFromString(i,xe)}catch(a){}if(!t||!t.documentElement){t=_.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ye?C:i}catch(a){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),ve===ge?E.call(t,Y?"html":"body")[0]:Y?t.documentElement:o},Ie=function(e){return k.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Fe=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},De=function(e){return"function"==typeof l&&e instanceof l},$e=function(e,t,r){T[e]&&wr(T[e],(e=>{e.call(n,t,r,ke)}))},ze=function(e){let t=null;if($e("beforeSanitizeElements",e,null),Fe(e))return Me(e),!0;const r=_e(e.nodeName);if($e("uponSanitizeElement",e,{tagName:r,allowedTags:D}),e.hasChildNodes()&&!De(e.firstElementChild)&&Or(/<[/\w]/g,e.innerHTML)&&Or(/<[/\w]/g,e.textContent))return Me(e),!0;if(e.nodeType===li)return Me(e),!0;if(K&&e.nodeType===ci&&Or(/<[/\w]/g,e.data))return Me(e),!0;if(!D[r]||U[r]){if(!U[r]&&Ve(r)){if(V.tagNameCheck instanceof RegExp&&Or(V.tagNameCheck,r))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(r))return!1}if(oe&&!le[r]){const t=w(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return Me(e),!0}return e instanceof c&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=_r(e.tagName),r=_r(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===pe?"svg"===n&&("annotation-xml"===r||Te[r]):Boolean(Ae[n]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&Ne[r]:Boolean(Le[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!Ne[r])&&!(t.namespaceURI===pe&&!Te[r])&&!Le[n]&&(Oe[n]||!Ae[n]):!("application/xhtml+xml"!==xe||!be[e.namespaceURI]))}(e)?(Me(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Or(/<\/no(script|embed|frames)/i,e.innerHTML)?(Q&&e.nodeType===si&&(t=e.textContent,wr([N,O,A],(e=>{t=Er(t,e," ")})),e.textContent!==t&&(Cr(n.removed,{element:e.cloneNode()}),e.textContent=t)),$e("afterSanitizeElements",e,null),!1):(Me(e),!0)},Be=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Se))return!1;if(q&&!H[t]&&Or(L,t));else if(W&&Or(M,t));else if(!z[t]||H[t]){if(!(Ve(e)&&(V.tagNameCheck instanceof RegExp&&Or(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&Or(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Or(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(fe[t]);else if(Or(F,Er(n,P,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==jr(n,"data:")||!ue[e]){if(G&&!Or(R,Er(n,P,"")));else if(n)return!1}else;return!0},Ve=function(e){return"annotation-xml"!==e&&Sr(e,I)},Ue=function(e){$e("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};let i=t.length;for(;i--;){const a=t[i],{name:s,namespaceURI:l,value:c}=a,u=_e(s);let d="value"===s?c:Tr(c);if(r.attrName=u,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,$e("uponSanitizeAttribute",e,r),d=r.attrValue,K&&Or(/((--!?|])>)|<\/(style|title)/i,d)){Re(s,e);continue}if(r.forceKeepAttr)continue;if(Re(s,e),!r.keepAttr)continue;if(!Z&&Or(/\/>/i,d)){Re(s,e);continue}Q&&wr([N,O,A],(e=>{d=Er(d,e," ")}));const f=_e(e.nodeName);if(Be(f,u,d)){if(!ie||"id"!==u&&"name"!==u||(Re(s,e),d="user-content-"+d),x&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(f,u)){case"TrustedHTML":d=x.createHTML(d);break;case"TrustedScriptURL":d=x.createScriptURL(d)}try{l?e.setAttributeNS(l,s,d):e.setAttribute(s,d),Fe(e)?Me(e):xr(n.removed)}catch(o){}}}$e("afterSanitizeAttributes",e,null)},He=function e(t){let n=null;const r=Ie(t);for($e("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)$e("uponSanitizeShadowNode",n,null),ze(n)||(n.content instanceof a&&e(n.content),Ue(n));$e("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,c=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!De(e)){if("function"!=typeof e.toString)throw Ar("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ar("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||je(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=_e(e.nodeName);if(!D[t]||U[t])throw Ar("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Pe("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),o.nodeType===ai&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!ee&&!Q&&!Y&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(r=Pe(e),!r)return ee?null:ne?C:""}r&&X&&Me(r.firstChild);const u=Ie(ae?e:r);for(;s=u.nextNode();)ze(s)||(s.content instanceof a&&He(s.content),Ue(s));if(ae)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=j.call(i,c,!0)),c}let d=Y?r.outerHTML:r.innerHTML;return Y&&D["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Or(ri,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Q&&wr([N,O,A],(e=>{d=Er(d,e," ")})),x&&ne?x.createHTML(d):d},n.setConfig=function(){je(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){ke=null,J=!1},n.isValidAttribute=function(e,t,n){ke||je({});const r=_e(e),i=_e(t);return Be(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],Cr(T[e],t))},n.removeHook=function(e){if(T[e])return xr(T[e])},n.removeHooks=function(e){T[e]&&(T[e]=[])},n.removeAllHooks=function(){T={}},n}();const fi=di.sanitize;function hi(e){const t=e.trim();if(""===t)throw new Error("Given text is empty");const n=lr(t,"vtt");if(""===or(n))throw new Error("Invalid subtitle format");return n}function pi(e,t){return function(e){return ar(e).filter((e=>"caption"===e.type))}(hi(e))}function mi(e){return e.map((e=>({id:e.file,language:e.label,languageName:e.label,url:e.file,needsProxy:!1,opensubtitles:!1,type:"vtt"})))}const gi=ir().map((e=>`.${e}`)),vi=new class{constructor(){this.INTERVAL_MS=12e4,this._interval=null,this._compare=null,this._storage=[]}initialize(){if(this._interval)throw new Error("cache is already initialized");this._interval=setInterval((()=>{const e=new Date;this._storage.filter((t=>!(t.expiry<e)))}),this.INTERVAL_MS)}destroy(){this._interval&&clearInterval(this._interval),this.clear()}setCompare(e){this._compare=e}has(e){return!!this.get(e)}get(e){if(!this._compare)throw new Error("Compare function not set");const t=this._storage.find((t=>this._compare&&this._compare(t.key,e)));if(t)return t.value}set(e,t,n){if(!this._compare)throw new Error("Compare function not set");const r=this._storage.find((t=>this._compare&&this._compare(t.key,e))),i=new Date((new Date).getTime()+1e3*n);if(r)return r.key=e,r.value=t,void(r.expiry=i);this._storage.push({key:e,value:t,expiry:i})}remove(e){if(!this._compare)throw new Error("Compare function not set");this._storage.filter((t=>!this._compare||!this._compare(t.key,e)))}clear(){this._storage=[]}};vi.setCompare(((e,t)=>e===t));async function yi(e){const t=vi.get(e.url);if(t)return t;let n;if(n=await fetch(e.url).then((e=>e.text())),!n)throw new Error("failed to get caption data");const r=function(e){const t=e.trim();if(""===t)throw new Error("Given text is empty");const n=lr(t,"srt");if(""===or(n))throw new Error("Invalid subtitle format");return n}(n);return vi.set(e.url,r,86400),r}const bi=mt(bn(an((e=>({enabled:!1,lastSync:{lastSelectedLanguage:null},lastSelectedLanguage:null,isOpenSubtitles:!1,overrideCasing:!1,delay:0,styling:{color:"#ffffff",backgroundOpacity:.5,size:1,backgroundBlur:.5,bold:!1},resetSubtitleSpecificSettings(){e((e=>{e.delay=0,e.overrideCasing=!1}))},updateStyling(t){e((e=>{void 0!==t.backgroundOpacity&&(e.styling.backgroundOpacity=Math.min(1,Math.max(0,t.backgroundOpacity))),void 0!==t.backgroundBlur&&(e.styling.backgroundBlur=Math.min(1,Math.max(0,t.backgroundBlur))),void 0!==t.color&&(e.styling.color=t.color.toLowerCase()),void 0!==t.size&&(e.styling.size=Math.min(10,Math.max(.01,t.size))),void 0!==t.bold&&(e.styling.bold=t.bold)}))},setLanguage(t){e((e=>{e.enabled=!!t,t&&(e.lastSelectedLanguage=t)}))},setIsOpenSubtitles(t){e((e=>{e.isOpenSubtitles=t}))},setCustomSubs(){e((e=>{e.enabled=!0,e.lastSelectedLanguage=null}))},setOverrideCasing(t){e((e=>{e.overrideCasing=t}))},setDelay(t){e((e=>{e.delay=Math.max(Math.min(500,t),-500)}))},importSubtitleLanguage(t){e((e=>{e.lastSelectedLanguage=t,e.lastSync.lastSelectedLanguage=t}))}}))),{name:"embed::subtitles",merge:(e,t)=>mn({},t,e)}));function wi(){const e=bi((e=>e.setLanguage)),t=bi((e=>e.enabled)),n=bi((e=>e.resetSubtitleSpecificSettings)),r=Ln((e=>e.setCaption)),o=bi((e=>e.lastSelectedLanguage)),a=bi((e=>e.setIsOpenSubtitles)),s=Ln((e=>e.captionList)),l=Ln((e=>e.addCaptionList)),c=Ln((e=>{var t;return null==(t=e.display)?void 0:t.getCaptionList})),u=Object.entries({afr:"Afrikaans",alb:"Albanian",ara:"Arabic",arg:"Aragonese",arm:"Armenian",asm:"Assamese",aze:"Azerbaijani",baq:"Basque",ben:"Bengali",bul:"Bulgarian",zhc:"Chinese(Cantonese)",chi:"Chinese(simplified)",zht:"Chinese(traditional)",hrv:"Croatian",cze:"Czech",dan:"Danish",dut:"Dutch",eng:"English",est:"Estonian",fin:"Finnish",fre:"French",geo:"Georgian",ger:"German",ell:"Greek",heb:"Hebrew",hin:"Hindi",hun:"Hungarian",ind:"Indonesian",gle:"Irish",ita:"Italian",jpn:"Japanese",kan:"Kannada",kaz:"Kazakh",kor:"Korean",mal:"Malayalam",mni:"Manipuri",mon:"Mongolian",nav:"Navajo",nep:"Nepali",nor:"Norwegian",per:"Persian",pol:"Polish",por:"Portuguese",pus:"Pushto",rum:"Romanian",rus:"Russian",scc:"Serbian",slv:"Slovenian",som:"Somali",spa:"Spanish",swe:"Swedish",tgl:"Tagalog",tam:"Tamil",tel:"Telugu",tha:"Thai",tur:"Turkish",ukr:"Ukrainian",urd:"Urdu",uzb:"Uzbek",vie:"Vietnamese"}).map((e=>({value:e[0],label:e[1]}))),d=i.useMemo((()=>0!==s.length?s:(null==c?void 0:c())??u.map((e=>({id:e.value,language:e.label,url:e.value,srtData:""})))),[s,c]),f=i.useCallback((async(t,i)=>{let o=d.find((e=>e.id===t));if(!o&&i&&(l(i),o={...i,opensubtitles:!0}),!o)return void console.error("Caption not found, and no new caption provided");const s={id:o.id,language:o.language,url:o.url,srtData:""};try{const e=await yi(o);s.srtData=e}catch(c){return void console.error("Failed to download caption:",c)}a(!!o.opensubtitles),r(s),n(),e(o.language)}),[a,e,d,r,n]),h=i.useCallback((async e=>{const t=d.find((t=>t.language===e));if(t)return f(t.id)}),[d,f]),p=i.useCallback((async()=>{a(!1),r(null),e(null)}),[r,e,a]),m=i.useCallback((async()=>{const e=o??"en";return await h(e),!0}),[o,h]),g=i.useCallback((async()=>{t?p():await m()}),[m,p,t]),v=i.useCallback((async()=>{t&&await m()}),[m,t]);return{subCodes:u,selectLanguage:h,disable:p,selectLastUsedLanguage:m,toggleLastUsed:g,selectLastUsedLanguageIfEnabled:v,selectCaptionById:f}}function xi(){const e=Ln((e=>e.setStatus)),t=Ln((e=>e.setMeta)),n=Ln((e=>e.setSource)),r=Ln((e=>e.setCaption)),o=Ln((e=>e.setSourceId)),a=Ln((e=>e.status)),s=Ln((e=>e.interface.shouldStartFromBeginning)),l=Ln((e=>e.setShouldStartFromBeginning)),c=Ln((e=>e.reset)),u=Ln((e=>e.meta)),{init:d}=function(){const e=Ln((e=>e.display)),t=Mn((e=>e.volume));return{init:i.useCallback((()=>{null==e||e.setVolume(t)}),[e,t])}}();return{meta:u,reset:c,status:a,shouldStartFromBeginning:s,setShouldStartFromBeginning:l,setMeta(e,n){t(e,n)},playMedia(t,i,a,s){const l=s??0;r(null),n(t,i,l),o(a),e(Cn),d()}}}function Ci(){const{meta:e,setMeta:t}=xi(),n=i.useMemo((()=>e),[e]),r=i.useCallback((e=>{t(e,Cn)}),[t]),o=i.useCallback((e=>{let t;return t="tv"===e.type?{id:e.id,type:"tv",title:e.title,currentSeason:Number(e.currentSeason),currentEpisode:Number(e.currentEpisode),poster:e.poster||null,watchId:e.episodeId,dateAdded:Date.now(),seasons:e.seasons}:{id:e.id,type:"movie",title:e.title,poster:e.poster||null,watchId:e.episodeId,dateAdded:Date.now()},r(t),t}),[r]);return{playerMeta:e,setPlayerMeta:o,setDirectMeta:r,scrapeMedia:n}}var _i=function(){return _i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_i.apply(this,arguments)};function ki(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r,o,a=i.useRef(0),s=(r=i.useRef(!1),o=i.useCallback((function(){return r.current}),[]),i.useEffect((function(){return r.current=!0,function(){r.current=!1}}),[]),o),l=i.useState(n),c=l[0],u=l[1],d=i.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++a.current;return c.loading||u((function(e){return _i(_i({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&r===a.current&&u({value:e,loading:!1}),e}),(function(e){return s()&&r===a.current&&u({error:e,loading:!1}),e}))}),t);return[c,d]}function Si(e,t){void 0===t&&(t=[]);var n=ki(e,t,{loading:!0}),r=n[0],o=n[1];return i.useEffect((function(){o()}),[o]),r}"function"==typeof SuppressedError&&SuppressedError;var Ei=function(){},ji="undefined"!=typeof window,Ti=ji?i.useLayoutEffect:i.useEffect;var Ni={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const Oi=ji&&void 0!==window.ResizeObserver?function(){var e=i.useState(null),t=e[0],n=e[1],r=i.useState(Ni),o=r[0],a=r[1],s=i.useMemo((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,i=t.width,o=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;a({x:n,y:r,width:i,height:o,top:s,left:l,bottom:c,right:u})}}))}),[]);return Ti((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[n,o]}:function(){return[Ei,Ni]};var Ai,Li={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/Ai=Li,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var o in n)e.call(n,o)&&n[o]&&(i=r(i,o));return i}function r(e,t){return t?e?e+" "+t:e+t:e}Ai.exports?(t.default=t,Ai.exports=t):window.classNames=t}();const Mi=a(Li.exports);var Ri=(e=>(e.SEARCH="search",e.BOOKMARK="bookmark",e.BOOKMARK_OUTLINE="bookmark_outline",e.CLOCK="clock",e.EYE="eye",e.EYE_SLASH="eyeSlash",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.CHEVRON_DOWN="chevronDown",e.CHEVRON_UP="chevronUp",e.CHEVRON_RIGHT="chevronRight",e.CHEVRON_LEFT="chevronLeft",e.CLAPPER_BOARD="clapperBoard",e.FILM="film",e.DRAGON="dragon",e.WARNING="warning",e.MOVIE_WEB="movieWeb",e.TWITTER="twitter",e.DISCORD="discord",e.GITHUB="github",e.PLAY="play",e.PAUSE="pause",e.EXPAND="expand",e.COMPRESS="compress",e.VOLUME="volume",e.VOLUME_MED="volume_med",e.VOLUME_LOW="volume_low",e.VOLUME_X="volume_x",e.X="x",e.EDIT="edit",e.AIRPLAY="airplay",e.EPISODES="episodes",e.SKIP_FORWARD="skip_forward",e.SKIP_BACKWARD="skip_backward",e.FILE="file",e.CAPTIONS="captions",e.LINK="link",e.CASTING="casting",e.CIRCLE_EXCLAMATION="circle_exclamation",e.DOWNLOAD="download",e.GEAR="gear",e.WATCH_PARTY="watch_party",e.PICTURE_IN_PICTURE="pictureInPicture",e.CHECKMARK="checkmark",e.TACHOMETER="tachometer",e.MAIL="mail",e.CIRCLE_CHECK="circle_check",e.SKIP_EPISODE="skip_episode",e.MORE_VERTICAL="more_vertical",e.IOS_SHARE="ios_share",e.IOS_FILES="ios_files",e.WAND="wand",e.COPY="copy",e.USER="user",e.UP_DOWN_ARROW="up_down_arrow",e.RISING_STAR="rising_star",e.SETTINGS="settings",e.COINS="coins",e.LOGOUT="logout",e.MENU="menu",e.LOCK="lock",e.UNLOCK="unlock",e.CIRCLE_QUESTION="circle_question",e.BRUSH="brush",e.UPLOAD="upload",e.WEB="web",e))(Ri||{});const Pi={search:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M23.707,22.293l-5.969-5.969a10.016,10.016,0,1,0-1.414,1.414l5.969,5.969a1,1,0,0,0,1.414-1.414ZM10,18a8,8,0,1,1,8-8A8.009,8.009,0,0,1,10,18Z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M384 48V512l-192-112L0 512V48C0 21.5 21.5 0 48 0h288C362.5 0 384 21.5 384 48z"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z"/></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',chevronUp:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-up"><polyline points="18 15 12 9 6 15"></polyline></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',clapperBoard:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"/></svg>',film:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"/></svg>',dragon:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M18.43 255.8L192 224L100.8 292.6C90.67 302.8 97.8 320 112 320h222.7c-9.499-26.5-14.75-54.5-14.75-83.38V194.2L200.3 106.8C176.5 90.88 145 92.75 123.3 111.2l-117.5 116.4C-6.562 238 2.436 258 18.43 255.8zM575.2 289.9l-100.7-50.25c-16.25-8.125-26.5-24.75-26.5-43V160h63.99l28.12 22.62C546.1 188.6 554.2 192 562.7 192h30.1c11.1 0 23.12-6.875 28.5-17.75l14.37-28.62c5.374-10.87 4.25-23.75-2.999-33.5l-74.49-99.37C552.1 4.75 543.5 0 533.5 0H296C288.9 0 285.4 8.625 290.4 13.62L351.1 64L292.4 88.75c-5.874 3-5.874 11.37 0 14.37L351.1 128l-.0011 108.6c0 72 35.99 139.4 95.99 179.4c-195.6 6.75-344.4 41-434.1 60.88c-8.124 1.75-13.87 9-13.87 17.38C.0463 504 8.045 512 17.79 512h499.1c63.24 0 119.6-47.5 122.1-110.8C642.3 354 617.1 310.9 575.2 289.9zM489.1 66.25l45.74 11.38c-2.75 11-12.5 18.88-24.12 18.25C497.7 95.25 484.8 83.38 489.1 66.25z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',movieWeb:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 20.927 20.927"><path d="M18.186,4.5V6.241H16.445V4.5H9.482V6.241H7.741V4.5H6V20.168H7.741V18.427H9.482v1.741h6.964V18.427h1.741v1.741h1.741V4.5Zm-8.7,12.186H7.741V14.945H9.482Zm0-3.482H7.741V11.464H9.482Zm0-3.482H7.741V7.982H9.482Zm8.7,6.964H16.445V14.945h1.741Zm0-3.482H16.445V11.464h1.741Zm0-3.482H16.445V7.982h1.741Z" transform="translate(10.018 -7.425) rotate(45)" fill="currentColor"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="0.93em" height="0.93em" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path fill="currentColor" d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"/></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 496 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>',play:"",pause:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em"viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause"><rect x="14" y="4" width="4" height="16" rx="1"/><rect x="6" y="4" width="4" height="16" rx="1"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M19,24H17a1,1,0,0,1,0-2h2a3,3,0,0,0,3-3V17a1,1,0,0,1,2,0v2A5.006,5.006,0,0,1,19,24Z"/><path fill="currentColor" d="M1,8A1,1,0,0,1,0,7V5A5.006,5.006,0,0,1,5,0H7A1,1,0,0,1,7,2H5A3,3,0,0,0,2,5V7A1,1,0,0,1,1,8Z"/><path fill="currentColor" d="M7,24H5a5.006,5.006,0,0,1-5-5V17a1,1,0,0,1,2,0v2a3,3,0,0,0,3,3H7a1,1,0,0,1,0,2Z"/><path fill="currentColor" d="M23,8a1,1,0,0,1-1-1V5a3,3,0,0,0-3-3H17a1,1,0,0,1,0-2h2a5.006,5.006,0,0,1,5,5V7A1,1,0,0,1,23,8Z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M7,0A1,1,0,0,0,6,1V3A3,3,0,0,1,3,6H1A1,1,0,0,0,1,8H3A5.006,5.006,0,0,0,8,3V1A1,1,0,0,0,7,0Z"/><path fill="currentColor" d="M23,16H21a5.006,5.006,0,0,0-5,5v2a1,1,0,0,0,2,0V21a3,3,0,0,1,3-3h2a1,1,0,0,0,0-2Z"/><path fill="currentColor" d="M21,8h2a1,1,0,0,0,0-2H21a3,3,0,0,1-3-3V1a1,1,0,0,0-2,0V3A5.006,5.006,0,0,0,21,8Z"/><path fill="currentColor" d="M3,16H1a1,1,0,0,0,0,2H3a3,3,0,0,1,3,3v2a1,1,0,0,0,2,0V21A5.006,5.006,0,0,0,3,16Z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M20.807,4.29a1,1,0,0,0-1.415,1.415,8.913,8.913,0,0,1,0,12.59,1,1,0,0,0,1.415,1.415A10.916,10.916,0,0,0,20.807,4.29Z"/><path fill="currentColor" d="M18.1,7.291A1,1,0,0,0,16.68,8.706a4.662,4.662,0,0,1,0,6.588A1,1,0,0,0,18.1,16.709,6.666,6.666,0,0,0,18.1,7.291Z"/><path fill="currentColor" d="M13.82.2A12.054,12.054,0,0,0,6.266,5H5a5.008,5.008,0,0,0-5,5v4a5.008,5.008,0,0,0,5,5H6.266A12.059,12.059,0,0,0,13.82,23.8a.917.917,0,0,0,.181.017,1,1,0,0,0,1-1V1.186A1,1,0,0,0,13.82.2ZM13,21.535a10.083,10.083,0,0,1-5.371-4.08A1,1,0,0,0,6.792,17H5a3,3,0,0,1-3-3V10A3,3,0,0,1,5,7h1.8a1,1,0,0,0,.837-.453A10.079,10.079,0,0,1,13,2.465Z"/></svg>',volume_med:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.644.418c-.229-.19-.527-.268-.821-.215-3.001.555-5.754,2.302-7.554,4.794h-1.271C2.241,4.998-.002,7.241-.002,9.998v4.005C-.002,16.76,2.241,19.003,4.998,19.003h1.271c1.802,2.495,4.555,4.243,7.554,4.794.06.011.121.017.181.017.232,0,.459-.081.64-.231.228-.19.36-.472.36-.769V1.187c0-.297-.131-.579-.36-.769Zm-1.64,21.117c-2.03-.646-3.851-1.954-5.113-3.703l-.299-.415c-.188-.26-.489-.415-.811-.415h-1.782c-1.654,0-3-1.346-3-3v-4.005c0-1.654,1.346-3,3-3h1.782c.321,0,.623-.154.811-.415l.299-.415c1.261-1.747,3.083-3.054,5.114-3.702v19.068Zm5.019-4.763c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414,1.852-1.852,1.852-4.866,0-6.718-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0c2.632,2.632,2.632,6.914,0,9.546Z"/></svg>',volume_low:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.004,23.814c-.061,0-.121-.005-.181-.017-2.999-.551-5.752-2.299-7.554-4.794h-1.271C2.241,19.003-.002,16.76-.002,14.003v-4.005C-.002,7.241,2.241,4.998,4.998,4.998h1.271C8.068,2.505,10.821.758,13.822.204c.294-.052.594.025.821.215.229.19.36.472.36.769v21.627c0,.297-.132.579-.36.769-.181.151-.407.231-.64.231ZM4.998,6.998c-1.654,0-3,1.346-3,3v4.005c0,1.654,1.346,3,3,3h1.782c.321,0,.622.154.811.414l.3.415c1.263,1.749,3.083,3.057,5.113,3.703V2.467c-2.032.647-3.854,1.956-5.114,3.702l-.298.414c-.188.261-.49.415-.812.415h-1.782Z"/></svg>',volume_x:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m13.644.418c-.228-.19-.529-.268-.821-.215-3.001.555-5.754,2.302-7.554,4.794h-.271C2.241,4.998-.002,7.241-.002,9.998v4.005C-.002,16.76,2.241,19.003,4.998,19.003h.271c1.802,2.495,4.555,4.243,7.554,4.794.06.011.121.017.181.017.232,0,.459-.081.64-.231.228-.19.36-.472.36-.769V1.187c0-.297-.131-.579-.36-.769Zm-1.64,21.117c-2.03-.646-3.851-1.954-5.113-3.703l-.299-.415c-.188-.26-.489-.415-.811-.415h-.782c-1.654,0-3-1.346-3-3v-4.005c0-1.654,1.346-3,3-3h.782c.321,0,.623-.154.811-.415l.299-.415c1.261-1.747,3.083-3.054,5.114-3.702v19.068Zm11.729-7.242c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 320 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>',bookmark_outline:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path fill="currentColor" d="M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"/></svg>',airplay:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.497,13.169c-.62-.742-1.53-1.169-2.497-1.169s-1.877.427-2.502,1.176l-5.55,6.775c-.461.563-.555,1.323-.243,1.981s.958,1.067,1.687,1.067h13.215c.729,0,1.375-.409,1.687-1.066.312-.658.22-1.418-.242-1.983l-5.555-6.781Zm-8.823,7.831l5.366-6.55c.477-.572,1.45-.565,1.916-.007l5.371,6.557H5.674ZM24,6v8c0,1.434-.617,2.801-1.692,3.75-.19.168-.427.25-.662.25-.276,0-.552-.114-.75-.339-.365-.414-.326-1.046.089-1.411.646-.569,1.016-1.39,1.016-2.25V6c0-1.654-1.346-3-3-3H5c-1.654,0-3,1.346-3,3v8c0,.86.37,1.681,1.016,2.25.414.365.454.997.088,1.411-.366.414-.996.455-1.412.089-1.076-.949-1.693-2.315-1.693-3.75V6C0,3.243,2.243,1,5,1h14c2.757,0,5,2.243,5,5Z"/></svg>',episodes:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M9,7.5c0-.83,.67-1.5,1.5-1.5s1.5,.67,1.5,1.5-.67,1.5-1.5,1.5-1.5-.67-1.5-1.5Zm15-.5v6c0,2.76-2.24,5-5,5H10c-2.76,0-5-2.24-5-5V7c0-2.76,2.24-5,5-5h9c2.76,0,5,2.24,5,5ZM7,13c0,.77,.29,1.47,.77,2.01l5.24-5.24c.98-.98,2.69-.98,3.67,0l1.04,1.04c.23,.23,.62,.23,.85,0l3.43-3.43v-.38c0-1.65-1.35-3-3-3H10c-1.65,0-3,1.35-3,3v6Zm15,0v-2.79l-2.02,2.02c-.98,.98-2.69,.98-3.67,0l-1.04-1.04c-.23-.23-.61-.23-.85,0l-4.79,4.79c.12,.02,.24,.02,.37,.02h9c1.65,0,3-1.35,3-3Zm-5,7H5c-1.65,0-3-1.35-3-3v-6c0-.74,.27-1.45,.77-2,.37-.41,.33-1.04-.08-1.41-.41-.37-1.04-.33-1.41,.08-.82,.92-1.28,2.1-1.28,3.34v6c0,2.76,2.24,5,5,5h12c.55,0,1-.45,1-1s-.45-1-1-1Z"/></svg>',skip_forward:'<svg width="1.5em" height="1.5em" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3333 12.3333L16 7.66667M16 7.66667L11.3333 3M16 7.66667H6.66667C5.42899 7.66667 4.242 8.15833 3.36684 9.0335C2.49167 9.90867 2 11.0957 2 12.3333C2 13.571 2.49167 14.758 3.36684 15.6332C4.242 16.5083 5.42899 17 6.66667 17H9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M16.5043 14.2727V23H14.6591V16.0241H14.608L12.6094 17.277V15.6406L14.7699 14.2727H16.5043ZM22.0004 23.1918C21.2674 23.1889 20.6367 23.0085 20.1083 22.6506C19.5827 22.2926 19.1779 21.7741 18.8938 21.0952C18.6126 20.4162 18.4734 19.5994 18.4762 18.6449C18.4762 17.6932 18.6168 16.8821 18.8981 16.2116C19.1822 15.5412 19.587 15.0312 20.1126 14.6818C20.641 14.3295 21.2702 14.1534 22.0004 14.1534C22.7305 14.1534 23.3583 14.3295 23.8839 14.6818C24.4123 15.0341 24.8185 15.5455 25.1026 16.2159C25.3867 16.8835 25.5273 17.6932 25.5245 18.6449C25.5245 19.6023 25.3825 20.4205 25.0984 21.0994C24.8171 21.7784 24.4137 22.2969 23.8881 22.6548C23.3626 23.0128 22.7333 23.1918 22.0004 23.1918ZM22.0004 21.6619C22.5004 21.6619 22.8995 21.4105 23.1978 20.9077C23.4961 20.4048 23.6438 19.6506 23.641 18.6449C23.641 17.983 23.5728 17.4318 23.4364 16.9915C23.3029 16.5511 23.1126 16.2202 22.8654 15.9986C22.6211 15.777 22.3327 15.6662 22.0004 15.6662C21.5032 15.6662 21.1055 15.9148 20.8072 16.4119C20.5089 16.9091 20.3583 17.6534 20.3555 18.6449C20.3555 19.3153 20.4222 19.875 20.5558 20.3239C20.6921 20.7699 20.8839 21.1051 21.131 21.3295C21.3782 21.5511 21.668 21.6619 22.0004 21.6619Z" fill="currentColor" /></svg>',skip_backward:'<svg width="1.5em" height="1.5em" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6667 12.3333L9 7.66667M9 7.66667L13.6667 3M9 7.66667H18.3333C19.571 7.66667 20.758 8.15833 21.6332 9.0335C22.5083 9.90867 23 11.0957 23 12.3333C23 13.571 22.5083 14.758 21.6332 15.6332C20.758 16.5083 19.571 17 18.3333 17H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.50426 14.2727V23H2.65909V16.0241H2.60795L0.609375 17.277V15.6406L2.76989 14.2727H4.50426ZM10.0004 23.1918C9.2674 23.1889 8.63672 23.0085 8.10831 22.6506C7.58274 22.2926 7.17791 21.7741 6.89382 21.0952C6.61257 20.4162 6.47337 19.5994 6.47621 18.6449C6.47621 17.6932 6.61683 16.8821 6.89808 16.2116C7.18217 15.5412 7.587 15.0312 8.11257 14.6818C8.64098 14.3295 9.27024 14.1534 10.0004 14.1534C10.7305 14.1534 11.3583 14.3295 11.8839 14.6818C12.4123 15.0341 12.8185 15.5455 13.1026 16.2159C13.3867 16.8835 13.5273 17.6932 13.5245 18.6449C13.5245 19.6023 13.3825 20.4205 13.0984 21.0994C12.8171 21.7784 12.4137 22.2969 11.8881 22.6548C11.3626 23.0128 10.7333 23.1918 10.0004 23.1918ZM10.0004 21.6619C10.5004 21.6619 10.8995 21.4105 11.1978 20.9077C11.4961 20.4048 11.6438 19.6506 11.641 18.6449C11.641 17.983 11.5728 17.4318 11.4364 16.9915C11.3029 16.5511 11.1126 16.2202 10.8654 15.9986C10.6211 15.777 10.3327 15.6662 10.0004 15.6662C9.5032 15.6662 9.10547 15.9148 8.80717 16.4119C8.50888 16.9091 8.35831 17.6534 8.35547 18.6449C8.35547 19.3153 8.42223 19.875 8.55575 20.3239C8.69212 20.7699 8.88388 21.1051 9.13104 21.3295C9.3782 21.5511 9.66797 21.6619 10.0004 21.6619Z" fill="currentColor"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',captions:'<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-captions"><rect width="18" height="14" x="3" y="5" rx="2" ry="2"/><path d="M7 15h4M15 15h2M7 11h2M13 11h4"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',circle_exclamation:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',casting:"",download:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"/><path fill="currentColor" d="M21.294,13.9l-.444-.256a9.1,9.1,0,0,0,0-3.29l.444-.256a3,3,0,1,0-3-5.2l-.445.257A8.977,8.977,0,0,0,15,3.513V3A3,3,0,0,0,9,3v.513A8.977,8.977,0,0,0,6.152,5.159L5.705,4.9a3,3,0,0,0-3,5.2l.444.256a9.1,9.1,0,0,0,0,3.29l-.444.256a3,3,0,1,0,3,5.2l.445-.257A8.977,8.977,0,0,0,9,20.487V21a3,3,0,0,0,6,0v-.513a8.977,8.977,0,0,0,2.848-1.646l.447.258a3,3,0,0,0,3-5.2Zm-2.548-3.776a7.048,7.048,0,0,1,0,3.75,1,1,0,0,0,.464,1.133l1.084.626a1,1,0,0,1-1,1.733l-1.086-.628a1,1,0,0,0-1.215.165,6.984,6.984,0,0,1-3.243,1.875,1,1,0,0,0-.751.969V21a1,1,0,0,1-2,0V19.748a1,1,0,0,0-.751-.969A6.984,6.984,0,0,1,7.006,16.9a1,1,0,0,0-1.215-.165l-1.084.627a1,1,0,1,1-1-1.732l1.084-.626a1,1,0,0,0,.464-1.133,7.048,7.048,0,0,1,0-3.75A1,1,0,0,0,4.79,8.992L3.706,8.366a1,1,0,0,1,1-1.733l1.086.628A1,1,0,0,0,7.006,7.1a6.984,6.984,0,0,1,3.243-1.875A1,1,0,0,0,11,4.252V3a1,1,0,0,1,2,0V4.252a1,1,0,0,0,.751.969A6.984,6.984,0,0,1,16.994,7.1a1,1,0,0,0,1.215.165l1.084-.627a1,1,0,1,1,1,1.732l-1.084.626A1,1,0,0,0,18.746,10.125Z"/></svg>',watch_party:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" viewBox="0 0 448 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>',pictureInPicture:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 24 24"><path d="M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z" /></svg>',tachometer:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 576 512">\x3c!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --\x3e<path d="M128 288c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm154.65-97.08l16.24-48.71c1.16-3.45 3.18-6.35 4.92-9.43-4.73-2.76-9.94-4.78-15.81-4.78-17.67 0-32 14.33-32 32 0 15.78 11.63 28.29 26.65 30.92zM176 176c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zM288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm212.27 400H75.73C57.56 397.63 48 359.12 48 320 48 187.66 155.66 80 288 80s240 107.66 240 240c0 39.12-9.56 77.63-27.73 112zM416 320c0 17.67 14.33 32 32 32s32-14.33 32-32-14.33-32-32-32-32 14.33-32 32zm-56.41-182.77c-12.72-4.23-26.16 2.62-30.38 15.17l-45.34 136.01C250.49 290.58 224 318.06 224 352c0 11.72 3.38 22.55 8.88 32h110.25c5.5-9.45 8.88-20.28 8.88-32 0-19.45-8.86-36.66-22.55-48.4l45.34-136.01c4.17-12.57-2.64-26.17-15.21-30.36zM432 208c0-15.8-11.66-28.33-26.72-30.93-.07.21-.07.43-.14.65l-19.5 58.49c4.37 2.24 9.11 3.8 14.36 3.8 17.67-.01 32-14.34 32-32.01z"/></svg>',mail:'<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.25 4.125H2.75C2.56766 4.125 2.3928 4.19743 2.26386 4.32636C2.13493 4.4553 2.0625 4.63016 2.0625 4.8125V16.5C2.0625 16.8647 2.20737 17.2144 2.46523 17.4723C2.72309 17.7301 3.07283 17.875 3.4375 17.875H18.5625C18.9272 17.875 19.2769 17.7301 19.5348 17.4723C19.7926 17.2144 19.9375 16.8647 19.9375 16.5V4.8125C19.9375 4.63016 19.8651 4.4553 19.7361 4.32636C19.6072 4.19743 19.4323 4.125 19.25 4.125ZM8.48289 11L3.4375 15.6243V6.3757L8.48289 11ZM9.50039 11.9324L10.5316 12.882C10.6585 12.9985 10.8244 13.0631 10.9966 13.0631C11.1687 13.0631 11.3346 12.9985 11.4615 12.882L12.4927 11.9324L17.4771 16.5H4.51773L9.50039 11.9324ZM13.5171 11L18.5625 6.37484V15.6252L13.5171 11Z" fill="currentColor" /></svg>',circle_check:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/></svg>',skip_episode:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.625 2.8125V15.1875C14.625 15.3367 14.5657 15.4798 14.4602 15.5852C14.3548 15.6907 14.2117 15.75 14.0625 15.75C13.9133 15.75 13.7702 15.6907 13.6648 15.5852C13.5593 15.4798 13.5 15.3367 13.5 15.1875V10.3198L5.09273 15.5777C4.92342 15.684 4.72878 15.7431 4.52895 15.7489C4.32913 15.7547 4.13139 15.707 3.95621 15.6107C3.78102 15.5144 3.63477 15.373 3.53258 15.2012C3.43039 15.0294 3.37599 14.8333 3.375 14.6334V3.36656C3.37599 3.16666 3.43039 2.97065 3.53258 2.79883C3.63477 2.62702 3.78102 2.48564 3.95621 2.38933C4.13139 2.29303 4.32913 2.2453 4.52895 2.25109C4.72878 2.25688 4.92342 2.31598 5.09273 2.42227L13.5 7.68023V2.8125C13.5 2.66332 13.5593 2.52024 13.6648 2.41475C13.7702 2.30926 13.9133 2.25 14.0625 2.25C14.2117 2.25 14.3548 2.30926 14.4602 2.41475C14.5657 2.52024 14.625 2.66332 14.625 2.8125Z" fill="currentColor"/></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>',ios_share:'<svg width="1.5em" height="1.5em" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 15.3857C10.4409 15.3857 10.8101 15.0166 10.8101 14.5859V4.05518L10.7485 2.51709L11.4355 3.24512L12.9941 4.90625C13.1377 5.07031 13.353 5.15234 13.5479 5.15234C13.9683 5.15234 14.2964 4.84473 14.2964 4.42432C14.2964 4.20898 14.2041 4.04492 14.0503 3.89111L10.5845 0.54834C10.3794 0.343262 10.2051 0.271484 10 0.271484C9.78467 0.271484 9.61035 0.343262 9.40527 0.54834L5.93945 3.89111C5.78564 4.04492 5.69336 4.20898 5.69336 4.42432C5.69336 4.84473 6.00098 5.15234 6.43164 5.15234C6.62646 5.15234 6.85205 5.07031 6.99561 4.90625L8.5542 3.24512L9.24121 2.51709L9.17969 4.05518V14.5859C9.17969 15.0166 9.55908 15.3857 10 15.3857ZM4.11426 23.4146H15.8755C18.0186 23.4146 19.0952 22.3481 19.0952 20.2358V10.0024C19.0952 7.89014 18.0186 6.82373 15.8755 6.82373H13.0146V8.47461H15.8447C16.8599 8.47461 17.4443 9.02832 17.4443 10.0947V20.1436C17.4443 21.21 16.8599 21.7637 15.8447 21.7637H4.13477C3.10938 21.7637 2.54541 21.21 2.54541 20.1436V10.0947C2.54541 9.02832 3.10938 8.47461 4.13477 8.47461H6.9751V6.82373H4.11426C1.97119 6.82373 0.894531 7.89014 0.894531 10.0024V20.2358C0.894531 22.3481 1.97119 23.4146 4.11426 23.4146Z" fill="currentColor"/></svg>',ios_files:'<svg width="1.5em" height="1.5em" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.22405 20H21.024C22.9178 20 24 18.8772 24 16.7018V5.33333C24 3.1462 22.9065 2.03509 20.776 2.03509H10.5063C9.72851 2.03509 9.30014 1.85965 8.74777 1.36842L8.12776 0.818713C7.41757 0.187135 6.91029 0 5.85063 0H2.81822C1.01456 0 0 1.04094 0 3.1462V16.7018C0 18.8889 1.0822 20 3.22405 20ZM1.47675 3.22807C1.47675 2.08187 2.04039 1.50877 3.11132 1.50877H5.47863C6.23391 1.50877 6.65101 1.68421 7.21466 2.19883L7.84594 2.74854C8.52231 3.35673 9.06341 3.55556 10.1343 3.55556H20.7534C21.8807 3.55556 22.5233 4.18713 22.5233 5.4152V6.17544H1.47675V3.22807ZM3.24659 18.4795C2.09676 18.4795 1.47675 17.848 1.47675 16.6199V7.61403H22.5233V16.6316C22.5233 17.848 21.8807 18.4795 20.7534 18.4795H3.24659Z" fill="white"/></svg>',wand:'<svg width="1.5em" height="1.5em" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.33437 4.33438L8.15625 4.775C8.0625 4.80937 8 4.9 8 5C8 5.1 8.0625 5.19062 8.15625 5.225L9.33437 5.66563L9.775 6.84375C9.80938 6.9375 9.9 7 10 7C10.1 7 10.1906 6.9375 10.225 6.84375L10.6656 5.66563L11.8438 5.225C11.9375 5.19062 12 5.1 12 5C12 4.9 11.9375 4.80937 11.8438 4.775L10.6656 4.33438L10.225 3.15625C10.1906 3.0625 10.1 3 10 3C9.9 3 9.80938 3.0625 9.775 3.15625L9.33437 4.33438ZM3.44062 15.3562C2.85625 15.9406 2.85625 16.8906 3.44062 17.4781L4.52187 18.5594C5.10625 19.1437 6.05625 19.1437 6.64375 18.5594L18.5594 6.64062C19.1438 6.05625 19.1438 5.10625 18.5594 4.51875L17.4781 3.44063C16.8937 2.85625 15.9437 2.85625 15.3562 3.44063L3.44062 15.3562ZM17.1438 5.58125L13.8625 8.8625L13.1344 8.13438L16.4156 4.85312L17.1438 5.58125ZM2.23438 6.6625C2.09375 6.71562 2 6.85 2 7C2 7.15 2.09375 7.28438 2.23438 7.3375L4 8L4.6625 9.76562C4.71562 9.90625 4.85 10 5 10C5.15 10 5.28438 9.90625 5.3375 9.76562L6 8L7.76562 7.3375C7.90625 7.28438 8 7.15 8 7C8 6.85 7.90625 6.71562 7.76562 6.6625L6 6L5.3375 4.23438C5.28438 4.09375 5.15 4 5 4C4.85 4 4.71562 4.09375 4.6625 4.23438L4 6L2.23438 6.6625ZM13.2344 14.6625C13.0938 14.7156 13 14.85 13 15C13 15.15 13.0938 15.2844 13.2344 15.3375L15 16L15.6625 17.7656C15.7156 17.9062 15.85 18 16 18C16.15 18 16.2844 17.9062 16.3375 17.7656L17 16L18.7656 15.3375C18.9062 15.2844 19 15.15 19 15C19 14.85 18.9062 14.7156 18.7656 14.6625L17 14L16.3375 12.2344C16.2844 12.0938 16.15 12 16 12C15.85 12 15.7156 12.0938 15.6625 12.2344L15 14L13.2344 14.6625Z" fill="currentColor"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',up_down_arrow:'<svg width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.53803 5.19018C4.50013 5.09883 4.49018 4.99829 4.50942 4.90128C4.52867 4.80427 4.57625 4.71514 4.64616 4.64518L7.64616 1.64518C7.69259 1.59869 7.74774 1.56181 7.80844 1.53665C7.86913 1.51149 7.9342 1.49854 7.99991 1.49854C8.06561 1.49854 8.13068 1.51149 8.19138 1.53665C8.25207 1.56181 8.30722 1.59869 8.35366 1.64518L11.3537 4.64518C11.4237 4.71511 11.4713 4.80423 11.4907 4.90128C11.51 4.99832 11.5001 5.09891 11.4622 5.19032C11.4243 5.28174 11.3602 5.35985 11.2779 5.41479C11.1956 5.46972 11.0989 5.49901 10.9999 5.49893H4.99991C4.90102 5.49891 4.80435 5.46956 4.72214 5.41461C4.63993 5.35965 4.57586 5.28155 4.53803 5.19018ZM10.9999 10.4989H4.99991C4.90096 10.4988 4.80421 10.5281 4.72191 10.5831C4.63962 10.638 4.57547 10.7161 4.53759 10.8075C4.49972 10.8989 4.48982 10.9995 4.50914 11.0966C4.52847 11.1936 4.57615 11.2828 4.64616 11.3527L7.64616 14.3527C7.69259 14.3992 7.74774 14.436 7.80844 14.4612C7.86913 14.4864 7.9342 14.4993 7.99991 14.4993C8.06561 14.4993 8.13068 14.4864 8.19138 14.4612C8.25207 14.436 8.30722 14.3992 8.35366 14.3527L11.3537 11.3527C11.4237 11.2828 11.4713 11.1936 11.4907 11.0966C11.51 10.9995 11.5001 10.8989 11.4622 10.8075C11.4243 10.7161 11.3602 10.638 11.2779 10.5831C11.1956 10.5281 11.0989 10.4988 10.9999 10.4989Z" fill="currentColor"/></svg>',rising_star:'<svg width="1.5em" height="1.5em" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5509 6.91102L15.5716 8.59852L16.1643 11.1108C16.2061 11.2869 16.195 11.4714 16.1325 11.6412C16.0699 11.811 15.9587 11.9587 15.8127 12.0656C15.6651 12.174 15.4888 12.2365 15.3058 12.2453C15.1229 12.254 14.9414 12.2087 14.7841 12.1148L12.5341 10.7789L10.2841 12.1148C10.1268 12.2087 9.94528 12.254 9.76231 12.2453C9.57935 12.2365 9.40303 12.174 9.2554 12.0656C9.10948 11.9586 8.99833 11.811 8.9358 11.6412C8.87328 11.4713 8.86216 11.2869 8.90384 11.1108L9.49657 8.59852L7.51657 6.91102C7.37802 6.79275 7.27755 6.63613 7.22781 6.46088C7.17808 6.28563 7.1813 6.09959 7.23708 5.92617C7.29286 5.75275 7.39869 5.59971 7.54126 5.48631C7.68383 5.37291 7.85677 5.30423 8.03829 5.28891L10.656 5.06742L11.677 2.68734C11.749 2.52049 11.8683 2.37837 12.0202 2.27853C12.1721 2.17869 12.3499 2.12549 12.5316 2.12549C12.7134 2.12549 12.8911 2.17869 13.043 2.27853C13.1949 2.37837 13.3142 2.52049 13.3863 2.68734L14.4072 5.06883L17.0242 5.28891C17.2062 5.30319 17.3798 5.37111 17.5231 5.48409C17.6665 5.59707 17.7731 5.75002 17.8294 5.9236C17.8858 6.09718 17.8894 6.28358 17.8399 6.45922C17.7903 6.63486 17.6897 6.79185 17.5509 6.91031V6.91102ZM7.02298 9.03938C6.97074 8.98708 6.9087 8.94559 6.84041 8.91728C6.77213 8.88897 6.69893 8.8744 6.62501 8.8744C6.55109 8.8744 6.47789 8.88897 6.4096 8.91728C6.34132 8.94559 6.27928 8.98708 6.22704 9.03938L2.28954 12.9769C2.18399 13.0824 2.12469 13.2256 2.12469 13.3748C2.12469 13.5241 2.18399 13.6673 2.28954 13.7728C2.39509 13.8784 2.53824 13.9377 2.68751 13.9377C2.83677 13.9377 2.97993 13.8784 3.08548 13.7728L7.02298 9.83531C7.07528 9.78307 7.11677 9.72104 7.14507 9.65275C7.17338 9.58446 7.18795 9.51127 7.18795 9.43735C7.18795 9.36342 7.17338 9.29023 7.14507 9.22194C7.11677 9.15365 7.07528 9.09162 7.02298 9.03938ZM8.14798 12.9769C8.09574 12.9246 8.0337 12.8831 7.96541 12.8548C7.89713 12.8265 7.82393 12.8119 7.75001 12.8119C7.67609 12.8119 7.60289 12.8265 7.5346 12.8548C7.46632 12.8831 7.40428 12.9246 7.35204 12.9769L3.41454 16.9144C3.36228 16.9666 3.32082 17.0287 3.29254 17.097C3.26425 17.1652 3.24969 17.2384 3.24969 17.3123C3.24969 17.3863 3.26425 17.4594 3.29254 17.5277C3.32082 17.596 3.36228 17.6581 3.41454 17.7103C3.52009 17.8159 3.66324 17.8752 3.81251 17.8752C3.88642 17.8752 3.9596 17.8606 4.02789 17.8323C4.09617 17.804 4.15821 17.7626 4.21048 17.7103L8.14798 13.7728C8.20028 13.7206 8.24177 13.6585 8.27007 13.5902C8.29838 13.522 8.31295 13.4488 8.31295 13.3748C8.31295 13.3009 8.29838 13.2277 8.27007 13.1594C8.24177 13.0912 8.20028 13.0291 8.14798 12.9769ZM12.4152 12.9769L8.47774 16.9144C8.37219 17.0199 8.3129 17.1631 8.3129 17.3123C8.3129 17.4616 8.37219 17.6048 8.47774 17.7103C8.58329 17.8159 8.72644 17.8752 8.87571 17.8752C9.02498 17.8752 9.16813 17.8159 9.27368 17.7103L13.2112 13.7728C13.3167 13.6674 13.3761 13.5243 13.3761 13.3751C13.3762 13.2259 13.317 13.0828 13.2115 12.9772C13.1061 12.8717 12.963 12.8123 12.8138 12.8123C12.6646 12.8122 12.5215 12.8714 12.4159 12.9769H12.4152Z" fill="currentColor"/></svg>',settings:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>',coins:'<svg width="1.5em" height="1.5em" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.8125 7.69742V7.21875C15.8125 5.06344 12.5615 3.4375 8.25 3.4375C3.93852 3.4375 0.6875 5.06344 0.6875 7.21875V10.6562C0.6875 12.4515 2.94336 13.878 6.1875 14.3052V14.7812C6.1875 16.9366 9.43852 18.5625 13.75 18.5625C18.0615 18.5625 21.3125 16.9366 21.3125 14.7812V11.3438C21.3125 9.56484 19.128 8.13656 15.8125 7.69742ZM4.8125 12.6216C3.12898 12.1516 2.0625 11.3773 2.0625 10.6562V9.44711C2.76375 9.94383 3.70305 10.3443 4.8125 10.6133V12.6216ZM11.6875 10.6133C12.797 10.3443 13.7362 9.94383 14.4375 9.44711V10.6562C14.4375 11.3773 13.371 12.1516 11.6875 12.6216V10.6133ZM10.3125 16.7466C8.62898 16.2766 7.5625 15.5023 7.5625 14.7812V14.4229C7.78852 14.4315 8.01711 14.4375 8.25 14.4375C8.58344 14.4375 8.90914 14.4263 9.22883 14.4074C9.58397 14.5346 9.94572 14.6424 10.3125 14.7305V16.7466ZM10.3125 12.9121C9.62964 13.013 8.94027 13.0633 8.25 13.0625C7.55973 13.0633 6.87036 13.013 6.1875 12.9121V10.8677C6.87137 10.9568 7.56035 11.001 8.25 11C8.93965 11.001 9.62863 10.9568 10.3125 10.8677V12.9121ZM15.8125 17.0371C14.4448 17.2376 13.0552 17.2376 11.6875 17.0371V14.9875C12.3712 15.0794 13.0602 15.1253 13.75 15.125C14.4397 15.126 15.1286 15.0818 15.8125 14.9927V17.0371ZM19.9375 14.7812C19.9375 15.5023 18.871 16.2766 17.1875 16.7466V14.7383C18.297 14.4693 19.2362 14.0688 19.9375 13.5721V14.7812Z" fill="currentColor"/></svg>',logout:'<svg style="transform: scaleX(-1);" xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-lock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',unlock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-unlock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>',circle_question:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--\x3e<path opacity="1" fill="currentColor" d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',brush:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 384 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--\x3e<path d="M162.4 6c-1.5-3.6-5-6-8.9-6h-19c-3.9 0-7.5 2.4-8.9 6L104.9 57.7c-3.2 8-14.6 8-17.8 0L66.4 6c-1.5-3.6-5-6-8.9-6H48C21.5 0 0 21.5 0 48V224v22.4V256H9.6 374.4 384v-9.6V224 48c0-26.5-21.5-48-48-48H230.5c-3.9 0-7.5 2.4-8.9 6L200.9 57.7c-3.2 8-14.6 8-17.8 0L162.4 6zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z" fill="currentColor"/></svg>',upload:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 384 512">\x3c!--! Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path opacity="1" fill="currentColor" d="M320 480H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32H192V144c0 26.5 21.5 48 48 48H352V448c0 17.7-14.3 32-32 32zM240 160c-8.8 0-16-7.2-16-16V32.5c2.8 .7 5.4 2.1 7.4 4.2L347.3 152.6c2.1 2.1 3.5 4.6 4.2 7.4H240zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V163.9c0-12.7-5.1-24.9-14.1-33.9L254.1 14.1c-9-9-21.2-14.1-33.9-14.1H64zM208 278.6l52.7 52.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-80-80c-6.2-6.2-16.4-6.2-22.6 0l-80 80c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L176 278.6V400c0 8.8 7.2 16 16 16s16-7.2 16-16V278.6z"/></svg>',web:'<svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24" fill="none">\n  <path d="M15.3222 10.383C15.3796 10.9457 15.4125 11.4903 15.4125 12C15.4125 12.9541 15.2972 14.0315 15.1208 15.1208C14.0315 15.2972 12.9541 15.4125 12 15.4125C11.0502 15.4125 9.97313 15.2975 8.87911 15.1205C8.70281 14.0312 8.5875 12.954 8.5875 12C8.5875 11.4905 8.62039 10.9458 8.67789 10.383C9.82608 10.5668 10.9715 10.6875 12 10.6875C13.0286 10.6875 14.174 10.5668 15.3222 10.383Z" fill="currentColor"/>\n  <path d="M16.8752 10.0994C16.9462 10.7579 16.9875 11.399 16.9875 12C16.9875 12.8769 16.8997 13.8389 16.7599 14.8153C18.7425 14.4016 20.575 13.8731 21.5567 13.5722C21.8739 13.475 21.9986 13.4363 22.1658 13.3694C22.2494 13.336 22.326 13.302 22.4259 13.2543C22.4748 12.843 22.5 12.4244 22.5 12C22.5 10.878 22.324 9.79714 21.9982 8.78346L21.9133 8.81017C20.8868 9.12245 18.9652 9.6745 16.8752 10.0994Z" fill="currentColor"/>\n  <path d="M21.4017 7.31948C20.3698 7.63221 18.579 8.14039 16.6599 8.53603C16.2178 5.84926 15.443 3.16951 15.0702 1.95598C17.8422 2.80227 20.1273 4.76467 21.4017 7.31948Z" fill="currentColor"/>\n  <path d="M15.1117 8.82229C14.0253 8.99781 12.9513 9.1125 12 9.1125C11.0487 9.1125 9.97477 8.99781 8.88843 8.8223C9.30471 6.28005 10.0478 3.68306 10.4278 2.44333C10.525 2.12606 10.5637 2.00144 10.6306 1.83418C10.664 1.75062 10.698 1.67398 10.7457 1.57414C11.157 1.52518 11.5756 1.5 12 1.5C12.4434 1.5 12.8803 1.52748 13.3093 1.58083C13.3184 1.61564 13.3268 1.64679 13.3351 1.67626C13.3597 1.76333 13.3982 1.8857 13.4628 2.09104L13.4696 2.11261C13.7935 3.14223 14.6519 6.01401 15.1117 8.82229Z" fill="currentColor"/>\n  <path d="M7.34004 8.536C7.7801 5.86107 8.54986 3.19576 8.92192 1.98181L8.92983 1.95597C6.15777 2.80225 3.8727 4.76465 2.59835 7.31946C3.63018 7.63219 5.42095 8.14036 7.34004 8.536Z" fill="currentColor"/>\n  <path d="M2.00184 8.78345C1.67598 9.79714 1.5 10.878 1.5 12C1.5 12.4389 1.52693 12.8715 1.57923 13.2963L1.74471 13.3515L1.74603 13.3519L1.74765 13.3525L1.74879 13.3528C1.80205 13.3705 3.36305 13.886 5.41878 14.3975C5.99886 14.5418 6.61307 14.6844 7.24006 14.8151C7.10025 13.8388 7.0125 12.8769 7.0125 12C7.0125 11.3988 7.05374 10.7577 7.12472 10.0994C5.03428 9.67436 3.11218 9.12212 2.08597 8.80989L2.07883 8.80771L2.00184 8.78345Z" fill="currentColor"/>\n  <path d="M12 16.9875C12.8769 16.9875 13.8389 16.8997 14.8153 16.7599C14.4016 18.7425 13.8731 20.575 13.5722 21.5566C13.475 21.8739 13.4363 21.9985 13.3694 22.1658C13.336 22.2494 13.302 22.326 13.2543 22.4259C12.843 22.4748 12.4244 22.5 12 22.5C11.5756 22.5 11.157 22.4748 10.7457 22.4259C10.698 22.326 10.664 22.2494 10.6306 22.1658C10.5637 21.9986 10.525 21.8739 10.4278 21.5567C10.1269 20.5751 9.59846 18.7427 9.18478 16.7603C10.1579 16.8996 11.1201 16.9875 12 16.9875Z" fill="currentColor"/>\n  <path d="M5.0385 15.9259C3.73853 15.6024 2.63135 15.2775 1.95597 15.0702C2.97258 18.4002 5.59982 21.0274 8.92983 22.044L8.92192 22.0182C8.59705 20.9582 7.96897 18.7917 7.52191 16.4784C6.6525 16.3103 5.80722 16.1171 5.0385 15.9259Z" fill="currentColor"/>\n  <path d="M22.0182 15.0781C20.9582 15.403 18.7915 16.0311 16.4781 16.4781C16.0311 18.7915 15.403 20.9581 15.0781 22.0182L15.0702 22.044C18.4002 21.0274 21.0274 18.4002 22.044 15.0702L22.0182 15.0781Z" fill="currentColor"/>\n  <path d="M1.6103 13.323C1.64665 13.3277 1.67628 13.3327 1.68611 13.3349C1.69472 13.337 1.70821 13.3406 1.7131 13.3419L1.72391 13.345L1.72973 13.3468L1.73585 13.3487L1.74098 13.3503C1.7381 13.3494 1.67976 13.3348 1.6103 13.323Z" fill="currentColor"/>\n  </svg>'};function Ii({className:e}){const t=i.useRef(null);return i.useEffect((()=>{if(t.current&&!t.current.querySelector("#castbutton")){const e=document.createElement("google-cast-launcher");e.setAttribute("id","castbutton"),t.current.appendChild(e)}}),[]),k.jsx("div",{ref:t,className:e??"h-5 text-md"})}const Fi=i.memo((e=>{if("casting"===e.icon)return k.jsx(Ii,{className:e.className});const t="arrowLeft"===e.icon||"arrowRight"===e.icon||"chevronLeft"===e.icon||"chevronRight"===e.icon?"rtl:-scale-x-100":"";return k.jsx("span",{dangerouslySetInnerHTML:{__html:Pi[e.icon]},className:Mi(e.className,t)})}));function Di(e){return k.jsxs("div",{className:"bg-pill-background bg-opacity-50 px-4 py-2 rounded-full text-white flex justify-center items-center",children:[k.jsx(Fi,{icon:e.icon??Ri.WAND,className:"mr-3 text-xl text-type-link"}),e.children]})}function $i(e){return k.jsx("div",{className:e.className,children:k.jsxs("div",{className:"flex flex-col items-center justify-center",children:[k.jsxs("div",{className:"flex h-12 items-center justify-center",children:[k.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30]"}),k.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:150ms]"}),k.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:300ms]"}),k.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:450ms]"})]}),e.text&&e.text.length?k.jsx("p",{className:"mt-3 max-w-xs text-sm opacity-75",children:e.text}):null]})})}function zi(e){return k.jsx("p",{className:Mi("text-errors-type-secondary",e.marginClass??"mt-6"),children:e.children})}function Bi(e){return k.jsx("h2",{className:Mi("text-white text-3xl font-bold text-opacity-100 mt-6",e.className),children:e.children})}function Vi(e){return k.jsx("div",{className:Mi("w-full p-6 text-center flex flex-col items-center",e.maxWidth??"max-w-[28rem]"),children:e.children})}function Ui(e){return k.jsx("div",{className:"w-full h-full flex justify-center items-center flex-col",children:e.children})}const Hi="embed.su";let Wi=null;function qi(){return Wi??[]}function Gi(e){const t=ve(),{error:n,value:r,loading:i}=Si((async()=>{var n;let r=null;try{r=await(null==window?void 0:window.getSauce({type:String(t.type),id:String(t.id),season:String(t.season),episode:String(t.episode)})),r&&(i=r.servers,Wi=i)}catch(o){return console.log(o),null}var i;if(!r)return null;"tv"===t.type&&t.season&&t.episode&&(r={...r,currentSeason:Number(r.currentSeason),currentEpisode:Number(r.currentEpisode),seasons:r.seasons.map((e=>({...e,seasonNumber:Number(e.seasonNumber),episodes:e.episodes.map((e=>({...e,episodeNumber:Number(e.episodeNumber)})))})))}),null==(n=e.onGetMeta)||n.call(e,{...r,id:t.id})}),[]);return n?k.jsx(Ui,{children:k.jsxs(Vi,{children:[k.jsx(Di,{icon:Ri.WAND,children:"Failed"}),k.jsx(Bi,{children:"Failed to load metadata"}),k.jsx(zi,{children:"Could not load the media's metadata from TMDB. Please check whether TMDB is down or blocked on your internet connection."})]})}):r||i?k.jsx(Ui,{children:k.jsx("div",{className:"flex items-center justify-center",children:k.jsx($i,{})})}):k.jsx(Ui,{children:k.jsxs(Vi,{children:[k.jsx(Di,{icon:Ri.WAND,children:"Not found"}),k.jsx(Bi,{children:"Couldn't find that media."}),k.jsx(zi,{children:"We couldn't find the media you requested. Either it's been removed or you tampered with the URL (naughty, naughty)."})]})})}function Zi(){return k.jsx(Ui,{children:k.jsxs(Vi,{children:[k.jsx(Di,{icon:Ri.WAND,children:"Playback error"}),k.jsx(Bi,{children:"Failed to play video!"}),k.jsx(zi,{children:"There was an error trying to play the media . Please try again!"})]})})}const Qi=i.forwardRef(((e,t)=>k.jsxs("button",{ref:t,type:"button",onClick:t=>{var n;return null==(n=e.onClick)?void 0:n.call(e,t.currentTarget)},className:Mi(["tabbable p-1 sm:p-2 rounded-full transition-all duration-200 origin-center ease-linear flex items-center gap-3",e.activeClass??" active:text-white",e.className??""]),children:[e.isCast?e.icon&&k.jsx(Fi,{className:e.iconSizeClass||"text-2xl",icon:e.icon}):e.icon?e.icon:"",e.children]})));function Ki(e){const[t,n]=i.useState(!1),r=i.useRef(!1);return i.useEffect((()=>{function e(){const e=window.innerWidth<1024;r.current!==e&&(r.current=e,n(e))}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[e]),{isMobile:t}}
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */;var Ji={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=i.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...l},c)=>i.createElement("svg",{ref:c,...Ji,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:Yi("lucide",o),...l},[...s.map((([e,t])=>i.createElement(e,t))),...Array.isArray(a)?a:[a]]))),eo=(e,t)=>{const n=i.forwardRef((({className:n,...r},o)=>{return i.createElement(Xi,{ref:o,iconNode:t,className:Yi(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var a}));return n.displayName=`${e}`,n},to=eo("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]),no=eo("Cast",[["path",{d:"M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6",key:"3zrzxg"}],["path",{d:"M2 12a9 9 0 0 1 8 8",key:"g6cvee"}],["path",{d:"M2 16a5 5 0 0 1 4 4",key:"1y1dii"}],["line",{x1:"2",x2:"2.01",y1:"20",y2:"20",key:"xu2jvo"}]]),ro=eo("GalleryVerticalEnd",[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]]),io=eo("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),oo=eo("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ao=eo("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),so=eo("PictureInPicture2",[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]]),lo=eo("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),co=eo("RedoDot",[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),uo=eo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fo=eo("UndoDot",[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);
/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function ho(e){const t=Ln((e=>e.display)),{isPaused:n}=Ln((e=>e.mediaPlaying)),{isMobile:r}=Ki();return k.jsx(Qi,{className:e.className,iconSizeClass:e.iconSizeClass,onClick:()=>{n?null==t||t.play():null==t||t.pause()},children:n?k.jsx(lo,{size:e.isleft?30:r?50:60}):k.jsx(ao,{size:e.isleft?30:r?50:60})})}function po(){const{isFullscreen:e}=Ln((e=>e.interface)),t=Ln((e=>e.display));return k.jsx(Qi,{onClick:()=>null==t?void 0:t.toggleFullscreen(),icon:e?k.jsx(oo,{size:30}):k.jsx(io,{size:30})})}var mo={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},go=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],vo=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],yo=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],bo="undefined"!=typeof window&&void 0!==window.document?window.document:{},wo="fullscreenEnabled"in bo&&Object.keys(mo)||go[0]in bo&&go||vo[0]in bo&&vo||yo[0]in bo&&yo||[],xo={requestFullscreen:function(e){return e[wo[mo.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[wo[mo.requestFullscreen]]},get exitFullscreen(){return bo[wo[mo.exitFullscreen]].bind(bo)},get fullscreenPseudoClass(){return":"+wo[mo.fullscreen]},addEventListener:function(e,t,n){return bo.addEventListener(wo[mo[e]],t,n)},removeEventListener:function(e,t,n){return bo.removeEventListener(wo[mo[e]],t,n)},get fullscreenEnabled(){return Boolean(bo[wo[mo.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return bo[wo[mo.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return bo[("on"+wo[mo.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return bo[("on"+wo[mo.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return bo[("on"+wo[mo.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return bo[("on"+wo[mo.fullscreenerror]).toLowerCase()]=e}};const Co=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let _o=null;async function ko(){if(null===_o){const e=new Promise((e=>{setTimeout((()=>e(!1)),1e3)})),t=new Promise((e=>{const t=document.createElement("video"),n=()=>{t.removeEventListener("volumechange",n),e(!0)};t.addEventListener("volumechange",n),t.volume=.5}));_o=await Promise.race([t,e])}return _o}function So(){return xo.fullscreenEnabled}function Eo(){return So()||Co}function jo(){return So()||Eo()}function To(){return"pictureInPictureEnabled"in document}function No(){return"webkitSupportsPresentationMode"in document.createElement("video")}function Oo(e){return!f.isSupported()&&!!e.canPlayType("application/vnd.apple.mpegurl")}function Ao(){const e=Ln((e=>e.display));return To()||No()?k.jsx(Qi,{onClick:()=>null==e?void 0:e.togglePictureInPicture(),iconSizeClass:"text-xl",icon:k.jsx(so,{size:30})}):null}function Lo(e){return Number(Math.max(0,Math.min(e,100)).toFixed(2))}function Mo(e){return"mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type}const Ro=(e,t)=>"horizontal"===t?Mo(e)?e.pageX:e.changedTouches[0].pageX:Mo(e)?e.pageY:e.changedTouches[0].pageY;function Po(e,t,n=!1,r="horizontal"){const[o,a]=i.useState(!1),[s,l]=i.useState(0);i.useEffect((()=>{function i(i){if(!o||!e.current)return;const a=e.current.getBoundingClientRect(),s="horizontal"===r?(Ro(i,r)-a.left)/e.current.offsetWidth:(a.bottom-Ro(i,r))/e.current.offsetHeight;l(100*s),n&&t(s)}function s(n){if(!o)return;if(a(!1),document.body.removeAttribute("data-no-select"),!e.current)return;const i=e.current.getBoundingClientRect(),s="horizontal"===r?(Ro(n,r)-i.left)/e.current.offsetWidth:(i.bottom-Ro(n,r))/e.current.offsetHeight;t(s)}return document.addEventListener("mousemove",i),document.addEventListener("touchmove",i),document.addEventListener("mouseup",s),document.addEventListener("touchend",s),()=>{document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s)}}),[o,e,t,n,r]);const c=i.useCallback((t=>{if(a(!0),document.body.setAttribute("data-no-select","true"),!e.current)return;const n=e.current.getBoundingClientRect(),i=100*("horizontal"===r?(Ro(t,r)-n.left)/e.current.offsetWidth:(n.bottom-Ro(t,r))/e.current.offsetHeight);l(i)}),[l,e,r]);return{dragging:o,dragPercentage:s,dragMouseDown:c}}function Io(e,t=!1){if(Number.isNaN(e))return t?"0:00:00":"0:00";let n=e;const r=Math.floor(n%60);n/=60;const i=Math.floor(n%60);n/=60;const o=Math.floor(n),a=r.toString().padStart(2,"0"),s=i.toString().padStart(2,"0");return t?[o,s,a].join(":"):[s,a].join(":")}function Fo(e){return e>3600}function Do(e){const t=Ln((e=>e.thumbnails.images)),n=i.useMemo((()=>{var n;return null==(n=function(e,t){if(0===e.length)return null;const n=e.findIndex((e=>e.at>t));if(-1===n)return{index:e.length-1,image:e[e.length-1]};const r=e[n];if(0===n)return{index:n,image:r};const i=e[n-1];return t-i.at<r.at-t?{index:n-1,image:i}:{index:n,image:r}}(t,e.at))?void 0:n.image}),[t,e.at]),[r,o]=i.useState({offscreenLeft:0,offscreenRight:0}),a=i.useRef(null);return i.useEffect((()=>{if(!a.current)return;const e=a.current.getBoundingClientRect(),t=Math.max(0,-1*(e.left-32)),n=Math.max(0,e.right+32-window.innerWidth);o({offscreenLeft:t,offscreenRight:n})}),[e.at]),e.show&&n?k.jsx("div",{className:"flex flex-col items-center -translate-x-1/2 pointer-events-none",children:k.jsx("div",{className:"w-screen relative flex justify-center",children:k.jsx("div",{ref:a,children:k.jsxs("div",{style:{transform:`translateX(${r.offscreenLeft>0?r.offscreenLeft:-r.offscreenRight}px)`},children:[k.jsx("img",{src:n.data,className:"h-24 !aspect-video border rounded-xl border-gray-800 object-cover object-center overflow-hidden"}),k.jsx("div",{className:"absolute bottom-1 inset-x-0 w-max mx-auto rounded-xl p-1 px-2 bg-background/50 backdrop-blur",children:k.jsx("p",{className:"text-center text-sm",children:Io(Math.max(e.at,0),Fo(e.at))})})]})})})}):null}function $o(){const{duration:e,time:t,buffered:n}=Ln((e=>e.progress)),r=Ln((e=>e.display)),o=Ln((e=>e.setDraggingTime)),a=Ln((e=>e.setSeeking)),{isSeeking:s}=Ln((e=>e.interface)),l=i.useCallback((t=>{null==r||r.setTime(t*e)}),[e,r]),c=i.useRef(null),{mouseMove:u,mouseLeave:d,mousePos:f}=function(e){const[t,n]=i.useState(-1);return{mousePos:t,mouseMove:i.useCallback((t=>{if(!e.current)return;const r=e.current.getBoundingClientRect(),i=(t.pageX-r.left)/e.current.offsetWidth;n(100*i)}),[n,e]),mouseLeave:i.useCallback((()=>{n(-1)}),[n])}}(c),{dragging:h,dragPercentage:p,dragMouseDown:m}=Po(c,l);return i.useEffect((()=>{a(h)}),[a,h]),i.useEffect((()=>{o(p/100*e)}),[o,e,p]),k.jsxs("div",{className:"w-full relative",dir:"ltr",children:[k.jsx("div",{className:"top-0 absolute inset-x-0",children:k.jsx("div",{className:"absolute bottom-0",style:{left:`${f}%`},children:k.jsx(Do,{at:Math.floor(f/100*e),show:f>-1})})}),k.jsx("div",{className:"w-full",ref:c,children:k.jsx("div",{className:"group w-full h-5 sm:h-8 flex items-center cursor-pointer",onMouseDown:m,onTouchStart:m,onMouseLeave:d,onMouseMove:u,children:k.jsxs("div",{className:["relative w-full h-1 bg-muted-foreground/25 rounded-full transition-[height] duration-100 group-hover:h-1.5",h?"!h-1.5":""].join(" "),children:[k.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-muted-foreground/25 flex justify-end items-center",style:{width:n/e*100+"%"}}),k.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-primary flex justify-end items-center",style:{width:100*Math.max(0,Math.min(1,h?p/100:t/e))+"%"},children:k.jsx("div",{className:["w-[1rem] min-w-[1rem] h-[1rem] rounded-full transform translate-x-1/2 scale-0 group-hover:scale-100 bg-white transition-[transform] duration-100",s?"scale-100":""].join(" ")})})]})})})]})}function zo(e){const t=Ln((e=>e.display)),n=Ln((e=>e.progress.time)),{isMobile:r}=Ki(),o=i.useCallback((()=>{null==t||t.setTime(n+10)}),[t,n]);return k.jsx(Qi,{iconSizeClass:e.iconSizeClass,onClick:o,icon:k.jsx(co,{size:e.isCenter?r?35:45:30})})}function Bo(e){const t=Ln((e=>e.display)),n=Ln((e=>e.progress.time)),{isMobile:r}=Ki(),o=i.useCallback((()=>{null==t||t.setTime(n-10)}),[t,n]);return k.jsx(Qi,{iconSizeClass:e.iconSizeClass,onClick:o,icon:k.jsx(fo,{size:e.isCenter?r?35:45:30})})}function Vo(e){const t=Ln((e=>e.interface.timeFormat)),n=Ln((e=>e.setTimeFormat)),{duration:r,time:i,draggingTime:o}=Ln((e=>e.progress)),{isSeeking:a}=Ln((e=>e.interface)),s=Fo(r);const l=Math.min(Math.max(a?o:i,0),r),c=Math.abs(l-r),u=Io(l,s),d=new Date(Date.now()+1e3*c).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0}),f=Io(r,s);let h=t===En.REGULAR?"regular":"remaining";return e.short&&(h=t===En.REGULAR?"shortRegular":"shortRemaining"),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{className:"text-sm sm:text-base",children:u}),k.jsx(Qi,{className:"!p-0 sm:!p-2",onClick:()=>{n(t===En.REGULAR?En.REMAINING:En.REGULAR)},children:k.jsxs("span",{className:"text-sm sm:text-base",children:["regular"===h&&`${f}`,"remaining"===h&&`Finish at ${d}`]})})]})}function Uo(e){return k.jsx("div",{className:["spinner",e.className??""].join(" ")})}function Ho(){return Ln((e=>e.mediaPlaying.isLoading))?k.jsx(Uo,{className:"text-4xl"}):null}function Wo(){const e=Ln((e=>e.display)),t=Ln((e=>e.mediaPlaying.isPlaying)),n=Ln((e=>e.mediaPlaying.isLoading)),r=Ln((e=>e.mediaPlaying.hasPlayedOnce)),o=Ln((e=>e.status)),a=i.useCallback((()=>{null==e||e.play()}),[e]);return r||t||n||o!==Cn?null:k.jsx("div",{onClick:a,className:"group pointer-events-auto flex h-16 w-16 cursor-pointer items-center justify-center bg-video-autoPlay-background hover:bg-video-autoPlay-hover rounded-full text-white transition-[background-color,transform] hover:scale-125 active:scale-100",children:k.jsx(Fi,{icon:Ri.PLAY,className:"text-2xl transition-transform group-hover:scale-125"})})}function qo(){const e=Ln((e=>e.mediaPlaying.volume)),t=Ln((e=>e.interface.lastVolume)),n=Ln((e=>e.setLastVolume)),r=Ln((e=>e.display)),i=Mn((e=>e.setVolume));return{toggleMute(){(()=>{let o=0;e>0?(o=0,n(e)):o=t>0?t:1,null==r||r.setVolume(o),i(o)})()},setVolume(e){i(e),n(e),null==r||r.setVolume(e)}}}function Go(e){const t=i.useRef(null),n=Ln((e=>e.setHoveringLeftControls)),r=Ln((e=>e.interface.leftControlHovering)),o=Ln((e=>e.mediaPlaying.volume)),{setVolume:a,toggleMute:s}=qo(),l=i.useCallback((e=>{a(e)}),[a]),{dragging:c,dragPercentage:u,dragMouseDown:d}=Po(t,l,!0,e.vertical?"vertical":"horizontal"),f=i.useCallback((()=>{s()}),[s]),h=i.useCallback((async()=>{await ko()&&n(!0),document.body.classList.add("overflow-y-hidden")}),[n]);let p=Lo(100*o);c&&(p=Lo(u));const m=`${p.toFixed(2)}%`;const g=i.useCallback((e=>{e.preventDefault();let t=o-e.deltaY/1e3;t=Math.max(0,Math.min(t,1)),a(t)}),[o,a]),v=e=>0===e?Ri.VOLUME_X:e>0&&e<=.33?Ri.VOLUME_LOW:e>.33&&e<=.66?Ri.VOLUME_MED:Ri.VOLUME;return k.jsx("div",{className:e.className,onMouseEnter:h,onMouseLeave:()=>{document.body.classList.remove("overflow-y-hidden")},onWheel:g,children:e.vertical?k.jsxs("div",{className:"pointer-events-auto pt-6 flex flex-col gap-2 cursor-pointer items-center py-0 touch-none",children:[k.jsx("div",{className:"linear h-24 -mb-1 overflow-hidden",children:k.jsx("div",{ref:t,onMouseDown:d,onTouchStart:d,className:"relative h-20 w-4 flex flex-col items-center",children:k.jsx("div",{className:"relative w-1 flex-1 bg-muted-foreground/50 rounded-full",children:k.jsx("div",{className:"absolute inset-x-0 bottom-0 flex items-start justify-center  rounded-full bg-primary",style:{height:m},children:k.jsx("div",{className:"absolute h-3 w-3 top-0 rounded-full bg-white"})})})})}),k.jsx("div",{className:" text-lg text-white",onClick:f,children:k.jsx(Fi,{icon:v(p/100)})})]}):k.jsxs("div",{className:"pointer-events-auto flex cursor-pointer items-center py-0 touch-none",children:[k.jsx("div",{className:"px-2 text-white",onClick:f,children:k.jsx(Fi,{icon:v(p/100)})}),k.jsx("div",{className:"linear -ml-2 overflow-hidden transition-[width,opacity] duration-300 "+(e.show?"w-24":r||c?"!w-24 opacity-100":"w-4 opacity-0"),children:k.jsx("div",{ref:t,className:"flex h-10 w-20 items-center px-2",onMouseDown:d,onTouchStart:d,children:k.jsx("div",{className:"relative h-1 flex-1 rounded-full bg-accent bg-opacity-50",children:k.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-primary",style:{width:m},children:k.jsx("div",{className:"absolute h-3 w-3 translate-x-1/2 rounded-full bg-white"})})})})})]})})}function Zo({className:e}){const t=Ln((e=>{var t;return null==(t=e.meta)?void 0:t.title}));return k.jsx("p",{className:e,children:t})}function Qo({className:e}){const t=Ln((e=>e.meta));return t&&"tv"!==(null==t?void 0:t.type)?null:k.jsx("div",{className:Mi("flex gap-3 font-medium pr-24",e??"text-white"),children:k.jsx("span",{children:`S${null==t?void 0:t.currentSeason} - E${null==t?void 0:t.currentEpisode}`})})}function Ko(e){return k.jsxs("div",{className:Mi("relative",e.className),children:[k.jsx("div",{id:`__overlayRouter::${e.id}`,className:"absolute inset-0 -z-10"}),e.children]})}var Yo={exports:{}};function Jo(){}function Xo(){}Xo.resetWarningCache=Jo;Yo.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xo,resetWarningCache:Jo};return n.PropTypes=n,n}();var ea=Yo.exports,ta=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],na=ta.join(","),ra="undefined"==typeof Element,ia=ra?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,oa=!ra&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},aa=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},sa=function(e,t,n){if(aa(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(na));return t&&ia.call(e,na)&&r.unshift(e),r=r.filter(n)},la=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!aa(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{ia.call(a,na)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),u=!aa(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},ca=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ua=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!ca(e)?0:e.tabIndex},da=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},fa=function(e){return"INPUT"===e.tagName},ha=function(e){return function(e){return fa(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||oa(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},pa=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},ma=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=ia.call(e,"details>summary:first-of-type")?e.parentElement:e;if(ia.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return pa(e)}else{if("function"==typeof r){for(var o=e;e;){var a=e.parentElement,s=oa(e);if(a&&!a.shadowRoot&&!0===r(a))return pa(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&oa(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=o=oa(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},ga=function(e,t){return!(t.disabled||aa(t)||function(e){return fa(e)&&"hidden"===e.type}(t)||ma(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!ia.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},va=function(e,t){return!(ha(t)||ua(t)<0||!ga(e,t))},ya=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ba=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=ua(e);return n<0&&t&&!ca(e)?0:n}(a,o),l=o?e(t.candidates):a;0===s?o?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(da).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},wa=function(e,t){var n;return n=(t=t||{}).getShadowRoot?la([e],t.includeContainer,{filter:va.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ya}):sa(e,t.includeContainer,va.bind(null,t)),ba(n)},xa=function(e,t){return(t=t||{}).getShadowRoot?la([e],t.includeContainer,{filter:ga.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):sa(e,t.includeContainer,ga.bind(null,t))},Ca=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==ia.call(e,na)&&va(t,e)},_a=ta.concat("iframe").join(","),ka=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==ia.call(e,_a)&&ga(t,e)};
/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/const Sa=Object.freeze(Object.defineProperty({__proto__:null,focusable:xa,getTabIndex:ua,isFocusable:ka,isTabbable:Ca,tabbable:wa},Symbol.toStringTag,{value:"Module"}));
/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},Oa=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()},Aa=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},La=function(e){return Aa(e)&&!e.shiftKey},Ma=function(e){return Aa(e)&&e.shiftKey},Ra=function(e){return setTimeout(e,0)},Pa=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},Ia=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},Fa=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},Da=[];const $a=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:function(e,t){var n,r=(null==t?void 0:t.document)||document,i=(null==t?void 0:t.trapStack)||Da,o=ja({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:La,isKeyBackward:Ma},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var r=t.container,i=t.tabbableNodes;return r.contains(e)||(null==n?void 0:n.includes(r))||i.find((function(t){return t===e}))}))},c=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!ka(e,o.tabbableOptions))if(l(r.activeElement)>=0)e=r.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},d=function(){if(a.containerGroups=a.containers.map((function(e){var t=wa(e,o.tabbableOptions),n=xa(e,o.tabbableOptions),r=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return Ca(e)})),s=n.slice().reverse().find((function(e){return Ca(e)})),l=!!t.find((function(e){return ua(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.indexOf(e);return i<0?r?n.slice(n.indexOf(e)+1).find((function(e){return Ca(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return Ca(e)})):t[i+(r?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},h=function e(t){!1!==t&&t!==f(document)&&(t&&t.focus?(t.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(u()))},p=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},m=function(e){var t=e.target,n=e.event,r=e.isBackward,i=void 0!==r&&r;t=t||Fa(n),d();var s=null;if(a.tabbableGroups.length>0){var u=l(t,n),f=u>=0?a.containerGroups[u]:void 0;if(u<0)s=i?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(i){var h=Pa(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(h<0&&(f.container===t||ka(t,o.tabbableOptions)&&!Ca(t,o.tabbableOptions)&&!f.nextTabbableNode(t,!1))&&(h=u),h>=0){var p=0===h?a.tabbableGroups.length-1:h-1,m=a.tabbableGroups[p];s=ua(t)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else Aa(n)||(s=f.nextTabbableNode(t,!1))}else{var g=Pa(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(g<0&&(f.container===t||ka(t,o.tabbableOptions)&&!Ca(t,o.tabbableOptions)&&!f.nextTabbableNode(t))&&(g=u),g>=0){var v=g===a.tabbableGroups.length-1?0:g+1,y=a.tabbableGroups[v];s=ua(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else Aa(n)||(s=f.nextTabbableNode(t))}}else s=c("fallbackFocus");return s},g=function(e){var t=Fa(e);l(t,e)>=0||(Ia(o.clickOutsideDeactivates,e)?n.deactivate({returnFocus:o.returnFocusOnDeactivate}):Ia(o.allowOutsideClick,e)||e.preventDefault())},v=function(e){var t=Fa(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var r;e.stopImmediatePropagation();var i=!0;if(a.mostRecentlyFocusedNode)if(ua(a.mostRecentlyFocusedNode)>0){var s=l(a.mostRecentlyFocusedNode),c=a.containerGroups[s].tabbableNodes;if(c.length>0){var d=c.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));d>=0&&(o.isKeyForward(a.recentNavEvent)?d+1<c.length&&(r=c[d+1],i=!1):d-1>=0&&(r=c[d-1],i=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return ua(e)>0}))}))||(i=!1);else i=!1;i&&(r=m({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),h(r||(a.mostRecentlyFocusedNode||u()))}a.recentNavEvent=void 0},y=function(e){if(!(t=e,"Escape"!==(null==t?void 0:t.key)&&"Esc"!==(null==t?void 0:t.key)&&27!==(null==t?void 0:t.keyCode)||!1===Ia(o.escapeDeactivates,e)))return e.preventDefault(),void n.deactivate();var t;(o.isKeyForward(e)||o.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=m({event:e,isBackward:t});n&&(Aa(e)&&e.preventDefault(),h(n))}(e,o.isKeyBackward(e))},b=function(e){var t=Fa(e);l(t,e)>=0||Ia(o.clickOutsideDeactivates,e)||Ia(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},w=function(){if(a.active)return Na(i,n),a.delayInitialFocusTimer=o.delayInitialFocus?Ra((function(){h(u())})):h(u()),r.addEventListener("focusin",v,!0),r.addEventListener("mousedown",g,{capture:!0,passive:!1}),r.addEventListener("touchstart",g,{capture:!0,passive:!1}),r.addEventListener("click",b,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),n},x=function(){if(a.active)return r.removeEventListener("focusin",v,!0),r.removeEventListener("mousedown",g,!0),r.removeEventListener("touchstart",g,!0),r.removeEventListener("click",b,!0),r.removeEventListener("keydown",y,!0),n},C="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&h(u())})):void 0,_=function(){C&&(C.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){C.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),i=s(e,"checkCanFocusTrap");i||d(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,null==t||t();var o=function(){i&&d(),w(),_(),null==n||n()};return i?(i(a.containers.concat()).then(o,o),this):(o(),this)},deactivate:function(e){if(!a.active)return this;var t=ja({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,x(),a.active=!1,a.paused=!1,_(),Oa(i,n);var r=s(t,"onDeactivate"),l=s(t,"onPostDeactivate"),c=s(t,"checkCanReturnFocus"),u=s(t,"returnFocus","returnFocusOnDeactivate");null==r||r();var d=function(){Ra((function(){u&&h(p(a.nodeFocusedBeforeActivation)),null==l||l()}))};return u&&c?(c(p(a.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null==t||t(),x(),_(),null==n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null==t||t(),d(),w(),_(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"==typeof e?r.querySelector(e):e})),a.active&&d(),_(),this}}).updateContainerElements(e),n}},Symbol.toStringTag,{value:"Module"})),za=c($a),Ba=c(Sa);function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Za(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ha(e,t){return(Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(fs){return!1}}();return function(){var n,r=Ga(e);if(t){var i=Ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qa(e)}(this,n)}}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e){var t=function(e,t){if("object"!==Va(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Va(t)?t:String(t)}var Qa=i,Ka=ea,Ya=za.createFocusTrap,Ja=Ba.isFocusable,Xa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(t,Qa.Component);var e=Wa(t);function t(n){var r,i,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=e.call(this,n),i=qa(r),a=function(e){var t,n=null!==(t=this.internalOptions[e])&&void 0!==t?t:this.originalOptions[e];if("function"==typeof n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];n=n.apply(void 0,i)}if(!0===n&&(n=void 0),!n){if(void 0===n||!1===n)return n;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var a,s=n;if("string"==typeof n&&!(s=null===(a=this.getDocument())||void 0===a?void 0:a.querySelector(n)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},(o=Za(o="getNodeForOption"))in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,r.handleDeactivate=r.handleDeactivate.bind(qa(r)),r.handlePostDeactivate=r.handlePostDeactivate.bind(qa(r)),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(qa(r)),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s=n.focusTrapOptions;for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&("returnFocusOnDeactivate"!==l&&"onDeactivate"!==l&&"onPostDeactivate"!==l&&"checkCanReturnFocus"!==l&&"clickOutsideDeactivates"!==l?r.internalOptions[l]=s[l]:r.originalOptions[l]=s[l]);return r.outsideClick=null,r.focusTrapElements=n.containerElements||[],r.updatePreviousElement(),r}return Ua(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return e||!1!==e&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(e){var t="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,e):this.originalOptions.clickOutsideDeactivates;return t&&(this.outsideClick={target:e.target,allowDeactivation:t}),t}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var e=this,t=function(){var t=e.getReturnFocusNode(),n=!(!e.originalOptions.returnFocusOnDeactivate||null==t||!t.focus||e.outsideClick&&(!e.outsideClick.allowDeactivation||Ja(e.outsideClick.target,e.internalOptions.tabbableOptions))),r=e.internalOptions.preventScroll,i=void 0!==r&&r;n&&t.focus({preventScroll:i}),e.originalOptions.onPostDeactivate&&e.originalOptions.onPostDeactivate.call(null),e.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(t,t):t()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var t=!e.active&&this.props.active,n=e.active&&!this.props.active,r=!e.paused&&this.props.paused,i=e.paused&&!this.props.paused;if(t&&(this.updatePreviousElement(),this.focusTrap.activate()),n)return void this.deactivateTrap();r&&this.focusTrap.pause(),i&&this.focusTrap.unpause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var e=this,t=this.props.children?Qa.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===Qa.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return Qa.cloneElement(t,{ref:function(n){var r=e.props.containerElements;t&&("function"==typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)),e.focusTrapElements=r||[n]}})}return null}}]),t}(),es="undefined"==typeof Element?Function:Element;Xa.propTypes={active:Ka.bool,paused:Ka.bool,focusTrapOptions:Ka.shape({document:Ka.object,onActivate:Ka.func,onPostActivate:Ka.func,checkCanFocusTrap:Ka.func,onPause:Ka.func,onPostPause:Ka.func,onUnpause:Ka.func,onPostUnpause:Ka.func,onDeactivate:Ka.func,onPostDeactivate:Ka.func,checkCanReturnFocus:Ka.func,initialFocus:Ka.oneOfType([Ka.instanceOf(es),Ka.string,Ka.bool,Ka.func]),fallbackFocus:Ka.oneOfType([Ka.instanceOf(es),Ka.string,Ka.func]),escapeDeactivates:Ka.oneOfType([Ka.bool,Ka.func]),clickOutsideDeactivates:Ka.oneOfType([Ka.bool,Ka.func]),returnFocusOnDeactivate:Ka.bool,setReturnFocus:Ka.oneOfType([Ka.instanceOf(es),Ka.string,Ka.bool,Ka.func]),allowOutsideClick:Ka.oneOfType([Ka.bool,Ka.func]),preventScroll:Ka.bool,tabbableOptions:Ka.shape({displayCheck:Ka.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:Ka.oneOfType([Ka.bool,Ka.func])}),trapStack:Ka.array,isKeyForward:Ka.func,isKeyBackward:Ka.func}),containerElements:Ka.arrayOf(Ka.instanceOf(es)),children:Ka.oneOfType([Ka.element,Ka.instanceOf(es)])},Xa.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Ya};const ts=a(Xa);var ns=Object.defineProperty,rs=(e,t,n)=>(((e,t,n)=>{t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let is=new class{constructor(){rs(this,"current",this.detect()),rs(this,"handoffState","pending"),rs(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function os(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add((()=>e.removeEventListener(n,r,i)))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add((()=>cancelAnimationFrame(n)))},nextFrame:(...e)=>t.requestAnimationFrame((()=>t.requestAnimationFrame(...e))),setTimeout(...e){let n=setTimeout(...e);return t.add((()=>clearTimeout(n)))},microTask(...e){let n={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{n.current&&e[0]()})),t.add((()=>{n.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=os();return e(t),this.add((()=>t.dispose()))},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function as(){let[e]=i.useState(os);return i.useEffect((()=>()=>e.dispose()),[e]),e}let ss=(e,t)=>{is.isServer?i.useEffect(e,t):i.useLayoutEffect(e,t)};function ls(e){let t=i.useRef(e);return ss((()=>{t.current=e}),[e]),t}let cs=function(e){let t=ls(e);return s.useCallback(((...e)=>t.current(...e)),[t])};function us(...e){return Array.from(new Set(e.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}function ds(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ds),r}var fs,hs,ps=((hs=ps||{})[hs.None=0]="None",hs[hs.RenderStrategy=1]="RenderStrategy",hs[hs.Static=2]="Static",hs),ms=((fs=ms||{})[fs.Unmount=0]="Unmount",fs[fs.Hidden=1]="Hidden",fs);function gs({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:a,mergeRefs:s}){s=null!=s?s:ys;let l=bs(t,e);if(o)return vs(l,n,r,a,s);let c=null!=i?i:0;if(2&c){let{static:e=!1,...t}=l;if(e)return vs(t,n,r,a,s)}if(1&c){let{unmount:e=!0,...t}=l;return ds(e?0:1,{0:()=>null,1:()=>vs({...t,hidden:!0,style:{display:"none"}},n,r,a,s)})}return vs(l,n,r,a,s)}function vs(e,t={},n,r,o){let{as:a=n,children:s,refName:l="ref",...c}=Cs(e,["unmount","static"]),u=void 0!==e.ref?{[l]:e.ref}:{},d="function"==typeof s?s(t):s;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)));if(e){f["data-headlessui-state"]=n.join(" ");for(let e of n)f[`data-${e}`]=""}}if(a===i.Fragment&&(Object.keys(xs(c)).length>0||Object.keys(xs(f)).length>0)){if(i.isValidElement(d)&&!(Array.isArray(d)&&d.length>1)){let e=d.props,t=null==e?void 0:e.className,n="function"==typeof t?(...e)=>us(t(...e),c.className):us(t,c.className),r=n?{className:n}:{},a=bs(d.props,xs(Cs(c,["ref"])));for(let i in f)i in a&&delete f[i];return i.cloneElement(d,Object.assign({},a,f,u,{ref:o(d.ref,u.ref)},r))}if(Object.keys(xs(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xs(c)).concat(Object.keys(xs(f))).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"))}return i.createElement(a,Object.assign({},Cs(c,["ref"]),a!==i.Fragment&&u,a!==i.Fragment&&f),d)}function ys(...e){return e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function bs(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let r in n)Object.assign(t,{[r](e,...t){let i=n[r];for(let n of i){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;n(e,...t)}}});return t}function ws(e){var t;return Object.assign(i.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function xs(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function Cs(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let _s=Symbol();function ks(...e){let t=i.useRef(e);i.useEffect((()=>{t.current=e}),[e]);let n=cs((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[_s])))?void 0:n}var Ss=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ss||{});function Es(e){let t={};for(let n in e)!0===e[n]&&(t[`data-${n}`]="");return t}function js(e,t,n,r){let[o,a]=i.useState(n),{hasFlag:s,addFlag:l,removeFlag:c}=function(e=0){let[t,n]=i.useState(e),r=i.useCallback((e=>n(e)),[t]),o=i.useCallback((e=>n((t=>t|e))),[t]),a=i.useCallback((e=>(t&e)===e),[t]),s=i.useCallback((e=>n((t=>t&~e))),[n]),l=i.useCallback((e=>n((t=>t^e))),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:a,removeFlag:s,toggleFlag:l}}(e&&o?3:0),u=i.useRef(!1),d=i.useRef(!1),f=as();return ss((()=>{var i;if(e)return n&&a(!0),t?(null==(i=null==r?void 0:r.start)||i.call(r,n),function(e,{prepare:t,run:n,done:r,inFlight:i}){let o=os();return function(e,{inFlight:t,prepare:n}){if(null!=t&&t.current)return void n();let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}(e,{prepare:t,inFlight:i}),o.nextFrame((()=>{o.add(function(e,t){let n=function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(t),r=os();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(e),[a,s]=[i,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t})),l=a+s;if(0!==l){let t=r.group((r=>{let i=r.setTimeout((()=>{n(),r.dispose()}),l);r.addEventListener(e,"transitionrun",(o=>{o.target===o.currentTarget&&(i(),r.addEventListener(e,"transitioncancel",(e=>{e.target===e.currentTarget&&(n(),t())})))}))}));r.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(n(),r.dispose())}))}else n();return r.dispose}(e,r)),n()})),o.dispose}(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var e;d.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(u.current=!1,c(7),n||a(!1),null==(e=null==r?void 0:r.end)||e.call(r,n))}})):void(n&&l(3))}),[e,n,t,f]),e?[o,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}let Ts=i.createContext(null);Ts.displayName="OpenClosedContext";var Ns=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ns||{});function Os(){return i.useContext(Ts)}function As({value:e,children:t}){return s.createElement(Ts.Provider,{value:e},t)}function Ls(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in o&&o.useSyncExternalStore((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=i.useState(is.isHandoffComplete);return t&&!1===is.isHandoffComplete&&n(!1),i.useEffect((()=>{!0!==t&&n(!0)}),[t]),i.useEffect((()=>is.handoff()),[]),!e&&t}function Ms(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:zs)!==i.Fragment||1===s.Children.count(e.children)}let Rs=i.createContext(null);Rs.displayName="TransitionContext";var Ps,Is=((Ps=Is||{}).Visible="visible",Ps.Hidden="hidden",Ps);let Fs=i.createContext(null);function Ds(e){return"children"in e?Ds(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function $s(e,t){let n=ls(e),r=i.useRef([]),o=function(){let e=i.useRef(!1);return ss((()=>(e.current=!0,()=>{e.current=!1})),[]),e}(),a=as(),s=cs(((e,t=ms.Hidden)=>{let i=r.current.findIndex((({el:t})=>t===e));-1!==i&&(ds(t,{[ms.Unmount](){r.current.splice(i,1)},[ms.Hidden](){r.current[i].state="hidden"}}),a.microTask((()=>{var e;!Ds(r)&&o.current&&(null==(e=n.current)||e.call(n))})))})),l=cs((e=>{let t=r.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>s(e,ms.Unmount)})),c=i.useRef([]),u=i.useRef(Promise.resolve()),d=i.useRef({enter:[],leave:[]}),f=cs(((e,n,r)=>{c.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((([t])=>t!==e))),null==t||t.chains.current[n].push([e,new Promise((e=>{c.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(d.current[n].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===n?u.current=u.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),h=cs(((e,t,n)=>{Promise.all(d.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=c.current.shift())||e()})).then((()=>n(t)))}));return i.useMemo((()=>({children:r,register:l,unregister:s,onStart:f,onStop:h,wait:u,chains:d})),[l,s,r,f,h,d,u])}Fs.displayName="NestingContext";let zs=i.Fragment,Bs=ps.RenderStrategy;let Vs=ws((function(e,t){let{show:n,appear:r=!1,unmount:o=!0,...a}=e,l=i.useRef(null),c=ks(...Ms(e)?[l,t]:null===t?[]:[t]);Ls();let u=Os();if(void 0===n&&null!==u&&(n=(u&Ns.Open)===Ns.Open),void 0===n)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=i.useState(n?"visible":"hidden"),h=$s((()=>{n||f("hidden")})),[p,m]=i.useState(!0),g=i.useRef([n]);ss((()=>{!1!==p&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))}),[g,n]);let v=i.useMemo((()=>({show:n,appear:r,initial:p})),[n,r,p]);ss((()=>{n?f("visible"):!Ds(h)&&null!==l.current&&f("hidden")}),[n,h]);let y={unmount:o},b=cs((()=>{var t;p&&m(!1),null==(t=e.beforeEnter)||t.call(e)})),w=cs((()=>{var t;p&&m(!1),null==(t=e.beforeLeave)||t.call(e)}));return s.createElement(Fs.Provider,{value:h},s.createElement(Rs.Provider,{value:v},gs({ourProps:{...y,as:i.Fragment,children:s.createElement(Us,{ref:c,...y,...a,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:i.Fragment,features:Bs,visible:"visible"===d,name:"Transition"})))})),Us=ws((function(e,t){var n,r;let{transition:o=!0,beforeEnter:a,afterEnter:l,beforeLeave:c,afterLeave:u,enter:d,enterFrom:f,enterTo:h,entered:p,leave:m,leaveFrom:g,leaveTo:v,...y}=e,[b,w]=i.useState(null),x=i.useRef(null),C=Ms(e),_=ks(...C?[x,t,w]:null===t?[]:[t]),k=null==(n=y.unmount)||n?ms.Unmount:ms.Hidden,{show:S,appear:E,initial:j}=function(){let e=i.useContext(Rs);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[T,N]=i.useState(S?"visible":"hidden"),O=function(){let e=i.useContext(Fs);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:A,unregister:L}=O;ss((()=>A(x)),[A,x]),ss((()=>{if(k===ms.Hidden&&x.current)return S&&"visible"!==T?void N("visible"):ds(T,{hidden:()=>L(x),visible:()=>A(x)})}),[T,x,A,L,S,k]);let M=Ls();ss((()=>{if(C&&M&&"visible"===T&&null===x.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[x,T,M,C]);let R=j&&!E,P=E&&S&&j,I=i.useRef(!1),F=$s((()=>{I.current||(N("hidden"),L(x))}),O),D=cs((e=>{I.current=!0;let t=e?"enter":"leave";F.onStart(x,t,(e=>{"enter"===e?null==a||a():"leave"===e&&(null==c||c())}))})),$=cs((e=>{let t=e?"enter":"leave";I.current=!1,F.onStop(x,t,(e=>{"enter"===e?null==l||l():"leave"===e&&(null==u||u())})),"leave"===t&&!Ds(F)&&(N("hidden"),L(x))}));i.useEffect((()=>{C&&o||(D(S),$(S))}),[S,C,o]);let z=(()=>!(!o||!C||!M||R))(),[,B]=js(z,b,S,{start:D,end:$}),V=xs({ref:_,className:(null==(r=us(y.className,P&&d,P&&f,B.enter&&d,B.enter&&B.closed&&f,B.enter&&!B.closed&&h,B.leave&&m,B.leave&&!B.closed&&g,B.leave&&B.closed&&v,!B.transition&&S&&p))?void 0:r.trim())||void 0,...Es(B)}),U=0;return"visible"===T&&(U|=Ns.Open),"hidden"===T&&(U|=Ns.Closed),B.enter&&(U|=Ns.Opening),B.leave&&(U|=Ns.Closing),s.createElement(Fs.Provider,{value:F},s.createElement(As,{value:U},gs({ourProps:V,theirProps:y,defaultTag:zs,features:Bs,visible:"visible"===T,name:"Transition.Child"})))})),Hs=ws((function(e,t){let n=null!==i.useContext(Rs),r=null!==Os();return s.createElement(s.Fragment,null,!n&&r?s.createElement(Vs,{ref:t,...e}):s.createElement(Us,{ref:t,...e}))})),Ws=Object.assign(Vs,{Child:Hs,Root:Vs});function qs(e){const t=e.durationClass??"duration-200",n=function(e,t){return"slide-down"===e?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"-translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0 -translate-y-4",enterTo:"translate-y-0 opacity-100"}:"slide-up"===e?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"translate-y-0 opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0 translate-y-8",enterTo:"translate-y-0 opacity-100"}:"slide-full-left"===e?{leave:`transition-[transform] ${t}`,leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",enter:`transition-[transform] ${t}`,enterFrom:"-translate-x-full",enterTo:"translate-x-0"}:"slide-full-right"===e?{leave:`transition-[transform] ${t}`,leaveFrom:"translate-x-0",leaveTo:"translate-x-full",enter:`transition-[transform] ${t}`,enterFrom:"translate-x-full",enterTo:"translate-x-0"}:"fade"===e?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100",leaveTo:"opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0",enterTo:"opacity-100"}:{}}(e.animation,t);return e.isChild?k.jsx(Ws.Child,{as:i.Fragment,...n,children:k.jsx("div",{className:e.className,style:e.style,children:e.children})}):k.jsx(Ws,{show:e.show,as:i.Fragment,...n,children:k.jsx("div",{className:e.className,style:e.style,children:e.children})})}function Gs(e){const t=function(){const e=pe();return i.useMemo((()=>Object.fromEntries(new URLSearchParams(e.search).entries())),[e.search])}(),n=pe(),r=ge();return[t[e]??null,i.useCallback((t=>{const i=new URLSearchParams(n.search);t?i.set(e,t):i.delete(e),r({search:i.toString()})}),[e,n.search,r])]}const Zs=mt(an((e=>({transition:null,routes:{},anchorPoint:null,setTransition(t){e((e=>{e.transition=t}))},registerRoute(t){e((e=>{e.routes[t.id]=t}))},setAnchorPoint(t){e((e=>{e.anchorPoint=t}))}}))));function Qs(e,t){return[t??"",...e.split("/")].filter((e=>e.length>0))}function Ks(e){return`/${e.join("/")}`}function Ys(e){const[t,n]=Gs("r"),r=Zs((e=>e.transition)),o=Zs((e=>e.setTransition)),a=!!t&&t.startsWith(`/${e}`);const s=i.useCallback((e=>{t&&!e&&n(null),o(null)}),[n,t,o]),l=i.useCallback(((t="/")=>{o(null),n(Ks(Qs(t,e)))}),[e,n,o]);return{activeRoute:a?Ks(Qs(t.slice(`/${e}`.length))):"/",showBackwardsTransition:function(t){if(!r)return"none";const n=Ks(Qs(t,e));return n===r.to&&r.from.startsWith(r.to)||n===r.from&&r.to.startsWith(r.from)?"yes":"no"},isCurrentPage:function(n){return a&&t===Ks(Qs(n,e))},isOverlayActive:function(){return a},navigate:function(r){const i=t,a=Ks(Qs(r,e));o({from:i??"/",to:a}),n(a)},close:s,open:l,makePath:function(t){return Ks(Qs(t,e))},currentRoute:t}}function Js(e){const t=Ys(e);return{id:e,route:t.activeRoute,isRouterActive:t.isOverlayActive(),open:t.open,close:t.close,navigate:t.navigate}}function Xs(e){const t=Ys("hello world :)"),n=i.useRef(t);return i.useEffect((()=>{const e=n.current;return e.close(),()=>{e.close()}}),[]),k.jsx("div",{className:"popout-location",children:e.children})}function el(e){const[t,n]=i.useState(null),r=i.useRef(null),o=e.close;return i.useEffect((()=>{var e;const t=null==(e=r.current)?void 0:e.closest(".popout-location");n(t??document.body)}),[]),k.jsx("div",{ref:r,children:t?u.createPortal(k.jsx(qs,{show:e.show,animation:"none",children:k.jsx(ts,{children:k.jsxs("div",{className:"popout-wrapper fixed overflow-hidden pointer-events-auto inset-0 z-[999] select-none",children:[k.jsx(qs,{animation:"fade",isChild:!0,children:k.jsx("div",{onClick:o,className:Mi({"absolute inset-0":!0,"bg-black opacity-90":e.darken})})}),k.jsxs(qs,{animation:"slide-up",className:"absolute inset-0 pointer-events-none",isChild:!0,children:[k.jsx("div",{tabIndex:1,className:"focus:ring-0 focus:outline-none opacity-0"}),e.children]})]})})}),t):null})}function tl(e){const t=Ys(e.id),n=t.close;!function(e){const[t]=Gs("r"),n=Zs((e=>e.setAnchorPoint)),r=i.useMemo((()=>!!t&&t.startsWith(`/${e}`)),[t,e]),o=i.useCallback((()=>{if(!r)return;const t=document.getElementById(`__overlayRouter::${e}`);if(t){const e=t.getBoundingClientRect();n({h:e.height,w:e.width,x:e.x,y:e.y})}}),[r,n,e]);i.useEffect((()=>{o()}),[r,o]),i.useEffect((()=>{function e(){o()}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[o])}(e.id);const r=i.useCallback((()=>{n()}),[n]);return k.jsx(el,{close:r,show:t.isOverlayActive(),darken:e.darken,children:e.children})}function nl(e){const t=Ys(e.id),n=t.showBackwardsTransition(e.path),r=t.isCurrentPage(e.path),o=Zs((e=>e.registerRoute)),a=i.useMemo((()=>t.makePath(e.path)),[e.path,t]),{isMobile:s}=Ki();i.useEffect((()=>{o({id:a,width:e.width,height:e.height})}),[e.height,e.width,a,o]);const l=s?"100%":`${e.width}px`;let c="none";return"yes"!==n&&"no"!==n||(c="yes"===n?"slide-full-left":"slide-full-right"),k.jsx(qs,{animation:c,className:"absolute inset-0",durationClass:"duration-[400ms]",show:r,children:k.jsx("div",{className:Mi(["grid grid-rows-1 max-h-full",e.className]),style:{height:e.height?`${e.height}px`:void 0,width:e.width?l:void 0},children:e.children})})}var rl=bl(),il=e=>ml(e,rl),ol=bl();il.write=e=>ml(e,ol);var al=bl();il.onStart=e=>ml(e,al);var sl=bl();il.onFrame=e=>ml(e,sl);var ll=bl();il.onFinish=e=>ml(e,ll);var cl=[];il.setTimeout=(e,t)=>{const n=il.now()+t,r=()=>{const e=cl.findIndex((e=>e.cancel==r));~e&&cl.splice(e,1),hl-=~e?1:0},i={time:n,handler:e,cancel:r};return cl.splice(ul(n),0,i),hl+=1,gl(),i};var ul=e=>~(~cl.findIndex((t=>t.time>e))||~cl.length);il.cancel=e=>{al.delete(e),sl.delete(e),ll.delete(e),rl.delete(e),ol.delete(e)},il.sync=e=>{pl=!0,il.batchedUpdates(e),pl=!1},il.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,il.onStart(n)}return r.handler=e,r.cancel=()=>{al.delete(n),t=null},r};var dl="undefined"!=typeof window?window.requestAnimationFrame:()=>{};il.use=e=>dl=e,il.now="undefined"!=typeof performance?()=>performance.now():Date.now,il.batchedUpdates=e=>e(),il.catch=console.error,il.frameLoop="always",il.advance=()=>{"demand"!==il.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):yl()};var fl=-1,hl=0,pl=!1;function ml(e,t){pl?(t.delete(e),e(0)):(t.add(e),gl())}function gl(){fl<0&&(fl=0,"demand"!==il.frameLoop&&dl(vl))}function vl(){~fl&&(dl(vl),il.batchedUpdates(yl))}function yl(){const e=fl;fl=il.now();const t=ul(fl);t&&(wl(cl.splice(0,t),(e=>e.handler())),hl-=t),hl?(al.flush(),rl.flush(e?Math.min(64,fl-e):16.667),sl.flush(),ol.flush(),ll.flush()):fl=-1}function bl(){let e=new Set,t=e;return{add(n){hl+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(hl-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,hl-=t.size,wl(t,(t=>t(n)&&e.add(t))),hl+=e.size,t=e)}}}function wl(e,t){e.forEach((e=>{try{t(e)}catch(fs){il.catch(fs)}}))}var xl=Object.defineProperty,Cl={};function _l(){}((e,t)=>{for(var n in t)xl(e,n,{get:t[n],enumerable:!0})})(Cl,{assign:()=>Fl,colors:()=>Rl,createStringInterpolator:()=>Ol,skipAnimation:()=>Pl,to:()=>Al,willAdvance:()=>Il});var kl={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function Sl(e,t){if(kl.arr(e)){if(!kl.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var El=(e,t)=>e.forEach(t);function jl(e,t,n){if(kl.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Tl=e=>kl.und(e)?[]:kl.arr(e)?e:[e];function Nl(e,t){if(e.size){const n=Array.from(e);e.clear(),El(n,t)}}var Ol,Al,Ll=(e,...t)=>Nl(e,(e=>e(...t))),Ml=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Rl=null,Pl=!1,Il=_l,Fl=e=>{e.to&&(Al=e.to),e.now&&(il.now=e.now),void 0!==e.colors&&(Rl=e.colors),null!=e.skipAnimation&&(Pl=e.skipAnimation),e.createStringInterpolator&&(Ol=e.createStringInterpolator),e.requestAnimationFrame&&il.use(e.requestAnimationFrame),e.batchedUpdates&&(il.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Il=e.willAdvance),e.frameLoop&&(il.frameLoop=e.frameLoop)},Dl=new Set,$l=[],zl=[],Bl=0,Vl={get idle(){return!Dl.size&&!$l.length},start(e){Bl>e.priority?(Dl.add(e),il.onStart(Ul)):(Hl(e),il(ql))},advance:ql,sort(e){if(Bl)il.onFrame((()=>Vl.sort(e)));else{const t=$l.indexOf(e);~t&&($l.splice(t,1),Wl(e))}},clear(){$l=[],Dl.clear()}};function Ul(){Dl.forEach(Hl),Dl.clear(),il(ql)}function Hl(e){$l.includes(e)||Wl(e)}function Wl(e){$l.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}($l,(t=>t.priority>e.priority)),0,e)}function ql(e){const t=zl;for(let n=0;n<$l.length;n++){const r=$l[n];Bl=r.priority,r.idle||(Il(r),r.advance(e),r.idle||t.push(r))}return Bl=0,(zl=$l).length=0,($l=t).length>0}var Gl="[-+]?\\d*\\.?\\d+",Zl=Gl+"%";function Ql(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Kl=new RegExp("rgb"+Ql(Gl,Gl,Gl)),Yl=new RegExp("rgba"+Ql(Gl,Gl,Gl,Gl)),Jl=new RegExp("hsl"+Ql(Gl,Zl,Zl)),Xl=new RegExp("hsla"+Ql(Gl,Zl,Zl,Gl)),ec=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tc=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nc=/^#([0-9a-fA-F]{6})$/,rc=/^#([0-9a-fA-F]{8})$/;function ic(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oc(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=ic(i,r,e+1/3),a=ic(i,r,e),s=ic(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function ac(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function sc(e){return(parseFloat(e)%360+360)%360/360}function lc(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function cc(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function uc(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=nc.exec(e))?parseInt(t[1]+"ff",16)>>>0:Rl&&void 0!==Rl[e]?Rl[e]:(t=Kl.exec(e))?(ac(t[1])<<24|ac(t[2])<<16|ac(t[3])<<8|255)>>>0:(t=Yl.exec(e))?(ac(t[1])<<24|ac(t[2])<<16|ac(t[3])<<8|lc(t[4]))>>>0:(t=ec.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=rc.exec(e))?parseInt(t[1],16)>>>0:(t=tc.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Jl.exec(e))?(255|oc(sc(t[1]),cc(t[2]),cc(t[3])))>>>0:(t=Xl.exec(e))?(oc(sc(t[1]),cc(t[2]),cc(t[3]))|lc(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var dc=(e,t,n)=>{if(kl.fun(e))return e;if(kl.arr(e))return dc({range:e,output:t,extrapolate:n});if(kl.str(e.output[0]))return Ol(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,l){let c=l?l(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],l,a,s,r.map)}};var fc=1.70158,hc=1.525*fc,pc=fc+1,mc=2*Math.PI/3,gc=2*Math.PI/4.5,vc=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},yc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>pc*e*e*e-fc*e*e,easeOutBack:e=>1+pc*Math.pow(e-1,3)+fc*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-hc)/2:(Math.pow(2*e-2,2)*((hc+1)*(2*e-2)+hc)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*mc),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*mc)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*gc)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*gc)/2+1,easeInBounce:e=>1-vc(1-e),easeOutBounce:vc,easeInOutBounce:e=>e<.5?(1-vc(1-2*e))/2:(1+vc(2*e-1))/2,steps:(e,t="end")=>n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return o=0,a=1,s=i/e,Math.min(Math.max(s,o),a);var o,a,s}},bc=Symbol.for("FluidValue.get"),wc=Symbol.for("FluidValue.observers"),xc=e=>Boolean(e&&e[bc]),Cc=e=>e&&e[bc]?e[bc]():e,_c=e=>e[wc]||null;function kc(e,t){const n=e[wc];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Sc=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Ec(this,e)}},Ec=(e,t)=>Oc(e,bc,t);function jc(e,t){if(e[bc]){let n=e[wc];n||Oc(e,wc,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Tc(e,t){const n=e[wc];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[wc]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Nc,Oc=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Ac=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Lc=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Mc=new RegExp(`(${Ac.source})(%|[a-z]+)`,"i"),Rc=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Pc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ic=e=>{const[t,n]=Fc(e);if(!t||Ml())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Pc.test(n)?Ic(n):n||e},Fc=e=>{const t=Pc.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Dc=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,$c=e=>{Nc||(Nc=Rl?new RegExp(`(${Object.keys(Rl).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Cc(e).replace(Pc,Ic).replace(Lc,uc).replace(Nc,uc))),n=t.map((e=>e.match(Ac).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>dc({...e,output:t})));return e=>{var n;const i=!Mc.test(t[0])&&(null==(n=t.find((e=>Mc.test(e))))?void 0:n.replace(Ac,""));let o=0;return t[0].replace(Ac,(()=>`${r[o++](e)}${i||""}`)).replace(Rc,Dc)}},zc="react-spring: ",Bc=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${zc}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},Vc=Bc(console.warn);var Uc=Bc(console.warn);function Hc(e){return kl.str(e)&&("#"==e[0]||/\d/.test(e)||!Ml()&&Pc.test(e)||e in(Rl||{}))}var Wc=Ml()?i.useEffect:i.useLayoutEffect;function qc(){const e=i.useState()[1],t=(()=>{const e=i.useRef(!1);return Wc((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{t.current&&e(Math.random())}}var Gc=e=>i.useEffect(e,Zc),Zc=[];function Qc(e){const t=i.useRef();return i.useEffect((()=>{t.current=e})),t.current}var Kc=Symbol.for("Animated:node"),Yc=e=>e&&e[Kc],Jc=(e,t)=>{return n=e,r=Kc,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},Xc=e=>e&&e[Kc]&&e[Kc].getPayload(),eu=class{constructor(){Jc(this,this)}getPayload(){return this.payload||[]}},tu=class extends eu{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,kl.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new tu(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return kl.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,kl.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},nu=class extends tu{constructor(e){super(0),this._string=null,this._toString=dc({output:[e,e]})}static create(e){return new nu(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(kl.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=dc({output:[this.getValue(),e]})),this._value=0,super.reset()}},ru={dependencies:null},iu=class extends eu{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return jl(this.source,((n,r)=>{var i;(i=n)&&i[Kc]===i?t[r]=n.getValue(e):xc(n)?t[r]=Cc(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&El(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return jl(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){ru.dependencies&&xc(e)&&ru.dependencies.add(e);const t=Xc(e);t&&El(t,(e=>this.add(e)))}},ou=class extends iu{constructor(e){super(e)}static create(e){return new ou(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(au)),!0)}};function au(e){return(Hc(e)?nu:tu).create(e)}function su(e){const t=Yc(e);return t?t.constructor:kl.arr(e)?ou:Hc(e)?nu:tu}var lu=(e,t)=>{const n=!kl.fun(e)||e.prototype&&e.prototype.isReactComponent;return i.forwardRef(((r,o)=>{const a=i.useRef(null),s=n&&i.useCallback((e=>{a.current=function(e,t){e&&(kl.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[l,c]=function(e,t){const n=new Set;ru.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new iu(e),ru.dependencies=null,[e,n]}(r,t),u=qc(),d=()=>{const e=a.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&u()},f=new cu(d,c),h=i.useRef();Wc((()=>(h.current=f,El(c,(e=>jc(e,f))),()=>{h.current&&(El(h.current.deps,(e=>Tc(e,h.current))),il.cancel(h.current.update))}))),i.useEffect(d,[]),Gc((()=>()=>{const e=h.current;El(e.deps,(t=>Tc(t,e)))}));const p=t.getComponentProps(l.getValue());return i.createElement(e,{...p,ref:s})}))},cu=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&il.write(this.update)}};var uu=Symbol.for("AnimatedComponent"),du=e=>kl.str(e)?e:e&&kl.str(e.displayName)?e.displayName:kl.fun(e)&&e.name||null;function fu(e,...t){return kl.fun(e)?e(...t):e}var hu=(e,t)=>!0===e||!!(t&&e&&(kl.fun(e)?e(t):Tl(e).includes(t))),pu=(e,t)=>kl.obj(e)?t&&e[t]:e,mu=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,gu=e=>e,vu=(e,t=gu)=>{let n=yu;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);kl.und(n)||(r[i]=n)}return r},yu=["config","onProps","onStart","onChange","onPause","onResume","onRest"],bu={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function wu(e){const t=function(e){const t={};let n=0;if(jl(e,((e,r)=>{bu[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return jl(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function xu(e){return e=Cc(e),kl.arr(e)?e.map(xu):Hc(e)?Cl.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Cu(e){return kl.fun(e)||kl.arr(e)&&kl.obj(e[0])}var _u={tension:170,friction:26,mass:1,damping:1,easing:yc.linear,clamp:!1},ku=class{constructor(){this.velocity=0,Object.assign(this,_u)}};function Su(e,t){if(kl.und(t.decay)){const n=!kl.und(t.tension)||!kl.und(t.friction);!n&&kl.und(t.frequency)&&kl.und(t.damping)&&kl.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Eu=[],ju=class{constructor(){this.changed=!1,this.values=Eu,this.toValues=null,this.fromValues=Eu,this.config=new ku,this.immediate=!1}};function Tu(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise(((a,s)=>{let l,c,u=hu(n.cancel??(null==r?void 0:r.cancel),t);if(u)h();else{kl.und(n.pause)||(i.paused=hu(n.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=i.paused||hu(e,t)),l=fu(n.delay||0,t),e?(i.resumeQueue.add(f),o.pause()):(o.resume(),f())}function d(){i.resumeQueue.add(f),i.timeouts.delete(c),c.cancel(),l=c.time-il.now()}function f(){l>0&&!Cl.skipAnimation?(i.delayed=!0,c=il.setTimeout(h,l),i.pauseQueue.add(d),i.timeouts.add(c)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),e<=(i.cancelId||0)&&(u=!0);try{o.start({...n,callId:e,cancel:u},a)}catch(t){s(t)}}}))}var Nu=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Lu(e.get()):t.every((e=>e.noop))?Ou(e.get()):Au(e.get(),t.every((e=>e.finished))),Ou=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Au=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Lu=e=>({value:e,cancelled:!0,finished:!1});function Mu(e,t,n,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=vu(t,((e,t)=>"onRest"===t?void 0:e));let u,d;const f=new Promise(((e,t)=>(u=e,d=t))),h=e=>{const t=i<=(n.cancelId||0)&&Lu(r)||i!==n.asyncId&&Au(r,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const o=new Pu,a=new Iu;return(async()=>{if(Cl.skipAnimation)throw Ru(n),a.result=Au(r,!1),d(a),a;h(o);const s=kl.obj(e)?{...e}:{...t,to:e};s.parentId=i,jl(c,((e,t)=>{kl.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return h(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(Cl.skipAnimation)return Ru(n),Au(r,!1);try{let t;t=kl.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),f]),m=Au(r.get(),!0,!1)}catch(g){if(g instanceof Pu)m=g.result;else{if(!(g instanceof Iu))throw g;m=g.result}}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return kl.fun(a)&&il.batchedUpdates((()=>{a(m,r,r.item)})),m})():l}function Ru(e,t){Nl(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Pu=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Iu=class extends Error{constructor(){super("SkipAnimationSignal")}},Fu=e=>e instanceof $u,Du=1,$u=class extends Sc{constructor(){super(...arguments),this.id=Du++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Yc(this);return e&&e.getValue()}to(...e){return Cl.to(this,e)}interpolate(...e){return Vc(`${zc}The "interpolate" function is deprecated in v9 (use "to" instead)`),Cl.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){kc(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Vl.sort(this),kc(this,{type:"priority",parent:this,priority:e})}},zu=Symbol.for("SpringPhase"),Bu=e=>(1&e[zu])>0,Vu=e=>(2&e[zu])>0,Uu=e=>(4&e[zu])>0,Hu=(e,t)=>t?e[zu]|=3:e[zu]&=-3,Wu=(e,t)=>t?e[zu]|=4:e[zu]&=-5,qu=class extends $u{constructor(e,t){if(super(),this.animation=new ju,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!kl.und(e)||!kl.und(t)){const n=kl.obj(e)?{...e}:{...t,from:e};kl.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Vu(this)||this._state.asyncTo)||Uu(this)}get goal(){return Cc(this.animation.to)}get velocity(){const e=Yc(this);return e instanceof tu?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Bu(this)}get isAnimating(){return Vu(this)}get isPaused(){return Uu(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=Xc(r.to);!a&&xc(r.to)&&(i=Tl(Cc(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const c=s.constructor==nu?1:a?a[l].lastPosition:i[l];let u=r.immediate,d=c;if(!u){if(d=s.lastPosition,o.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],i=null!=s.v0?s.v0:s.v0=kl.arr(o.velocity)?o.velocity[l]:o.velocity;let a;const f=o.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(kl.und(o.duration))if(o.decay){const e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*t);d=n+i/(1-e)*(1-r),u=Math.abs(s.lastPosition-d)<=f,a=i*r}else{a=null==s.lastVelocity?i:s.lastVelocity;const t=o.restVelocity||f/10,r=o.clamp?0:o.bounce,l=!kl.und(r),h=n==c?s.v0>0:n<c;let p,m=!1;const g=1,v=Math.ceil(e/g);for(let e=0;e<v&&(p=Math.abs(a)>t,p||(u=Math.abs(c-d)<=f,!u));++e){l&&(m=d==c||d>c==h,m&&(a=-a*r,d=c));a+=(1e-6*-o.tension*(d-c)+.001*-o.friction*a)/o.mass*g,d+=a*g}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(o.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+o.easing(r)*(c-n),a=(d-s.lastPosition)/e,u=1==r}s.lastVelocity=a,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[l].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,o.round)&&(n=!0)}));const s=Yc(this),l=s.getValue();if(t){const e=Cc(r.to);l===e&&!n||o.decay?n&&o.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return il.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Vu(this)){const{to:e,config:t}=this.animation;il.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return kl.und(e)?(n=this.queue||[],this.queue=[]):n=[kl.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>Nu(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ru(this._state,e&&this._lastCallId),il.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=kl.obj(n)?n[t]:n,(null==n||Cu(n))&&(n=void 0),r=kl.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Bu(this)||(e.reverse&&([n,r]=[r,n]),r=Cc(r),kl.und(r)?Yc(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,vu(e,((e,t)=>/^on/.test(t)?pu(e,n):e))),Xu(this,e,"onProps"),ed(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Tu(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{Uu(this)||(Wu(this,!0),Ll(o.pauseQueue),ed(this,"onPause",Au(this,Gu(this,this.animation.to)),this))},resume:()=>{Uu(this)&&(Wu(this,!1),Vu(this)&&this._resume(),Ll(o.resumeQueue),ed(this,"onResume",Au(this,Gu(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then((n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=Zu(e);if(t)return this._update(t,!0)}return n}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Lu(this));const r=!kl.und(e.to),i=!kl.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(Lu(this));this._lastToId=t.callId}const{key:o,defaultProps:a,animation:s}=this,{to:l,from:c}=s;let{to:u=l,from:d=c}=e;!i||r||t.default&&!kl.und(u)||(u=d),t.reverse&&([u,d]=[d,u]);const f=!Sl(d,c);f&&(s.from=d),d=Cc(d);const h=!Sl(u,l);h&&this._focus(u);const p=Cu(t.to),{config:m}=s,{decay:g,velocity:v}=m;(r||i)&&(m.velocity=0),t.config&&!p&&function(e,t,n){n&&(Su(n={...n},t),t={...n,...t}),Su(e,t),Object.assign(e,t);for(const a in _u)null==e[a]&&(e[a]=_u[a]);let{frequency:r,damping:i}=e;const{mass:o}=e;kl.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(m,fu(t.config,o),t.config!==a.config?fu(a.config,o):void 0);let y=Yc(this);if(!y||kl.und(u))return n(Au(this,!0));const b=kl.und(t.reset)?i&&!t.default:!kl.und(d)&&hu(t.reset,o),w=b?d:this.get(),x=xu(u),C=kl.num(x)||kl.arr(x)||Hc(x),_=!p&&(!C||hu(a.immediate||t.immediate,o));if(h){const e=su(u);if(e!==y.constructor){if(!_)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(x)}}const k=y.constructor;let S=xc(u),E=!1;if(!S){const e=b||!Bu(this)&&f;(h||e)&&(E=Sl(xu(w),x),S=!E),(Sl(s.immediate,_)||_)&&Sl(m.decay,g)&&Sl(m.velocity,v)||(S=!0)}if(E&&Vu(this)&&(s.changed&&!b?S=!0:S||this._stop(l)),!p&&((S||xc(l))&&(s.values=y.getPayload(),s.toValues=xc(u)?null:k==nu?[1]:Tl(x)),s.immediate!=_&&(s.immediate=_,_||b||this._set(l)),S)){const{onRest:e}=s;El(Ju,(e=>Xu(this,t,e)));const r=Au(this,Gu(this,l));Ll(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&il.batchedUpdates((()=>{var t;s.changed=!b,null==e||e(r,this),b?fu(a.onRest,r):null==(t=s.onStart)||t.call(s,r,this)}))}b&&this._set(w),p?n(Mu(t.to,t,this._state,this)):S?this._start():Vu(this)&&!h?this._pendingCalls.add(n):n(Ou(w))}_focus(e){const t=this.animation;e!==t.to&&(_c(this)&&this._detach(),t.to=e,_c(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;xc(t)&&(jc(t,this),Fu(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;xc(e)&&Tc(e,this)}_set(e,t=!0){const n=Cc(e);if(!kl.und(n)){const e=Yc(this);if(!e||!Sl(n,e.getValue())){const r=su(n);e&&e.constructor==r?e.setValue(n):Jc(this,r.create(n)),e&&il.batchedUpdates((()=>{this._onChange(n,t)}))}}return Yc(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,ed(this,"onStart",Au(this,Gu(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),fu(this.animation.onChange,e,this)),fu(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Yc(this).reset(Cc(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Vu(this)||(Hu(this,!0),Uu(this)||this._resume())}_resume(){Cl.skipAnimation?this.finish():Vl.start(this)}_stop(e,t){if(Vu(this)){Hu(this,!1);const n=this.animation;El(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),kc(this,{type:"idle",parent:this});const r=t?Lu(this.get()):Au(this.get(),Gu(this,e??n.to));Ll(this._pendingCalls,r),n.changed&&(n.changed=!1,ed(this,"onRest",r,this))}}};function Gu(e,t){const n=xu(t);return Sl(xu(e.get()),n)}function Zu(e,t=e.loop,n=e.to){const r=fu(t);if(r){const i=!0!==r&&wu(r),o=(i||e).reverse,a=!i||i.reset;return Qu({...e,loop:t,default:!1,pause:void 0,to:!o||Cu(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function Qu(e){const{to:t,from:n}=e=wu(e),r=new Set;return kl.obj(t)&&Yu(t,r),kl.obj(n)&&Yu(n,r),e.keys=r.size?Array.from(r):null,e}function Ku(e){const t=Qu(e);return kl.und(t.default)&&(t.default=vu(t)),t}function Yu(e,t){jl(e,((e,n)=>null!=e&&t.add(n)))}var Ju=["onStart","onRest","onChange","onPause","onResume"];function Xu(e,t,n){e.animation[n]=t[n]!==mu(t,n)?pu(t[n],e.key):void 0}function ed(e,t,...n){var r,i,o,a;null==(i=(r=e.animation)[t])||i.call(r,...n),null==(a=(o=e.defaultProps)[t])||a.call(o,...n)}var td=["onStart","onChange","onRest"],nd=1,rd=class{constructor(e,t){this.id=nd++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];kl.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Qu(e)),this}start(e){let{queue:t}=this;return e?t=Tl(e).map(Qu):this.queue=[],this._flush?this._flush(this,t):(ud(this,t),id(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;El(Tl(t),(t=>n[t].stop(!!e)))}else Ru(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(kl.und(e))this.start({pause:!0});else{const t=this.springs;El(Tl(e),(e=>t[e].pause()))}return this}resume(e){if(kl.und(e))this.start({pause:!1});else{const t=this.springs;El(Tl(e),(e=>t[e].resume()))}return this}each(e){jl(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Nl(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&Nl(t,(([e,t])=>{t.value=a,e(t,this,this._item)})),o&&(this._started=!1,Nl(n,(([e,t])=>{t.value=a,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}il.onFrame(this._onFrame)}};function id(e,t){return Promise.all(t.map((t=>od(e,t)))).then((t=>Nu(e,t)))}async function od(e,t,n){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,c=kl.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);const u=kl.arr(i)||kl.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):El(td,(n=>{const r=t[n];if(kl.fun(r)){const i=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Ll(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),h=!0===t.cancel||!0===mu(t,"cancel");(u||h&&d.asyncId)&&f.push(Tu(++e._lastAsyncId,{props:t,state:d,actions:{pause:_l,resume:_l,start(t,n){h?(Ru(d,e._lastAsyncId),n(Lu(e))):(t.onRest=s,n(Mu(u,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=Nu(e,await Promise.all(f));if(a&&p.finished&&(!n||!p.noop)){const n=Zu(t,a,i);if(n)return ud(e,[n]),od(e,n,!0)}return l&&il.batchedUpdates((()=>l(p,e,e.item))),p}function ad(e,t){const n={...e.springs};return t&&El(Tl(t),(e=>{kl.und(e.keys)&&(e=Qu(e)),kl.obj(e.to)||(e={...e,to:void 0}),cd(n,e,(e=>ld(e)))})),sd(e,n),n}function sd(e,t){jl(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,jc(t,e))}))}function ld(e,t){const n=new qu;return n.key=e,t&&jc(n,t),n}function cd(e,t,n){t.keys&&El(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function ud(e,t){El(t,(t=>{cd(e.springs,t,(t=>ld(t,e)))}))}var dd,fd,hd=({children:e,...t})=>{const n=i.useContext(pd),r=t.pause||!!n.pause,o=t.immediate||!!n.immediate;t=function(e,t){const[n]=i.useState((()=>({inputs:t,result:e()}))),r=i.useRef(),o=r.current;let a=o;a?Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs))||(a={inputs:t,result:e()}):a=n;return i.useEffect((()=>{r.current=a,o==n&&(n.inputs=n.result=void 0)}),[a]),a.result}((()=>({pause:r,immediate:o})),[r,o]);const{Provider:a}=pd;return i.createElement(a,{value:t},e)},pd=(dd=hd,fd={},Object.assign(dd,i.createContext(fd)),dd.Provider._context=dd,dd.Consumer._context=dd,dd);hd.Provider=pd.Provider,hd.Consumer=pd.Consumer;var md=()=>{const e=[],t=function(t){Uc(`${zc}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return El(e,((e,i)=>{if(kl.und(t))r.push(e.start());else{const o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return El(e,(e=>e.pause(...arguments))),this},t.resume=function(){return El(e,(e=>e.resume(...arguments))),this},t.set=function(t){El(e,((e,n)=>{const r=kl.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return El(e,((e,r)=>{if(kl.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return El(e,(e=>e.stop(...arguments))),this},t.update=function(t){return El(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return kl.fun(e)?e(n,t):e};return t._getProps=n,t};function gd(e,t){const n=kl.fun(e),[[r],o]=function(e,t,n){const r=kl.fun(t)&&t;r&&!n&&(n=[]);const o=i.useMemo((()=>r||3==arguments.length?md():void 0),[]),a=i.useRef(0),s=qc(),l=i.useMemo((()=>({ctrls:[],queue:[],flush(e,t){const n=ad(e,t);return a.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?id(e,t):new Promise((r=>{sd(e,n),l.queue.push((()=>{r(id(e,t))})),s()}))}})),[]),c=i.useRef([...l.ctrls]),u=[],d=Qc(e)||0;function f(e,n){for(let i=e;i<n;i++){const e=c.current[i]||(c.current[i]=new rd(null,l.flush)),n=r?r(i,e):t[i];n&&(u[i]=Ku(n))}}i.useMemo((()=>{El(c.current.slice(e,d),(e=>{!function(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}(e,o),e.stop(!0)})),c.current.length=e,f(d,e)}),[e]),i.useMemo((()=>{f(0,Math.min(d,e))}),n);const h=c.current.map(((e,t)=>ad(e,u[t]))),p=i.useContext(hd),m=Qc(p),g=p!==m&&function(e){for(const t in e)return!0;return!1}(p);Wc((()=>{a.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],El(e,(e=>e()))),El(c.current,((e,t)=>{null==o||o.add(e),g&&e.start({default:p});const n=u[t];n&&(function(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Gc((()=>()=>{El(l.ctrls,(e=>e.stop(!0)))}));const v=h.map((e=>({...e})));return o?[v,o]:v}(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,o]:r}var vd=class extends $u{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=dc(...t);const n=this._get(),r=su(n);Jc(this,r.create(n))}advance(e){const t=this._get();Sl(t,this.get())||(Yc(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&bd(this._active)&&wd(this)}_get(){const e=kl.arr(this.source)?this.source.map(Cc):Tl(Cc(this.source));return this.calc(...e)}_start(){this.idle&&!bd(this._active)&&(this.idle=!1,El(Xc(this),(e=>{e.done=!1})),Cl.skipAnimation?(il.batchedUpdates((()=>this.advance())),wd(this)):Vl.start(this))}_attach(){let e=1;El(Tl(this.source),(t=>{xc(t)&&jc(t,this),Fu(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){El(Tl(this.source),(e=>{xc(e)&&Tc(e,this)})),this._active.clear(),wd(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Tl(this.source).reduce(((e,t)=>Math.max(e,(Fu(t)?t.priority:0)+1)),0))}};function yd(e){return!1!==e.idle}function bd(e){return!e.size||Array.from(e).every(yd)}function wd(e){e.idle||(e.idle=!0,El(Xc(e),(e=>{e.done=!0})),kc(e,{type:"idle",parent:e}))}Cl.assign({createStringInterpolator:$c,to:(e,t)=>new vd(e,t)});var xd=/^--/;function Cd(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||xd.test(e)||kd.hasOwnProperty(e)&&kd[e]?(""+t).trim():t+"px"}var _d={};var kd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sd=["Webkit","Ms","Moz","O"];kd=Object.keys(kd).reduce(((e,t)=>(Sd.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),kd);var Ed=/^(matrix|translate|scale|rotate|skew)/,jd=/^(translate)/,Td=/^(rotate|skew)/,Nd=(e,t)=>kl.num(e)&&0!==e?e+t:e,Od=(e,t)=>kl.arr(e)?e.every((e=>Od(e,t))):kl.num(e)?e===t:parseFloat(e)===t,Ad=class extends iu{constructor({x:e,y:t,z:n,...r}){const i=[],o=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),o.push((e=>[`translate3d(${e.map((e=>Nd(e,"px"))).join(",")})`,Od(e,0)]))),jl(r,((e,t)=>{if("transform"===t)i.push([e||""]),o.push((e=>[e,""===e]));else if(Ed.test(t)){if(delete r[t],kl.und(e))return;const n=jd.test(t)?"px":Td.test(t)?"deg":"";i.push(Tl(e)),o.push("rotate3d"===t?([e,t,r,i])=>[`rotate3d(${e},${t},${r},${Nd(i,n)})`,Od(i,0)]:e=>[`${t}(${e.map((e=>Nd(e,n))).join(",")})`,Od(e,t.startsWith("scale")?1:0)])}})),i.length&&(r.transform=new Ld(i,o)),super(r)}},Ld=class extends Sc{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return El(this.inputs,((n,r)=>{const i=Cc(n[0]),[o,a]=this.transforms[r](kl.arr(i)?i:n.map(Cc));e+=" "+o,t=t&&a})),t?"none":e}observerAdded(e){1==e&&El(this.inputs,(e=>El(e,(e=>xc(e)&&jc(e,this)))))}observerRemoved(e){0==e&&El(this.inputs,(e=>El(e,(e=>xc(e)&&Tc(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),kc(this,e)}};Cl.assign({batchedUpdates:u.unstable_batchedUpdates,createStringInterpolator:$c,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Md=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new iu(e),getComponentProps:r=e=>e}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=du(e)||"Anonymous";return(e=kl.str(e)?o[e]||(o[e]=lu(e,i)):e[uu]||(e[uu]=lu(e,i))).displayName=`Animated(${t})`,e};return jl(e,((t,n)=>{kl.arr(e)&&(n=du(t)),o[n]=o(t)})),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:s,...l}=t,c=Object.values(l),u=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:_d[t]||(_d[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==i&&(e.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const t=Cd(d,r[d]);xd.test(d)?e.style.setProperty(d,t):e.style[d]=t}u.forEach(((t,n)=>{e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==a&&(e.scrollLeft=a),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new Ad(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Rd=Md.animated;function Pd(e){const[t,n,r]=function(){const e=Zs((e=>e.anchorPoint)),t=i.useRef(null),[n,r]=i.useState(0),[o,a]=i.useState(0),[s,l]=i.useState(null),c=i.useCallback(((e,t)=>{if(!e)return;const n=e.x+e.w/2,i=window.innerHeight-(e.y+e.h);a(window.innerHeight-i-e.h-t.height-30),r(Math.min(n-t.width/2,window.innerWidth-t.width-30))}),[]);return i.useEffect((()=>{e&&s&&c(e,s)}),[e,c,s]),i.useEffect((()=>{if(!t.current)return;function e(){var e;const n=null==(e=t.current)?void 0:e.getBoundingClientRect();l(n??null)}e();const n=new ResizeObserver(e);return n.observe(t.current),()=>{n.disconnect()}}),[]),[t,n,o]}();return k.jsx("div",{ref:t,style:{transform:`translateX(${n}px) translateY(${r}px)`},className:Mi(["[&>*]:pointer-events-auto z-10 flex items-start justify-end origin-top-left touch-none",e.className]),children:e.children})}function Id(e){const t=Ys("hello world :)");return k.jsxs("div",{className:Mi(["pointer-events-auto px-4 pb-6 z-10 ml-[env(safe-area-inset-left)] mr-[env(safe-area-inset-right)] bottom-0 origin-top-left inset-x-0 absolute overflow-hidden max-h-[calc(100vh-1.5rem)] grid grid-rows-[minmax(0,1fr),auto]",e.className]),children:[e.children,k.jsx("button",{className:"w-full text-foreground bg-muted z-10 relative hover:bg-accent active:scale-95 rounded-2xl pointer-events-auto transition-all duration-100 flex justify-center items-center py-3 mt-3 font-bold border border-muted hover:text-white",type:"button",onClick:()=>t.close(),children:"Close"}),k.jsx("div",{className:"pointer-events-none absolute z-0 bottom-0 left-0 w-full h-32 bg-gradient-to-t from-black to-transparent"})]})}const Fd=function(e){return k.jsx("div",{tabIndex:e.tabIndex,className:Mi(e.className,"relative"),onKeyUp:e.onKeyUp,children:e.children})},Dd=function(e){const t=i.useRef(null),n=e.flareSize??200,r=e.cssColorVar??"--colors-global-accentA";return i.useEffect((()=>{function e(e){if(!t.current)return;const r=t.current.getBoundingClientRect(),i=n/2;t.current.style.setProperty("--bg-x",`${(e.clientX-r.left-i).toFixed(0)}px`),t.current.style.setProperty("--bg-y",`${(e.clientY-r.top-i).toFixed(0)}px`)}return document.addEventListener("mousemove",e),()=>document.removeEventListener("mousemove",e)}),[n]),k.jsx("div",{ref:t,className:Mi("flare-light pointer-events-none absolute inset-0 overflow-hidden opacity-0 transition-opacity duration-[400ms]",e.className,{"!opacity-100":e.enabled??!1}),style:{backgroundImage:`radial-gradient(circle at center, rgba(var(${r}) / 0.3), rgba(var(${r}) / 0) 60%)`,backgroundPosition:"var(--bg-x) var(--bg-y)",backgroundRepeat:"no-repeat",backgroundSize:`${n.toFixed(0)}px ${n.toFixed(0)}px`},children:k.jsx("div",{className:Mi("absolute inset-[1px] overflow-hidden",e.className,e.backgroundClass),children:k.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`radial-gradient(circle at center, rgba(var(${r}) / 1), rgba(var(${r}) / 0) 70%)`,backgroundPosition:"var(--bg-x) var(--bg-y)",backgroundRepeat:"no-repeat",backgroundSize:`${n.toFixed(0)}px ${n.toFixed(0)}px`}})})})},$d=function(e){return k.jsx("div",{className:Mi(e.className,"relative"),children:e.children})};function zd(e){const t=i.useRef(null),{isMobile:n}=Ki(),r=Zs((e=>e.routes)),o=Ys(e.id),a=i.useMemo((()=>r[o.currentRoute??""]),[r,o]),[s,l]=gd((()=>({from:{height:`${(null==a?void 0:a.height)??0}px`,width:n?"100%":`${(null==a?void 0:a.width)??0}px`},config:{easing:yc.linear}})),[]),c=i.useRef(null);return i.useEffect((()=>{const e={height:null==a?void 0:a.height,width:null==a?void 0:a.width,isMobile:n},t=JSON.stringify(e);if(t!==c.current){const n=c.current?JSON.parse(c.current):null;c.current=t,e.isMobile?(l.set({width:"100%"}),l.start({height:`${(null==a?void 0:a.height)??0}px`})):void 0===(null==n?void 0:n.height)&&void 0!==e.height?l.set({height:`${(null==a?void 0:a.height)??0}px`,width:`${(null==a?void 0:a.width)??0}px`}):l.start({height:`${(null==a?void 0:a.height)??0}px`,width:`${(null==a?void 0:a.width)??0}px`})}}),[null==a?void 0:a.height,null==a?void 0:a.width,n,l]),k.jsx(Rd.div,{ref:t,style:s,className:"overflow-hidden relative z-10 max-h-full",children:k.jsxs(Fd,{className:"group w-full bg-transparent h-full rounded-2xl transition-colors duration-100 text-video-context-type-main",children:[k.jsx(Dd,{flareSize:400,cssColorVar:"--colors-video-context-light",backgroundClass:"bg-background/80 backdrop-blur duration-100",className:"rounded-2xl opacity-100"}),k.jsx($d,{className:"pointer-events-auto relative transition-transform duration-100 h-full",children:e.children})]})})}function Bd(e){const{isMobile:t}=Ki(),n=k.jsx(zd,{id:e.id,children:e.children});return t?k.jsx(Id,{children:n}):k.jsx(Pd,{children:n})}const Vd=Object.freeze(Object.defineProperty({__proto__:null,Card:function(e){return k.jsx("div",{className:"h-full grid grid-rows-[1fr]",children:k.jsx("div",{className:"px-6 py-2 scrollbar-none h-full flex flex-col justify-start overflow-y-auto overflow-x-hidden",children:e.children})})},CardWithScrollable:function(e){return k.jsx("div",{className:"[&>*]:px-6 h-full grid grid-rows-[auto,1fr] [&>*:nth-child(2)]:overflow-y-auto [&>*:nth-child(2)]:overflow-x-hidden",children:e.children})}},Symbol.toStringTag,{value:"Module"}));function Ud(e){return k.jsx("div",{children:k.jsxs("h3",{className:"font-semibold pb-3 pt-5 border-b border-muted-foreground/50 flex justify-between items-center",children:[k.jsx("div",{className:"flex items-center space-x-3",children:e.children}),k.jsx("div",{children:e.rightSide})]})})}const Hd=Object.freeze(Object.defineProperty({__proto__:null,Anchor:function(e){return k.jsx("a",{type:"button",className:"text-video-context-type-accent cursor-pointer",onClick:e.onClick,children:e.children})},Divider:function(){return k.jsx("hr",{className:"!my-4 w-full h-px border-muted-foreground/50"})},FieldTitle:function(e){return k.jsx("p",{className:"font-normal text-sm",children:e.children})},Highlight:function(e){return k.jsx("span",{className:"text-white",children:e.children})},IconButton:function(e){return k.jsx("button",{type:"button",onClick:e.onClick,children:k.jsx(Fi,{className:"text-xl",icon:e.icon})})},Paragraph:function(e){return k.jsx("p",{className:e.marginClass??"my-3",children:e.children})},SmallText:function(e){return k.jsx("p",{className:"text-sm mt-8 text-muted-foreground",children:e.children})},TextDisplay:function(e){return k.jsx("div",{className:"w-full h-full flex justify-center items-center text-center",children:k.jsxs("div",{className:"flex items-center gap-4 flex-col",children:[e.noIcon?null:k.jsx("div",{className:"w-16 h-10 border border-video-context-border rounded-lg flex justify-center items-center",children:k.jsx(Fi,{className:"text-xl",icon:Ri.EYE_SLASH})}),e.title?k.jsx("h2",{className:"text-white text-lg font-bold",children:e.title}):null,k.jsx("div",{children:e.children})]})})},Title:Ud},Symbol.toStringTag,{value:"Module"}));function Wd(e){return k.jsxs("div",{className:"text-muted-foreground flex items-center font-medium",children:[k.jsx("span",{className:"max-w-28 truncate text-sm",children:e.children}),k.jsx(Fi,{className:"text-xl ml-1 -mr-1.5",icon:Ri.CHEVRON_RIGHT})]})}function qd(e){return k.jsx("span",{className:Mi(["text-left",e.textClass||"text-foreground"]),children:e.children})}function Gd(e){const t=Mi("flex py-2 text-sm px-3 rounded-xl w-full -ml-3",{"cursor-default":!e.clickable,"hover:bg-neutral-700 hover:bg-opacity-30 cursor-pointer tabbable":e.clickable,"bg-neutral-700 bg-opacity-50":e.active}),n={width:"calc(100% + 1.5rem)"},r=k.jsxs("div",{className:Mi("flex gap-2 items-center flex-1",e.className),children:[k.jsx("div",{className:"flex-1 text-left",children:e.children}),k.jsx("div",{className:"flex",children:e.rightSide})]});return e.onClick?k.jsx("button",{type:"button",className:t,style:n,onClick:e.onClick,"data-active-link":!!e.active||void 0,children:r}):k.jsx("div",{className:t,style:n,"data-active-link":!!e.active||void 0,children:r})}function Zd(e){let t;return e.selected&&(t=k.jsx(Fi,{icon:Ri.CIRCLE_CHECK,className:"text-xl text-primary"})),e.error&&(t=k.jsx("span",{className:"flex items-center text-yellow-500",children:k.jsx(Fi,{className:"ml-2",icon:Ri.WARNING})})),e.loading&&(t=k.jsx(Uo,{className:"text-lg"})),k.jsx(Gd,{onClick:e.onClick,clickable:!e.disabled,rightSide:t,children:k.jsx(qd,{textClass:Mi({"text-white":e.selected,"text-muted-foreground":e.disabled}),children:e.children})})}const Qd=Object.freeze(Object.defineProperty({__proto__:null,BackLink:function(e){return k.jsxs(Ud,{rightSide:e.rightSide,children:[k.jsx("button",{type:"button",className:"-ml-2 p-2 rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",onClick:e.onClick,children:k.jsx(Fi,{className:"text-xl",icon:Ri.ARROW_LEFT})}),k.jsx("span",{className:"line-clamp-1 break-all",children:e.children})]})},Chevron:Wd,ChevronLink:function(e){const t=k.jsx(Wd,{children:e.rightText});return k.jsx(Gd,{onClick:e.onClick,active:e.active,clickable:!0,rightSide:t,children:k.jsx(qd,{children:e.children})})},Link:Gd,LinkTitle:qd,SelectableLink:Zd},Symbol.toStringTag,{value:"Module"}));const Kd=Object.freeze(Object.defineProperty({__proto__:null,ScrollToActiveSection:function(e){const t=i.useRef(null);return i.useEffect((()=>{var e,n,r;const i=null==(e=t.current)?void 0:e.querySelector("[data-active-link]"),o=null==(n=t.current)?void 0:n.getBoundingClientRect(),a=null==i?void 0:i.getBoundingClientRect();if(!a||!o)return;const s=a.top-o.top;null==(r=t.current)||r.scrollTo(0,s-o.height/2+a.height/2)}),[e.loaded]),k.jsx("div",{ref:t,className:Mi("pt-4 space-y-1",e.className),children:e.children})},Section:function(e){return k.jsx("div",{className:Mi("pt-4 space-y-1",e.className),children:e.children})},SectionTitle:function(e){return k.jsx("h3",{className:Mi(" font-bold text-muted-foreground text-xs pt-8 pl-1 pb-2.5 border-b border-muted-foreground/50",e.className),children:e.children})}},Symbol.toStringTag,{value:"Module"})),Yd=s.forwardRef((({children:e,hint:t,isDisabled:n,className:r,...i},o)=>k.jsxs("div",{ref:o,className:Mi("w-full h-20 cursor-pointer hover:bg-muted-foreground/30 transition-colors ease-in-out rounded-xl bg-muted-foreground/10 flex flex-col items-center justify-center gap-1",n&&"opacity-30 pointer-events-none",r),...i,children:[k.jsx("div",{className:"text-sm",children:e}),t&&k.jsx("p",{className:"text-sm max-w-24 truncate text-muted-foreground",children:t})]})));Yd.displayName="Box";const Jd={...Vd,...Qd,...Kd,...Hd,...Object.freeze(Object.defineProperty({__proto__:null,Box:Yd},Symbol.toStringTag,{value:"Module"}))};function Xd(e){return k.jsx(Zd,{selected:e.selected,onClick:e.onClick,children:k.jsx("span",{className:"flex items-center",children:k.jsx("span",{children:e.children})})})}function ef({id:e}){const t=Js(e),n=Ln((e=>e.audioTracks)),r=Ln((e=>e.currentAudioTrack)),o=Ln((e=>{var t;return null==(t=e.display)?void 0:t.changeAudioTrack})),a=i.useCallback((e=>{null==o||o(e),t.close()}),[t,o]);return k.jsxs(k.Fragment,{children:[k.jsx(Jd.BackLink,{onClick:()=>t.navigate("/"),children:"Audio"}),k.jsx(Jd.Section,{className:"flex flex-col pb-4",children:n.map((e=>k.jsx(Xd,{selected:e.id===(null==r?void 0:r.id),langCode:e.language,onClick:n.includes(e)?()=>a(e):void 0,children:e.label||e.language||"Unknown"},e.id)))})]})}function tf(e){return k.jsx("button",{type:"button",onClick:e.onClick,className:Mi("w-11 h-6 p-1 rounded-full grid transition-colors duration-100 group/toggle tabbable",e.enabled?"bg-primary":"bg-neutral-700"),children:k.jsx("div",{className:"relative w-full h-full",children:k.jsx("div",{className:Mi("scale-90 group-hover/toggle:scale-100 h-full aspect-square rounded-full absolute transition-all duration-100",e.enabled?"left-full bg-neutral-700 transform -translate-x-full":"left-0 bg-white")})})})}function nf(e){return k.jsx("button",{type:"button",className:Mi("tabbable p-1.5 bg-accent rounded-xl transition-colors duration-100",e.active?"bg-opacity-100":"bg-opacity-0 cursor-pointer"),onClick:e.onClick,children:k.jsx("div",{className:"w-6 h-6 rounded-full flex justify-center items-center",style:{backgroundColor:e.color},children:e.active?k.jsx(Fi,{className:"text-sm text-black",icon:Ri.CHECKMARK}):null})})}function rf(e){const t=i.useRef(null),n=i.useRef(null),r=(e.value-e.min)/(e.max-e.min),o=i.useCallback((t=>{var n;const r=e.max-e.min,i=Math.min(Math.max(t,0),1);null==(n=e.onChange)||n.call(e,e.min+r*i)}),[e]),{dragging:a,dragPercentage:s,dragMouseDown:l}=Po(n,o,!0),[c,u]=i.useState(!1),[d,f]=i.useState("");i.useEffect((()=>{function e(e){var n;"Enter"===e.key&&c&&(null==(n=t.current)||n.blur())}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[c]);const h="tabbable py-1 bg-transparent text-muted-foreground rounded-xl focus:text-white text-sm cursor-text "+(e.controlButtons?"text-center px-4 w-24":"px-3 text-left w-20"),p="tabbable hover:text-white transition-colors duration-100 w-full h-full flex justify-center items-center hover:text-primary rounded-xl",m=e.textTransformer??(e=>e);return k.jsxs("div",{children:[k.jsx(Jd.FieldTitle,{children:e.label}),k.jsxs("div",{className:"grid items-center grid-cols-[1fr,auto] gap-4",children:[k.jsx("div",{ref:n,children:k.jsx("div",{className:"group/progress w-full h-8 flex items-center cursor-pointer",onMouseDown:l,onTouchStart:l,children:k.jsx("div",{dir:"ltr",className:["relative w-full h-1 bg-muted-foreground bg-opacity-25 rounded-full transition-[height] duration-100 group-hover/progress:h-1.5",a?"!h-1.5":""].join(" "),children:k.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-primary flex justify-end items-center",style:{width:100*Math.max(0,Math.min(1,a?s/100:r))+"%"},children:k.jsx("div",{className:["w-[1rem] min-w-[1rem] h-[1rem] border-[4px] border-video-context-sliderFilled rounded-full transform translate-x-1/2 bg-white transition-[transform] duration-100"].join(" ")})})})})}),k.jsx("div",{children:c?k.jsx("input",{className:h,value:d,autoFocus:!0,onFocus:e=>{e.target.select()},onBlur:t=>{var n;u(!1);const r=Number(t.target.value);Number.isNaN(r)||null==(n=e.onChange)||n.call(e,0===(e.decimalsAllowed??0)?Math.round(r):r)},ref:t,onChange:e=>f(e.target.value)}):k.jsxs("div",{className:"relative",onClick:t=>{t.target.closest(".actions")||(f(e.value.toFixed(e.decimalsAllowed??0)),u(!0))},children:[k.jsx("button",{className:Mi(h,e.controlButtons?"relative":void 0),type:"button",tabIndex:0,children:m(e.value.toFixed(e.decimalsAllowed??0))}),e.controlButtons?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"actions w-6 h-full absolute left-0 top-0 grid grid-cols-1 items-center justify-center",children:k.jsx("button",{type:"button",onClick:()=>{var t;return null==(t=e.onChange)?void 0:t.call(e,e.value-1/10**(e.decimalsAllowed??0))},className:p,children:k.jsx(Fi,{icon:Ri.CHEVRON_LEFT})})}),k.jsx("div",{className:"actions w-6 h-full absolute right-0 top-0 grid grid-cols-1 items-center justify-center",children:k.jsx("button",{type:"button",onClick:()=>{var t;return null==(t=e.onChange)?void 0:t.call(e,e.value+1/10**(e.decimalsAllowed??0))},className:p,children:k.jsx(Fi,{icon:Ri.CHEVRON_RIGHT})})})]}):null]})})]})]})}const of=["#ffffff","#b0b0b0","#80b1fa","#e2e535"];function af({id:e,overlayBackLink:t}){const n=Js(e),r=bi((e=>e.styling)),i=bi((e=>e.overrideCasing)),o=bi((e=>e.delay)),a=bi((e=>e.setOverrideCasing)),s=bi((e=>e.setDelay)),l=bi((e=>e.updateStyling));return k.jsxs(k.Fragment,{children:[k.jsx(Jd.BackLink,{onClick:()=>n.navigate(t?"/captionsOverlay":"/captions"),children:"Custom subtitles"}),k.jsxs(Jd.Section,{className:"space-y-6 pb-5",children:[k.jsx(rf,{label:"Subtitle delay",max:10,min:-10,onChange:e=>s(e),value:o,textTransformer:e=>`${e}s`,decimalsAllowed:1,controlButtons:!0}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx(Jd.FieldTitle,{children:"Fix capitalization"}),k.jsx("div",{className:"flex justify-center items-center",children:k.jsx(tf,{enabled:i,onClick:()=>a(!i)})})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx(Jd.FieldTitle,{children:"Bold text"}),k.jsx("div",{className:"flex justify-center items-center",children:k.jsx(tf,{enabled:r.bold,onClick:()=>l({bold:!r.bold})})})]}),k.jsx(Jd.Divider,{}),k.jsx(rf,{label:"Background opacity",max:100,min:0,onChange:e=>l({backgroundOpacity:e/100}),value:100*r.backgroundOpacity,textTransformer:e=>`${e}%`}),k.jsx(rf,{label:"Background blur",max:100,min:0,onChange:e=>l({backgroundBlur:e/100}),value:100*r.backgroundBlur,textTransformer:e=>`${e}%`}),k.jsx(rf,{label:"Text size",max:200,min:1,textTransformer:e=>`${e}%`,onChange:e=>l({size:e/100}),value:100*r.size}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx(Jd.FieldTitle,{children:"Color"}),k.jsx("div",{className:"flex justify-center items-center",children:of.map((e=>k.jsx(nf,{onClick:()=>l({color:e}),color:e,active:r.color===e},e)))})]})]})]})}function sf(e){const[t,n]=i.useState(!1);return i.useEffect((()=>{e.onDraggingChange(t)}),[t,e]),k.jsx("div",{onDragEnter:e=>{e.preventDefault(),n(!0)},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||n(!1)},onDragOver:e=>{e.preventDefault()},onDrop:t=>{t.preventDefault(),n(!1),e.onDrop(t)},className:e.className,children:e.children})}function lf(e){return k.jsx(Zd,{selected:e.selected,loading:e.loading,error:e.error,onClick:e.onClick,children:k.jsx("span",{"data-active-link":!!e.selected||void 0,className:"flex items-center",children:k.jsx("span",{children:e.children})})})}function cf(){const e=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.language})),t=Ln((e=>e.setCaption)),n=bi((e=>e.setCustomSubs)),r=i.useRef(null);return k.jsxs(lf,{selected:"custom"===e,onClick:()=>{var e;return null==(e=r.current)?void 0:e.click()},children:["Drop or upload file",k.jsx("input",{className:"hidden",ref:r,accept:gi.join(","),type:"file",onChange:e=>{if(!e.target.files)return;const r=new FileReader;r.addEventListener("load",(e=>{if(!e.target||"string"!=typeof e.target.result)return;const r=lr(e.target.result,"srt");t({language:"custom",srtData:r,id:"custom-caption"}),n()})),r.readAsText(e.target.files[0],"utf-8")}})]})}function uf({id:e,backLink:t}){const n=Js(e),r=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.id})),{disable:o}=wi(),[a,s]=i.useState(!1),l=Ln((e=>e.setCaption)),c=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.language}));const u=c?c??"Unknown":void 0;return k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsx("div",{className:Mi("absolute inset-0 flex items-center justify-center text-white z-10 pointer-events-none transition-opacity duration-300",a?"opacity-100":"opacity-0"),children:k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx(Fi,{className:"text-5xl mb-4",icon:Ri.UPLOAD}),k.jsx("span",{className:"text-xl weight font-medium",children:"Drop subtitle file here! >_<"})]})}),t?k.jsx(Jd.BackLink,{onClick:()=>n.navigate("/"),rightSide:k.jsx("button",{type:"button",onClick:()=>n.navigate("/captions/settings"),className:"-mr-2 -my-1 px-2 p-[0.4em] text-foreground rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",children:"Customize"}),children:"Subtitles"}):k.jsx(Jd.Title,{rightSide:k.jsx("button",{type:"button",onClick:()=>n.navigate("/captions/settingsOverlay"),className:"-mr-2 -my-1 text-foreground px-2 p-[0.4em] rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",children:"Customize"}),children:"Subtitles"})]}),k.jsx(sf,{className:"transition duration-300 "+(a?"opacity-20":""),onDraggingChange:e=>{s(e)},onDrop:e=>function(e){const t=e.dataTransfer.files,n=t[0];if(!t||!n)return;const r=`.${n.name.split(".").pop()}`;if(!r||!gi.includes(r))return;const i=new FileReader;i.addEventListener("load",(e=>{if(!e.target||"string"!=typeof e.target.result)return;const t=lr(e.target.result,"srt");l({language:"custom",srtData:t,id:"custom-caption"})})),i.readAsText(n)}(e),children:k.jsxs(Jd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:[k.jsxs("div",{className:"grid grid-cols-2 gap-3 py-3",children:[k.jsx(Jd.Box,{onClick:()=>n.navigate(t?"/captions/source":"/captions/sourceOverlay"),hint:bi((e=>e.isOpenSubtitles))?"":u??"Off",children:"Select Sub"}),k.jsx(Jd.Box,{onClick:()=>n.navigate(t?"/captions/opensubtitles":"/captions/opensubtitlesOverlay"),hint:bi((e=>e.isOpenSubtitles))?u??"Off":"Off",children:"Online Sub"})]}),k.jsx(lf,{onClick:()=>o(),selected:!r,children:"Off"}),k.jsx(cf,{})]})})]})}function df(e){return k.jsxs("div",{className:"w-full relative",children:[k.jsx(Fi,{className:"pointer-events-none absolute top-1/2 left-3 transform -translate-y-1/2 text-muted-foreground",icon:Ri.SEARCH}),k.jsx("input",{placeholder:"Search",className:"w-full py-2 px-3 pl-[calc(0.75rem+24px)] tabbable bg-muted/50 rounded-xl placeholder:text-muted-foreground",value:e.value,onInput:t=>e.onInput(t.currentTarget.value)})]})}function ff({id:e,overlayBackLink:t}){const{type:n,id:r,season:o,episode:a}=ve(),l=Js(e),{subCodes:c,selectCaptionById:u}=wi(),d=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.id})),[f,h]=i.useState(null),[p,m]=i.useState(""),[g,v]=i.useState(c),[y,b]=i.useState(""),w=i.useMemo((()=>{let e=null;return"movie"===n?e=`get-subs/${"movie"===n?"m":"t"}:${r}/${y}${o?"&ss="+o:""}${a?"&ep="+a:""}`:"tv"===n&&(e=`get-subs/t:${r}:${o}:${a}/${y}${o?"&ss="+o:""}${a?"&ep="+a:""}`),(null==y?void 0:y.length)>0?e:null}),[r,n,o,a,y]),x=Si((async()=>{if(!w)return null;const e=await fetch(`https://${Hi}/api/${w}`);return await e.json()}),[w]),[C,_]=ki((async e=>{h(e.src);const t={id:e.src,url:e.src,language:e.label,opensubtitles:!0,needsProxy:!1};return u(e.src,t)}),[u,h]),S=g.map((e=>k.jsxs(s.Fragment,{children:[k.jsx(Zd,{loading:f===e.value&&C.loading,onClick:()=>{y!==e.label?b(e.value):b("")},children:k.jsxs("span",{className:"flex items-center",children:[k.jsx("span",{className:y===e.value?"opacity-50":"",children:e.label}),k.jsx(Fi,{icon:Ri.CHEVRON_RIGHT,className:"text-xl text-muted-foreground ml-auto transition-transform ease-in-out "+(y===e.label?"rotate-90":"rotate-0")})]})},e.value),y===e.value&&k.jsx("div",{className:"p-2 bg-muted/20 rounded-xl text-left",children:x.loading?k.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse",children:k.jsx("p",{children:"Loading"})}):x.value&&x.value.length>0?x.value.map(((e,t)=>{var n;const r={label:((null==(n=null==c?void 0:c.find((e=>(null==e?void 0:e.value)===y)))?void 0:n.label)||y)+" "+(t+1),src:`https://${Hi}`+e};return k.jsx(lf,{countryCode:r.label,selected:r.src===d,loading:r.src===f&&C.loading,error:r.src===f&&C.error?C.error.toString():void 0,onClick:()=>_(r),children:k.jsx("span",{"data-active-link":r.src===d||void 0,className:"flex items-center",children:k.jsx("span",{children:r.label})})},r.src)})):k.jsx("div",{className:"text-sm text-muted-foreground text-center",children:k.jsx("p",{children:"Not Found"})})})]},e.value)));return k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.jsx(Jd.BackLink,{onClick:()=>l.navigate(t?"/captionsOverlay":"/captions"),children:"Online Subs"})}),k.jsx("div",{className:"mt-3",children:k.jsx(df,{value:p,onInput:e=>{m(e),v(c.filter((t=>t.label.toLowerCase().includes(e.toLowerCase()))))}})}),k.jsx(Jd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:k.jsx("div",{className:"text-center",children:S})})]})}const hf=mt(bn(an((e=>({enableThumbnails:!1,enableAutoplay:!1,sourceOrder:[],setEnableThumbnails(t){e((e=>{e.enableThumbnails=t}))},setEnableAutoplay(t){e((e=>{e.enableAutoplay=t}))},setSourceOrder(t){e((e=>{e.sourceOrder=t}))}}))),{name:"embed::preferences"})),pf=mt((e=>({displayGain:1,setDisplayGain:t=>e({displayGain:t})})));function mf(){const{displayGain:e,setDisplayGain:t}=pf(),n=i.useMemo((()=>e<=1?e:1+3*(e-1)),[e]);return k.jsxs("div",{className:"space-y-4 mt-3",children:[k.jsx(Jd.FieldTitle,{children:"Audio Gain"}),k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("input",{type:"range",min:"0",max:"2",step:"0.25",value:e,onChange:e=>{t(parseFloat(e.target.value))},className:"w-full h-1 bg-gray-400 rounded-full cursor-pointer"}),k.jsx("div",{className:"text-sm text-white",children:n})]})]})}function gf(e){return k.jsx("div",{className:"flex items-center bg-white/5 p-1 rounded-lg",children:e.options.map((t=>k.jsxs("button",{type:"button",className:Mi("w-full px-2 py-1 text-sm rounded-md ",e.selected===t?"bg-white/5 text-white":"hover:bg-white/5"),onClick:()=>e.onClick(t),children:[t,"x"]},t)))})}function vf({id:e}){const t=Js(e),n=Ln((e=>e.mediaPlaying.playbackRate)),r=Ln((e=>e.display)),{enableThumbnails:o,setEnableThumbnails:a}=hf(),s=i.useCallback((e=>{null==r||r.setPlaybackRate(e)}),[r]);return k.jsxs(k.Fragment,{children:[k.jsx(Jd.BackLink,{onClick:()=>t.navigate("/"),children:"Playback settings"}),k.jsxs(Jd.Section,{className:"space-y-8",children:[k.jsxs("div",{className:"space-y-4 mt-3",children:[k.jsx(Jd.FieldTitle,{children:"Playback speed"}),k.jsx(gf,{options:[.25,.5,1,1.5,2],selected:n,onClick:s})]}),k.jsx(mf,{}),k.jsx("div",{className:"space-y-1",children:k.jsx(Jd.Link,{className:"mb-2",rightSide:k.jsx(tf,{enabled:o,onClick:()=>a(!o)}),children:"Enable Thumbnails"})})]})]})}const yf={unknown:!1,360:!0,480:!0,720:!0,1080:!0,"4k":!0};function bf({id:e}){const t=Js(e),n=function(){const e=Ln((e=>{var t;return null==(t=e.source)?void 0:t.type}));return i.useMemo((()=>{const t=document.createElement("video");return"hls"===e&&!f.isSupported()&&!!Oo(t)}),[e])}(),r=Ln((e=>e.qualities)),o=Ln((e=>e.currentQuality)),a=Ln((e=>e.switchQuality)),s=Ln((e=>e.enableAutomaticQuality)),l=wn((e=>e.setAutomaticQuality)),c=wn((e=>e.setLastChosenQuality)),u=wn((e=>e.quality.automaticQuality)),d=i.useCallback((e=>{c(e),l(!1),a(e),t.close()}),[t,a,c,l]),h=i.useCallback((()=>{const e=!u;l(e),e&&s()}),[l,u,s]),p=fn.filter((e=>!!yf[e]||!!r.includes(e)));return k.jsxs(k.Fragment,{children:[k.jsx(Jd.BackLink,{onClick:()=>t.navigate("/"),children:"Quality"}),k.jsxs(Jd.Section,{className:"flex flex-col pb-4",children:[p.map((e=>k.jsx(Zd,{selected:e===o,onClick:r.includes(e)?()=>d(e):void 0,disabled:!r.includes(e),children:hn(e)},e))),k.jsx(Jd.Divider,{}),k.jsx(Jd.Link,{rightSide:k.jsx(tf,{onClick:h,enabled:u}),children:"Automatic quality"}),k.jsx(Jd.SmallText,{children:k.jsx(Jd.Anchor,{onClick:()=>t.navigate("/servers"),children:k.jsx("span",{className:"hover:text-white transition-colors ease-in-out",children:n?"Due to Apple-defined (common IOS L) limitations, quality selection is not available on iOS for this server. You can try switching to another server to get different quality options.":"You can try switching server to get different quality options."})})})]})]})}function wf({id:e}){const t=Js(e),n=Ln((e=>e.currentQuality)),r=Ln((e=>e.currentAudioTrack)),o=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.language})),a=bi((e=>e.enabled)),{toggleLastUsed:s}=wi(),l=Ln((e=>e.sourceId)),c=i.useMemo((()=>l?l??"Unknown":"Unknown"),[l]),u=o?o??"Unknown":void 0,d=r?r.label||r.language||"Unknown":void 0,f=hf((e=>e.enableAutoplay)),h=hf((e=>e.setEnableAutoplay));return k.jsxs(Jd.Card,{children:[k.jsx(Jd.Section,{children:k.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[k.jsx(Jd.Box,{onClick:()=>t.navigate("/quality"),hint:n?hn(n):"Auto",children:k.jsx("p",{children:"Quality"})}),k.jsx(Jd.Box,{onClick:()=>t.navigate("/servers"),hint:c.toUpperCase(),children:k.jsx("p",{children:"Servers"})}),k.jsx(Jd.Box,{onClick:()=>t.navigate("/captions"),hint:u??"Off",children:k.jsx("p",{children:"Subtitles"})}),k.jsx(Jd.Box,{isDisabled:!r,onClick:()=>t.navigate("/audio"),hint:d??"Default",children:k.jsx("p",{children:"Audio"})})]})}),k.jsx("div",{className:"w-full h-0.5 mt-5 shrink-0 bg-muted-foreground/20 rounded-full"}),k.jsxs(Jd.Section,{children:[k.jsx(Jd.Link,{rightSide:k.jsx(tf,{enabled:f,onClick:()=>h(!f)}),children:"Auto Play"}),k.jsx(Jd.Link,{rightSide:k.jsx(tf,{enabled:a,onClick:()=>s().catch((()=>{}))}),children:"Enable Subtitles"}),k.jsx(Jd.ChevronLink,{onClick:()=>t.navigate("/playback"),children:"Playback settings"})]})]})}function xf(e){return Array.isArray?Array.isArray(e):"[object Array]"===Tf(e)}function Cf(e){return"string"==typeof e}function _f(e){return"number"==typeof e}function kf(e){return!0===e||!1===e||function(e){return Sf(e)&&null!==e}(e)&&"[object Boolean]"==Tf(e)}function Sf(e){return"object"==typeof e}function Ef(e){return null!=e}function jf(e){return!e.trim().length}function Tf(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Nf=Object.prototype.hasOwnProperty;class Of{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=Af(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Af(e){let t=null,n=null,r=null,i=1,o=null;if(Cf(e)||xf(e))r=e,t=Lf(e),n=Mf(e);else{if(!Nf.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const a=e.name;if(r=a,Nf.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(a));t=Lf(a),n=Mf(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function Lf(e){return xf(e)?e:e.split(".")}function Mf(e){return xf(e)?e.join("."):e}var Rf={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(Ef(e))if(t[o]){const a=e[t[o]];if(!Ef(a))return;if(o===t.length-1&&(Cf(a)||_f(a)||kf(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(xf(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)i(a[e],t,o+1)}else t.length&&i(a,t,o+1)}else n.push(e)};return i(e,Cf(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Pf=/[^ ]+/g;class If{constructor({getFn:e=Rf.getFn,fieldNormWeight:t=Rf.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(Pf).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Cf(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();Cf(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Ef(e)||jf(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Ef(i))if(xf(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(Ef(r))if(Cf(r)&&!jf(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else xf(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(Cf(i)&&!jf(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ff(e,t,{getFn:n=Rf.getFn,fieldNormWeight:r=Rf.fieldNormWeight}={}){const i=new If({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Af)),i.setSources(t),i.create(),i}function Df(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Rf.distance,ignoreLocation:o=Rf.ignoreLocation}={}){const a=t/e.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const $f=32;function zf(e,t,n,{location:r=Rf.location,distance:i=Rf.distance,threshold:o=Rf.threshold,findAllMatches:a=Rf.findAllMatches,minMatchCharLength:s=Rf.minMatchCharLength,includeMatches:l=Rf.includeMatches,ignoreLocation:c=Rf.ignoreLocation}={}){if(t.length>$f)throw new Error(`Pattern length exceeds max of ${$f}.`);const u=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let h=o,p=f;const m=s>1||l,g=m?Array(d):[];let v;for(;(v=e.indexOf(t,p))>-1;){let e=Df(t,{currentLocation:v,expectedLocation:f,distance:i,ignoreLocation:c});if(h=Math.min(e,h),p=v+u,m){let e=0;for(;e<u;)g[v+e]=1,e+=1}}p=-1;let y=[],b=1,w=u+d;const x=1<<u-1;for(let _=0;_<u;_+=1){let r=0,o=w;for(;r<o;){Df(t,{errors:_,currentLocation:f+o,expectedLocation:f,distance:i,ignoreLocation:c})<=h?r=o:w=o,o=Math.floor((w-r)/2+r)}w=o;let s=Math.max(1,f-o+1),l=a?d:Math.min(f+o,d)+u,v=Array(l+2);v[l+1]=(1<<_)-1;for(let a=l;a>=s;a-=1){let r=a-1,o=n[e.charAt(r)];if(m&&(g[r]=+!!o),v[a]=(v[a+1]<<1|1)&o,_&&(v[a]|=(y[a+1]|y[a])<<1|1|y[a+1]),v[a]&x&&(b=Df(t,{errors:_,currentLocation:r,expectedLocation:f,distance:i,ignoreLocation:c}),b<=h)){if(h=b,p=r,p<=f)break;s=Math.max(1,2*f-p)}}if(Df(t,{errors:_+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>h)break;y=v}const C={isMatch:p>=0,score:Math.max(.001,b)};if(m){const e=function(e=[],t=Rf.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(g,s);e.length?l&&(C.indices=e):C.isMatch=!1}return C}function Bf(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class Vf{constructor(e,{location:t=Rf.location,threshold:n=Rf.threshold,distance:r=Rf.distance,includeMatches:i=Rf.includeMatches,findAllMatches:o=Rf.findAllMatches,minMatchCharLength:a=Rf.minMatchCharLength,isCaseSensitive:s=Rf.isCaseSensitive,ignoreLocation:l=Rf.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Bf(e),startIndex:t})},u=this.pattern.length;if(u>$f){let e=0;const t=u%$f,n=u-t;for(;e<n;)c(this.pattern.substr(e,$f),e),e+=$f;if(t){const e=u-$f;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:h})=>{const{isMatch:p,score:m,indices:g}=zf(e,t,f,{location:r+h,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});p&&(d=!0),u+=m,p&&g&&(c=[...c,...g])}));let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=c),f}}class Uf{constructor(e){this.pattern=e}static isMultiMatch(e){return Hf(e,this.multiRegex)}static isSingleMatch(e){return Hf(e,this.singleRegex)}search(){}}function Hf(e,t){const n=e.match(t);return n?n[1]:null}class Wf extends Uf{constructor(e,{location:t=Rf.location,threshold:n=Rf.threshold,distance:r=Rf.distance,includeMatches:i=Rf.includeMatches,findAllMatches:o=Rf.findAllMatches,minMatchCharLength:a=Rf.minMatchCharLength,isCaseSensitive:s=Rf.isCaseSensitive,ignoreLocation:l=Rf.ignoreLocation}={}){super(e),this._bitapSearch=new Vf(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class qf extends Uf{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Gf=[class extends Uf{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},qf,class extends Uf{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Uf{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Uf{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Uf{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Uf{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Wf],Zf=Gf.length,Qf=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const Kf=new Set([Wf.type,qf.type]);class Yf{constructor(e,{isCaseSensitive:t=Rf.isCaseSensitive,includeMatches:n=Rf.includeMatches,minMatchCharLength:r=Rf.minMatchCharLength,ignoreLocation:i=Rf.ignoreLocation,findAllMatches:o=Rf.findAllMatches,location:a=Rf.location,threshold:s=Rf.threshold,distance:l=Rf.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(Qf).filter((e=>e&&!!e.trim())),r=[];for(let i=0,o=n.length;i<o;i+=1){const e=n[i];let o=!1,a=-1;for(;!o&&++a<Zf;){const n=Gf[a];let i=n.isMultiMatch(e);i&&(r.push(new n(i,t)),o=!0)}if(!o)for(a=-1;++a<Zf;){const n=Gf[a];let i=n.isSingleMatch(e);if(i){r.push(new n(i,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],a=0;for(let s=0,l=t.length;s<l;s+=1){const r=t[s];o.length=0,i=0;for(let t=0,s=r.length;t<s;t+=1){const s=r[t],{isMatch:l,indices:c,score:u}=s.search(e);if(!l){a=0,i=0,o.length=0;break}if(i+=1,a+=u,n){const e=s.constructor.type;Kf.has(e)?o=[...o,...c]:o.push(c)}}if(i){let e={isMatch:!0,score:a/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const Jf=[];function Xf(e,t){for(let n=0,r=Jf.length;n<r;n+=1){let r=Jf[n];if(r.condition(e,t))return new r(e,t)}return new Vf(e,t)}const eh="$and",th="$or",nh="$path",rh="$val",ih=e=>!(!e[eh]&&!e[th]),oh=e=>({[eh]:Object.keys(e).map((t=>({[t]:e[t]})))});function ah(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[nh])(e);if(!o&&i.length>1&&!ih(e))return r(oh(e));if((e=>!xf(e)&&Sf(e)&&!ih(e))(e)){const r=o?e[nh]:i[0],a=o?e[rh]:e[r];if(!Cf(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:Mf(r),pattern:a};return n&&(s.searcher=Xf(a,t)),s}let a={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];xf(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return ih(e)||(e=oh(e)),r(e)}function sh(e,t){const n=e.matches;t.matches=[],Ef(n)&&n.forEach((e=>{if(!Ef(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function lh(e,t){t.score=e.score}class ch{constructor(e,t={},n){this.options={...Rf,...t},this.options.useExtendedSearch,this._keyStore=new Of(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof If))throw new Error("Incorrect 'index' type");this._myIndex=t||Ff(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ef(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=Cf(e)?Cf(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Rf.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),_f(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=Rf.includeMatches,includeScore:r=Rf.includeScore}={}){const i=[];return n&&i.push(sh),r&&i.push(lh),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=Xf(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!Ef(e))return;const{isMatch:o,score:a,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})})),r}_searchLogical(e){const t=ah(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,a=e.children.length;o<a;o+=1){const a=e.children[o],s=n(a,t,r);if(s.length)i.push(...s);else if(e.operator===eh)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(Ef(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=Xf(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!Ef(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!Ef(t))return[];let r=[];if(xf(t))t.forEach((({v:t,i:i,n:o})=>{if(!Ef(t))return;const{isMatch:a,score:s,indices:l}=n.searchIn(t);a&&r.push({score:s,key:e,value:t,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=t,{isMatch:a,score:s,indices:l}=n.searchIn(i);a&&r.push({score:s,key:e,value:i,norm:o,indices:l})}return r}}function uh({id:e,overlayBackLink:t}){const n=Js(e),r=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.id})),[o,a]=i.useState(null),{selectCaptionById:s}=wi(),l=Ln((e=>e.captionList)),c=Ln((e=>{var t;return null==(t=e.display)?void 0:t.getCaptionList})),u=i.useMemo((()=>0!==l.length?l:(null==c?void 0:c())??[]),[l,c]),[d,f]=i.useState(""),h=function(e,t){return i.useMemo((()=>{const n=e.map((e=>({...e,languageName:e.language}))),r=n.map((e=>e.language));let i=n.sort(((e,t)=>r.indexOf(e.language)-r.indexOf(t.language)));return t.trim().length>0&&(i=new ch(n,{includeScore:!0,keys:["languageName"]}).search(t).map((e=>e.item))),i}),[e,t])}(u.filter((e=>!e.opensubtitles)),d),[p,m]=ki((async e=>(a(e),s(e))),[s,a]),g=h.length?h.map((e=>k.jsx(lf,{countryCode:e.language,selected:e.id===r,loading:e.id===o&&p.loading,error:e.id===o&&p.error?p.error.toString():void 0,onClick:()=>m(e.id),children:e.languageName},e.id))):"Not Found";return k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.jsx(Jd.BackLink,{onClick:()=>n.navigate(t?"/captionsOverlay":"/captions"),children:"Source Captions"})}),l.filter((e=>!e.opensubtitles)).length?k.jsx("div",{className:"mt-3",children:k.jsx(df,{value:d,onInput:f})}):null,k.jsx(Jd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:l.filter((e=>!e.opensubtitles)).length?k.jsx("div",{className:"text-center",children:g}):k.jsx("div",{className:"p-4 rounded-xl bg-video-context-light bg-opacity-10 font-medium text-center",children:k.jsxs("div",{className:"flex flex-col items-center text-muted-foreground justify-center gap-3",children:["There are no provided subtitles for this.",k.jsx("button",{type:"button",onClick:()=>n.navigate(t?"/captions/opensubtitlesOverlay":"/captions/opensubtitles"),className:"p-1 w-3/4 rounded-xl tabbable duration-200 bg-opacity-10 bg-muted-foreground hover:bg-opacity-20",children:"Scrape subtitles"})]})})})]})}function dh({id:e}){const t=Js(e),n=Ln((e=>e.meta)),r=Ln((e=>e.progress.time)),o=Ln((e=>e.sourceId)),a=Ln((e=>e.setSourceId)),s=Ln((e=>e.setSource)),l=Ln((e=>e.display)),c=i.useMemo((()=>{if(!(null==n?void 0:n.type))return[];return qi()}),[null==n?void 0:n.type]);return k.jsxs(k.Fragment,{children:[k.jsx(Jd.BackLink,{onClick:()=>t.navigate("/"),children:"Servers"}),k.jsx(Jd.Section,{className:"pb-4",children:c.map((e=>k.jsx(Zd,{onClick:()=>{(async e=>{const n=qi(),i=await(null==window?void 0:window.fetchSauce({servers:n},e,!1));i&&(s({type:(null==i?void 0:i.format)??"hls",url:null==i?void 0:i.source},mi(null==i?void 0:i.subtitles),r),a(e),null==l||l.play(),t.close())})(e.name)},selected:e.name===o,children:k.jsx("span",{className:"uppercase",children:e.name})},e.name)))})]})}function fh({id:e}){return k.jsx(tl,{id:e,children:k.jsxs(Bd,{id:e,children:[k.jsx(nl,{id:e,path:"/",width:343,height:381,children:k.jsx(wf,{id:e})}),k.jsx(nl,{id:e,path:"/quality",width:343,height:445,children:k.jsx(Jd.Card,{children:k.jsx(bf,{id:e})})}),k.jsx(nl,{id:e,path:"/audio",width:343,height:431,children:k.jsx(Jd.Card,{children:k.jsx(ef,{id:e})})}),k.jsx(nl,{id:e,path:"/captions",width:343,height:431,children:k.jsx(Jd.CardWithScrollable,{children:k.jsx(uf,{id:e,backLink:!0})})}),k.jsx(nl,{id:e,path:"/captionsOverlay",width:343,height:431,children:k.jsx(Jd.CardWithScrollable,{children:k.jsx(uf,{id:e})})}),k.jsx(nl,{id:e,path:"/captions/opensubtitles",width:343,height:431,children:k.jsx(Jd.Card,{children:k.jsx(ff,{id:e})})}),k.jsx(nl,{id:e,path:"/captions/opensubtitlesOverlay",width:343,height:431,children:k.jsx(Jd.Card,{children:k.jsx(ff,{id:e,overlayBackLink:!0})})}),k.jsx(nl,{id:e,path:"/captions/source",width:343,height:431,children:k.jsx(Jd.Card,{children:k.jsx(uh,{id:e})})}),k.jsx(nl,{id:e,path:"/captions/sourceOverlay",width:343,height:431,children:k.jsx(Jd.Card,{children:k.jsx(uh,{id:e,overlayBackLink:!0})})}),k.jsx(nl,{id:e,path:"/captions/settings",width:343,height:450,children:k.jsx(Jd.Card,{children:k.jsx(af,{id:e})})}),k.jsx(nl,{id:e,path:"/captions/settingsOverlay",width:343,height:450,children:k.jsx(Jd.Card,{children:k.jsx(af,{id:e,overlayBackLink:!0})})}),k.jsx(nl,{id:e,path:"/servers",width:343,height:431,children:k.jsx(Jd.CardWithScrollable,{children:k.jsx(dh,{id:e})})}),k.jsx(nl,{id:e,path:"/playback",width:343,height:343,children:k.jsx(Jd.Card,{children:k.jsx(vf,{id:e})})})]})})}function hh(){return k.jsx(fh,{id:"settings"})}function ph(){const e=Js("settings"),t=Ln((e=>e.setHasOpenOverlay));return i.useEffect((()=>{t(e.isRouterActive)}),[t,e.isRouterActive]),k.jsx(Ko,{id:e.id,children:k.jsx(Qi,{onClick:()=>e.open(),icon:k.jsx(uo,{size:30})})})}function mh(){const e=Ln((e=>e.interface.canAirplay)),t=Ln((e=>e.display));return e?k.jsx(Qi,{onClick:()=>null==t?void 0:t.startAirplay(),icon:k.jsx(no,{size:30})}):null}function gh(){const e=Rn(),t=Ln((e=>e.mediaPlaying.volume));return k.jsx(qs,{animation:"slide-down",show:e.showVolume,className:"absolute inset-x-0 top-4 flex justify-center pointer-events-none",children:k.jsxs(Fd,{className:"hover:flare-enabled pointer-events-auto bg-video-context-background pl-4 pr-6 py-3 group w-72 h-full rounded-lg transition-colors text-video-context-type-main",children:[k.jsx(Dd,{enabled:!0,flareSize:200,cssColorVar:"--colors-video-context-light",backgroundClass:"bg-video-context-background duration-100",className:"rounded-lg"}),k.jsxs($d,{className:"grid grid-cols-[auto,1fr] gap-3 pointer-events-auto relative transition-transform",children:[k.jsx(Fi,{className:"text-2xl",icon:t>0?Ri.VOLUME:Ri.VOLUME_X}),k.jsx("div",{className:"w-full flex items-center",children:k.jsx("div",{className:"w-full h-1.5 rounded-full bg-video-context-slider bg-opacity-25",children:k.jsx("div",{className:"h-full bg-video-context-sliderFilled rounded-full transition-[width] duration-100",style:{width:100*t+"%"}})})})]})]})})}function vh(e){const[t,n]=i.useState(!1),r=Ln((e=>e.interface.isCasting)),o=i.useRef(null),a=i.useCallback((e=>{const t=(e.getAttribute("style")??"").includes("inline");n(!t)}),[n]);i.useEffect((()=>{var e;const t=null==(e=o.current)?void 0:e.querySelector("google-cast-launcher");if(!t)return;const n=new MutationObserver((()=>{a(t)}));return n.observe(t,{attributes:!0,attributeFilter:["style"]}),a(t),()=>{n.disconnect()}}),[a]);const s=i.useCallback((()=>k.jsxs(k.Fragment,{children:[k.jsx(Fi,{className:"h-7 text-2xl",icon:Ri.CASTING}),t&&k.jsx(no,{height:28,width:28,strokeWidth:2.5})]})),[t]);return k.jsx(Qi,{isCast:!t,ref:o,className:[e.className??"","google-cast-button",r?"casting":""].join(" "),icon:t?k.jsx(s,{}):Ri.CASTING,iconSizeClass:"h-7 text-2xl",onClick:e=>{const t=e.querySelector("google-cast-launcher");t&&t.click()}})}function yh(){const e=Ln((e=>e.mediaPlaying.isLoading)),t=Ln((e=>e.display)),n="casting"===(null==t?void 0:t.getType());return e||!n?null:k.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[k.jsx("div",{className:"rounded-full bg-opacity-10 bg-video-buttonBackground p-3 brightness-100 grayscale",children:k.jsx(Fi,{icon:Ri.CASTING})}),k.jsx("p",{className:"text-center",children:"Casting to device "})]})}function bh(){const e=Js("settings"),t=Ln((e=>e.setHasOpenOverlay));return i.useEffect((()=>{t(e.isRouterActive)}),[t,e.isRouterActive]),k.jsx(Ko,{id:e.id,children:k.jsx(Qi,{onClick:()=>{e.open(),e.navigate("/captionsOverlay")},icon:k.jsx(to,{size:32}),className:`${e.route.includes("captionsOverlay")&&"opacity-50"}`})})}function wh({selectedSeason:e,setSeason:t}){const n=Ln((e=>e.meta));let r=null;return n&&(null==n?void 0:n.seasons)&&(r=k.jsx(Jd.Section,{className:"pb-6",children:null==n?void 0:n.seasons.map((n=>k.jsx(Jd.ChevronLink,{onClick:()=>t(n.id),children:k.jsx("span",{"aria-label":e,children:`Season ${n.seasonNumber}`})},n.id)))})),k.jsxs(Jd.CardWithScrollable,{children:[k.jsx(Jd.Title,{rightSide:k.jsx("span",{className:"text-muted-foreground text-sm",children:`S${null==n?void 0:n.currentSeason}-E${null==n?void 0:n.currentEpisode}`}),children:k.jsx("p",{className:"truncate max-w-52",children:(null==n?void 0:n.title)??"Loading..."})}),r]})}function xh({id:e,selectedSeason:t,goBack:n,onChange:r}){const o=Js(e),{setPlayerMeta:a}=Ci(),s=Ln((e=>e.meta));ge();const{id:l}=ve();if(!s||!(null==s?void 0:s.seasons)||0===(null==s?void 0:s.seasons.length))return null;const c=s.seasons.find((e=>e.id===t)),u=i.useCallback((e=>{c&&(location.href=`/embed/tv/${l}/${c.seasonNumber}/${e.episodeNumber}`),o.close(!0)}),[a,o,r]);if(!(null==s?void 0:s.id))return null;let d=null;return c&&c.episodes&&(d=k.jsxs(Jd.ScrollToActiveSection,{className:"pb-6",children:[0===c.episodes.length?k.jsx(Jd.TextDisplay,{title:"No episodes found",children:"There are no episodes in this season, check back later (sorry :3)..."}):null,c.episodes.map((e=>k.jsx(Jd.Link,{onClick:()=>{c.seasonNumber===s.currentSeason&&e.episodeNumber===s.currentEpisode||u(e)},active:c.seasonNumber===s.currentSeason&&e.episodeNumber===s.currentEpisode,clickable:!0,children:k.jsx(Jd.LinkTitle,{children:k.jsxs("div",{className:Mi("text-left flex items-center space-x-3 text-video-context-type-main"),children:[k.jsx("span",{className:Mi("p-0.5 px-2 rounded inline bg-video-context-hoverColor",c.seasonNumber===s.currentSeason&&e.episodeNumber!==s.currentEpisode?"text-white bg-opacity-100":"bg-opacity-50"),children:`E${e.episodeNumber}`}),k.jsx("span",{className:"line-clamp-1 break-all",children:e.title})]})})},e.episodeId)))]})),k.jsxs(Jd.CardWithScrollable,{children:[k.jsx(Jd.BackLink,{onClick:n,rightSide:k.jsx("span",{children:`Season ${null==c?void 0:c.seasonNumber}`}),children:"Seasons"}),d]})}function Ch({id:e,onChange:t}){var n;const r=Js(e),o=Ln((e=>e.meta)),[a,s]=i.useState(""),l=i.useRef(!1),c=null==(n=null==o?void 0:o.seasons)?void 0:n.find((e=>e.seasonNumber===(o.currentSeason??1)));i.useEffect((()=>{l.current!==r.isRouterActive&&(l.current=r.isRouterActive,s((null==c?void 0:c.id)??""))}),[o,a,s,r.isRouterActive]);const u=i.useCallback((e=>{s(e),r.navigate("/episodes")}),[r]);return k.jsx(tl,{id:e,children:k.jsxs(Bd,{id:e,children:[k.jsx(nl,{id:e,path:"/",width:343,height:431,children:k.jsx(wh,{setSeason:u,selectedSeason:a})}),k.jsx(nl,{id:e,path:"/episodes",width:343,height:431,children:a.length>0?k.jsx(xh,{selectedSeason:a,id:e,goBack:()=>r.navigate("/"),onChange:t}):null})]})})}function _h(e){return k.jsx(Ch,{onChange:e.onChange,id:"episodes"})}function kh(){const e=Js("episodes"),t=Ln((e=>e.setHasOpenOverlay)),n=Ln((e=>{var t;return null==(t=e.meta)?void 0:t.type}));return i.useEffect((()=>{t(e.isRouterActive)}),[t,e.isRouterActive]),"tv"!==n?null:k.jsx(Ko,{id:e.id,children:k.jsx(Qi,{onClick:()=>e.open("/episodes"),icon:k.jsx(ro,{size:26})})})}ch.version="7.0.0",ch.createIndex=Ff,ch.parseIndex=function(e,{getFn:t=Rf.getFn,fieldNormWeight:n=Rf.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new If({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},ch.config=Rf,ch.parseQuery=ah,function(...e){Jf.push(...e)}(Yf);const Sh={1:{name:"MEDIA_ERR_ABORTED",key:"player.playbackError.errors.errorAborted"},2:{name:"MEDIA_ERR_NETWORK",key:"player.playbackError.errors.errorNetwork"},3:{name:"MEDIA_ERR_DECODE",key:"player.playbackError.errors.errorDecode"},4:{name:"MEDIA_ERR_SRC_NOT_SUPPORTED",key:"player.playbackError.errors.errorNotSupported"}};function Eh(e){const t=new URL(e),n=[];for(const[r,i]of n)if(t.hostname.endsWith(r))return t.hostname=i,t.port="",t.protocol="https://",t.toString();return e}function jh(){const e={};return{on(t,n){var r;e[t]||(e[t]=[]),null==(r=e[t])||r.push(n)},off(t,n){var r;e[t]=(null==(r=e[t])?void 0:r.filter((e=>e!==n)))??[]},emit(t,n){(e[t]??[]).forEach((e=>e(n)))}}}const Th={360:"360",1080:"1080",720:"720",480:"480"};function Nh(e){return Th[(null==e?void 0:e.height)??0]??null}function Oh(){const{emit:e,on:t,off:n}=jh();let r=null,i=null,o=null,a=null,s=!1,l=!1,c=!1,u=0,d=!1,h=null,p=1;const m=new Map;function g(){if(o&&Oo(o))return;if(!i)return;if(d)i.currentLevel=-1,i.loadLevel=-1;else{const e=cn(i.levels.map((e=>Nh(e))).filter((e=>!!e)),{lastChosenQuality:h,automaticQuality:d});if(e){const t=i.levels.findIndex((t=>t.height===function(e){const t=Object.entries(Th).find((t=>t[1]===e));return t?+t[0]:null}(e)));-1!==t&&(i.currentLevel=t,i.loadLevel=t)}}const t=Nh(i.levels[i.currentLevel]);e("changedquality",t)}function v(t,n){if(i=null,u=t.duration-u<5?0:u,"hls"===n.type){if(Oo(t))return t.src=Eh(n.url),void(t.currentTime=u);if(!f.isSupported())throw new Error("HLS not supported");return i||(i=new f({xhrSetup:function(e,t){e.withCredentials=!1},maxBufferSize:5e8,fragLoadPolicy:{default:{maxLoadTimeMs:3e4,maxTimeToFirstByteMs:3e4,errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3},timeoutRetry:{maxNumRetry:3,maxRetryDelayMs:0,retryDelayMs:0}}},renderTextTracksNatively:!1}),i.on(f.Events.ERROR,((t,r)=>{var i;r.fatal&&(null==n?void 0:n.url)===(null==(i=r.frag)?void 0:i.baseurl)&&e("error",{message:r.error.message,stackTrace:r.error.stack,errorName:r.error.name,type:"hls"})})),i.on(f.Events.MANIFEST_LOADED,(()=>{i&&(function(){if(!i)return;const t=i.levels.map((e=>Nh(e))).filter((e=>!!e));e("qualities",t)}(),g(),function(){if(!i)return;const t=i.audioTracks,n=null==t?void 0:t[i.audioTrack??0];n&&(e("changedaudiotrack",{id:n.id.toString(),label:n.name,language:n.lang??"unknown"}),e("audiotracks",i.audioTracks.map((e=>({id:e.id.toString(),label:e.name,language:e.lang??"unknown"})))))}())})),i.on(f.Events.LEVEL_SWITCHED,(()=>{if(!i)return;const t=Nh(i.levels[i.currentLevel]);e("changedquality",t)})),i.on(f.Events.SUBTITLE_TRACK_LOADED,(()=>{for(const[e,t]of m){if(null==i?void 0:i.subtitleTracks.find((t=>t.lang===e))){t(),m.delete(e);break}}}))),i.attachMedia(t),i.loadSource(Eh(n.url)),void(t.currentTime=u)}t.src=Eh(n.url),t.currentTime=u}function y(){o&&r&&(v(o,r),o.addEventListener("play",(()=>{e("play",void 0),e("loading",!1)})),o.addEventListener("error",(()=>{const t=function(e){const t=Sh[(null==e?void 0:e.code)??-1];return t||{name:"MEDIA_ERR_GENERIC",key:"player.playbackError.errors.errorGenericMedia"}}((null==o?void 0:o.error)??null);e("error",{errorName:t.name,key:t.key,type:"htmlvideo"})})),o.addEventListener("playing",(()=>e("play",void 0))),o.addEventListener("pause",(()=>e("pause",void 0))),o.addEventListener("canplay",(()=>e("loading",!1))),o.addEventListener("waiting",(()=>e("loading",!0))),o.addEventListener("volumechange",(()=>e("volumechange",(null==o?void 0:o.muted)?0:(null==o?void 0:o.volume)??0))),o.addEventListener("timeupdate",(()=>e("time",(null==o?void 0:o.currentTime)??0))),o.addEventListener("loadedmetadata",(()=>{"hls"===(null==r?void 0:r.type)&&o&&Oo(o)&&(e("qualities",["unknown"]),e("changedquality","unknown")),e("duration",(null==o?void 0:o.duration)??0)})),o.addEventListener("progress",(()=>{o&&e("buffered",function(e,t){for(let n=0;n<t.length;n+=1)if(t.start(t.length-1-n)<e)return t.end(t.length-1-n);return 0}(o.currentTime,o.buffered))})),o.addEventListener("webkitendfullscreen",(()=>{s=!1,e("fullscreen",s),s||e("needstrack",!1)})),o.addEventListener("webkitplaybacktargetavailabilitychanged",(t=>{"available"===t.availability&&e("canairplay",!0)})),o.addEventListener("ratechange",(()=>{o&&e("playbackrate",o.playbackRate)})))}function b(){o&&(o.removeAttribute("src"),o.load()),i&&(i.destroy(),i=null)}function w(){b(),o&&(o=null)}function x(){s=!!document.fullscreenElement||!!document.webkitFullscreenElement,e("fullscreen",s),s||e("needstrack",!1)}return xo.addEventListener("fullscreenchange",x),{on:t,off:n,getType:()=>"web",destroy:()=>{w(),xo.removeEventListener("fullscreenchange",x)},load(t){t.source||b(),d=t.automaticQuality,h=t.preferredQuality,r=t.source,e("loading",!0),u=t.startAt,y()},changeQuality(e,t){"hls"===(null==r?void 0:r.type)&&(d=e,h=t,g())},processVideoElement(e){w(),o=e,y(),this.setVolume(p)},processContainerElement(e){a=e},setMeta(){},setCaption(){},pause(){null==o||o.pause()},play(){null==o||o.play()},setSeeking(e){e!==c&&(c=e,e?(l=(null==o?void 0:o.paused)??!0,this.pause()):l||this.play())},setTime(t){if(!o)return;let n=Math.min(t,o.duration);n=Math.max(0,n),Number.isNaN(n)||(e("time",n),o.currentTime=n)},async setVolume(t){let n=Math.min(t,1);if(n=Math.max(0,n),p=t,!o)return;o.muted=0===n;await ko()?o.volume=n:e("volumechange",0===n?0:1)},toggleFullscreen(){if(s){if(s=!1,e("fullscreen",s),e("needstrack",!1),!xo.fullscreenElement)return;xo.exitFullscreen()}else s=!0,e("fullscreen",s),jo()&&!xo.fullscreenElement&&(So()?a&&xo.requestFullscreen(a):Eo()&&o&&(e("needstrack",!0),o.webkitEnterFullscreen()))},togglePictureInPicture(){if(o){if(No()){const e=o;e.webkitSetPresentationMode("picture-in-picture"===e.webkitPresentationMode?"inline":"picture-in-picture")}To()&&(o!==document.pictureInPictureElement?o.requestPictureInPicture():document.exitPictureInPicture())}},startAirplay(){const e=o;e&&e.webkitShowPlaybackTargetPicker&&e.webkitShowPlaybackTargetPicker()},setPlaybackRate(e){o&&(o.playbackRate=e)},getCaptionList:()=>(null==i?void 0:i.subtitleTracks.map((e=>({id:e.id.toString(),language:e.lang??"unknown",url:e.url,needsProxy:!1,hls:!0}))))??[],getSubtitleTracks:()=>(null==i?void 0:i.subtitleTracks)??[],async setSubtitlePreference(e){const t=null==i?void 0:i.subtitleTracks.find((t=>t.lang===e));if(void 0!==(null==t?void 0:t.details))return Promise.resolve();const n=new Promise(((t,n)=>{m.set(e,t),setTimeout((()=>{n(),m.delete(e)}),5e3)}));return null==i||i.setSubtitleOption({lang:e}),n},changeAudioTrack(t){if(!i)return;const n=null==i?void 0:i.audioTracks.find((e=>e.id.toString()===t.id));n&&(i.audioTrack=i.audioTracks.indexOf(n),e("changedaudiotrack",{id:n.id.toString(),label:n.name,language:n.lang??"unknown"}))}}}var Ah=(e=>(e.MOVIE="movie",e.SERIES="series",e.ANIME="anime",e))(Ah||{});function Lh(e){const{emit:t,on:n,off:r}=jh();let i=!1,o=1,a=null,s=null,l=null,c=!1,u=!1,d=!1,f=0,h={title:"",type:Ah.MOVIE};function p(){s&&a&&function(){var t;if(!a)return void(null==(t=e.controller)||t.stop());let n="video/mp4";"hls"===a.type&&(n="application/x-mpegurl");const r=new chrome.cast.media.GenericMediaMetadata;r.title=h.title;const i=new chrome.cast.media.MediaInfo("video",n);i.contentUrl=Eh(a.url),i.streamType=chrome.cast.media.StreamType.BUFFERED,i.metadata=r,i.customData={playbackRate:o};const s=new chrome.cast.media.LoadRequest(i);if(s.autoplay=!0,s.currentTime=f,"hls"===a.type){const e=chrome.cast.media,t=s.media;t.hlsSegmentFormat=e.HlsSegmentFormat.FMP4,t.hlsVideoSegmentFormat=e.HlsVideoSegmentFormat.FMP4}const l=e.instance.getCurrentSession();null==l||l.loadMedia(s)}()}function m(){s&&(s=null)}function g(){c=!!document.fullscreenElement||!!document.webkitFullscreenElement,t("fullscreen",c),c||t("needstrack",!1)}xo.addEventListener("fullscreenchange",g);const v=function(){var n;const r=async e=>{switch(e.field){case"volumeLevel":await ko()&&t("volumechange",e.value);break;case"currentTime":t("time",e.value);break;case"duration":t("duration",e.value??0);break;case"mediaInfo":e.value&&t("duration",e.value.duration??0);break;case"playerState":t("loading","BUFFERING"===e.value),"PLAYING"===e.value?t("play",void 0):"PAUSED"===e.value&&t("pause",void 0),i="PAUSED"===e.value;break;case"isMuted":t("volumechange",e.value?1:0)}};return null==(n=e.controller)||n.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,r),()=>{var t;null==(t=e.controller)||t.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,r)}}();return{on:n,off:r,getType:()=>"casting",destroy:()=>{v(),m(),xo.removeEventListener("fullscreenchange",g)},load(e){a=e.source,t("loading",!0),f=e.startAt,p()},changeQuality(){},setCaption(e){p()},processVideoElement(e){m(),s=e,p()},processContainerElement(e){l=e},setMeta(e){h=e,p()},pause(){i||(e.controller.playOrPause(),i=!0)},play(){i&&(e.controller.playOrPause(),i=!1)},setSeeking(e){e!==d&&(d=e,e?(u=i??!0,this.pause()):u||this.play())},setTime(n){if(!s)return;let r=Math.min(n,e.player.duration);r=Math.max(0,r),Number.isNaN(r)||(t("time",r),e.player.currentTime=r,e.controller.seek())},async setVolume(n){let r=Math.min(n,1);r=Math.max(0,r);await ko()?(e.player.volumeLevel=r,e.controller.setVolumeLevel(),t("volumechange",r)):t("volumechange",0===r?0:1)},toggleFullscreen(){if(c){if(c=!1,t("fullscreen",c),t("needstrack",!1),!xo.fullscreenElement)return;xo.exitFullscreen()}else c=!0,t("fullscreen",c),jo()&&!xo.fullscreenElement&&So()&&l&&xo.requestFullscreen(l)},togglePictureInPicture(){},startAirplay(){},setPlaybackRate(e){o=e,p()},getCaptionList:()=>[],getSubtitleTracks:()=>[],setSubtitlePreference:async()=>Promise.resolve(),changeAudioTrack(){}}}const Mh=[];let Rh=null;function Ph(){const[e,t]=i.useState(null);return i.useEffect((()=>{!function(e){if(null!==Rh)return e(Rh);Mh.push(e)}((e=>t(e)))}),[]),e}function Ih(){const e=Ln((e=>e.casting.setInstance)),t=Ln((e=>e.casting.setController)),n=Ln((e=>e.casting.setPlayer)),r=Ln((e=>e.casting.setIsCasting)),o=Ln((e=>e.interface.isCasting)),a=Ln((e=>{var t;return null==(t=e.caption)?void 0:t.selected})),s=Ln((e=>e.setDisplay)),l=Ln((e=>e.redisplaySource)),c=Ph(),u=Ln((e=>e.display)),d=Ln((e=>e.casting.controller)),f=Ln((e=>e.casting.player)),h=Ln((e=>e.casting.instance)),p=Ln((e=>e.progress.time)),m=Ln((e=>{var t;return null==(t=e.meta)?void 0:t.title})),g=Ln((e=>{var t;return null==(t=e.meta)?void 0:t.type})),v=i.useRef({controller:d,player:f,instance:h,time:p,metaTitle:m,metaType:g,caption:a});return i.useEffect((()=>{v.current={controller:d,player:f,instance:h,time:p,metaTitle:m,metaType:g,caption:a}}),[d,f,h,p,m,g,a]),i.useEffect((()=>{if(o){if(v.current.controller&&v.current.instance&&v.current.player){const e=Lh({controller:v.current.controller,instance:v.current.instance,player:v.current.player});e.setMeta({title:v.current.metaTitle??"",type:"movie"===v.current.metaType?Ah.MOVIE:Ah.SERIES}),e.setCaption(v.current.caption),s(e),l(v.current.time??0)}}else{const e=Oh();s(e),l(v.current.time??0)}}),[o,s,l]),i.useEffect((()=>{null==u||u.setMeta({title:v.current.metaTitle??"",type:"movie"===v.current.metaType?Ah.MOVIE:Ah.SERIES})}),[m,g,u]),i.useEffect((()=>{if(!c)return;const i=cast.framework.CastContext.getInstance();e(i),i.setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});const o=new cast.framework.RemotePlayer;n(o);const a=new cast.framework.RemotePlayerController(o);function s(e){"isConnected"===e.field&&r(e.value)}return t(a),a.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,s),()=>{a.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,s)}}),[c,n,t,e,r]),null}var Fh="undefined"!=typeof Element,Dh="function"==typeof Map,$h="function"==typeof Set,zh="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Bh(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Bh(e[r],t[r]))return!1;return!0}if(Dh&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Bh(r.value[1],t.get(r.value[0])))return!1;return!0}if($h&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(zh&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Fh&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!e.$$typeof)&&!Bh(e[i[r]],t[i[r]]))return!1;return!0}return e!=e&&t!=t}var Vh=function(e,t){try{return Bh(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Uh=a(Vh);var Hh=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};const Wh=a(Hh);const qh=a((function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}));var Gh=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Gh||{}),Zh={rel:["amphtml","canonical","alternate"]},Qh={type:["application/ld+json"]},Kh={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Yh=Object.values(Gh),Jh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Xh=Object.entries(Jh).reduce(((e,[t,n])=>(e[n]=t,e)),{}),ep="data-rh",tp="defaultTitle",np="defer",rp="encodeSpecialCharacters",ip="onChangeClientState",op="titleTemplate",ap="prioritizeSeoTags",sp=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},lp=e=>{let t=sp(e,"title");const n=sp(e,op);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=sp(e,tp);return t||r||void 0},cp=e=>sp(e,ip)||(()=>{}),up=(e,t)=>t.filter((t=>void 0!==t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),dp=(e,t)=>t.filter((e=>void 0!==e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}}return t}),[]),fp=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const i={};n.filter((e=>{let n;const o=Object.keys(e);for(let r=0;r<o.length;r+=1){const i=o[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const o=Object.keys(i);for(let t=0;t<o.length;t+=1){const e=o[t],n={...r[e],...i[e]};r[e]=n}return e}),[]).reverse()},hp=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},pp=e=>Array.isArray(e)?e.join(""):e,mp=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},gp=(e,t)=>({...e,[t]:void 0}),vp=["noscript","script","style"],yp=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bp=e=>Object.keys(e).reduce(((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),wp=(e,t={})=>Object.keys(e).reduce(((t,n)=>(t[Jh[n]||n]=e[n],t)),t),xp=(e,t)=>t.map(((t,n)=>{const r={key:n,[ep]:!0};return Object.keys(t).forEach((e=>{const n=Jh[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),s.createElement(e,r)})),Cp=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=wp(n,{key:t,[ep]:!0});return[s.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const i=bp(n),o=pp(t);return i?`<${e} ${ep}="true" ${i}>${yp(o,r)}</${e}>`:`<${e} ${ep}="true">${yp(o,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>wp(t),toString:()=>bp(t)};default:return{toComponent:()=>xp(e,t),toString:()=>((e,t,n=!0)=>t.reduce(((t,r)=>{const i=r,o=Object.keys(i).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r=void 0===i[t]?t:`${t}="${yp(i[t],n)}"`;return e?`${e} ${r}`:r}),""),a=i.innerHTML||i.cssText||"",s=-1===vp.indexOf(e);return`${t}<${e} ${ep}="true" ${o}${s?"/>":`>${a}</${e}>`}`}),""))(e,t,n)}}},_p=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:a,title:s="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:f}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:d,scriptTags:f}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=mp(e,Kh),o=mp(t,Zh),a=mp(n,Qh);return{priorityMethods:{toComponent:()=>[...xp("meta",i.priority),...xp("link",o.priority),...xp("script",a.priority)],toString:()=>`${Cp("meta",i.priority,r)} ${Cp("link",o.priority,r)} ${Cp("script",a.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:a.default}})(e)),{priority:h,base:Cp("base",t,r),bodyAttributes:Cp("bodyAttributes",n,r),htmlAttributes:Cp("htmlAttributes",i,r),link:Cp("link",u,r),meta:Cp("meta",d,r),noscript:Cp("noscript",o,r),script:Cp("script",f,r),style:Cp("style",a,r),title:Cp("title",{title:s,titleAttributes:l},r)}},kp=[],Sp=!("undefined"==typeof window||!window.document||!window.document.createElement),Ep=class{constructor(e,t){r(this,"instances",[]),r(this,"canUseDOM",Sp),r(this,"context"),r(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?kp:this.instances,add:e=>{(this.canUseDOM?kp:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?kp:this.instances).indexOf(e);(this.canUseDOM?kp:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=_p({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},jp=s.createContext({}),Tp=(e=class extends i.Component{constructor(t){super(t),r(this,"helmetData"),this.helmetData=new Ep(this.props.context||{},e.canUseDOM)}render(){return s.createElement(jp.Provider,{value:this.helmetData.value},this.props.children)}},r(e,"canUseDOM",Sp),e),Np=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${ep}]`),i=[].slice.call(r),o=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i=void 0===t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(ep,"true"),i.some(((e,t)=>(a=t,n.isEqualNode(e))))?i.splice(a,1):o.push(n)})),i.forEach((e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),o.forEach((e=>n.appendChild(e))),{oldTags:i,newTags:o}},Op=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(ep),i=r?r.split(","):[],o=[...i],a=Object.keys(t);for(const s of a){const e=t[s]||"";n.getAttribute(s)!==e&&n.setAttribute(s,e),-1===i.indexOf(s)&&i.push(s);const r=o.indexOf(s);-1!==r&&o.splice(r,1)}for(let s=o.length-1;s>=0;s-=1)n.removeAttribute(o[s]);i.length===o.length?n.removeAttribute(ep):n.getAttribute(ep)!==a.join(",")&&n.setAttribute(ep,a.join(","))},Ap=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:a,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:f}=e;Op("body",r),Op("html",i),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=pp(e)),Op("title",t)})(d,f);const h={baseTag:Np("base",n),linkTags:Np("link",o),metaTags:Np("meta",a),noscriptTags:Np("noscript",s),scriptTags:Np("script",c),styleTags:Np("style",u)},p={},m={};Object.keys(h).forEach((e=>{const{newTags:t,oldTags:n}=h[e];t.length&&(p[e]=t),n.length&&(m[e]=h[e].oldTags)})),t&&t(),l(e,p,m)},Lp=null,Mp=e=>{Lp&&cancelAnimationFrame(Lp),e.defer?Lp=requestAnimationFrame((()=>{Ap(e,(()=>{Lp=null}))})):(Ap(e),Lp=null)},Rp=class extends i.Component{constructor(){super(...arguments),r(this,"rendered",!1)}shouldComponentUpdate(e){return!qh(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:dp(["href"],i),bodyAttributes:up("bodyAttributes",i),defer:sp(i,np),encode:sp(i,rp),htmlAttributes:up("htmlAttributes",i),linkTags:fp("link",["rel","href"],i),metaTags:fp("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:fp("noscript",["innerHTML"],i),onChangeClientState:cp(i),scriptTags:fp("script",["src","innerHTML"],i),styleTags:fp("style",["cssText"],i),title:lp(i),titleAttributes:up("titleAttributes",i),prioritizeSeoTags:hp(i,ap)});var i;Tp.canUseDOM?Mp(r):_p&&(n=_p(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Pp=(t=class extends i.Component{shouldComponentUpdate(e){return!Uh(gp(this.props,"helmetData"),gp(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return Wh(Yh.some((t=>e.type===t)),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Yh.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Wh(!t||"string"==typeof t||Array.isArray(t)&&!t.some((e=>"string"!=typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return s.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...i}=e.props,o=Object.keys(i).reduce(((e,t)=>(e[Xh[t]||t]=i[t],e)),{});let{type:a}=e;switch("symbol"==typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,o,r);break;default:t=this.mapObjectTypeChildren(e,t,o,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Ep)){r=new Ep(r.context,!0),delete n.helmetData}return r?s.createElement(Rp,{...n,context:r.value}):s.createElement(jp.Consumer,null,(e=>s.createElement(Rp,{...n,context:e})))}},r(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);function Ip(){const e=Ln((e=>e.meta));if(!e)return null;if("tv"!==e.type)return k.jsx(Pp,{children:k.jsx("title",{children:e.title})});const t=`S${e.currentSeason} - E${e.currentEpisode}`;return k.jsx(Pp,{children:k.jsxs("title",{children:[e.title," - ",t]})})}function Fp(){const e=Js(""),t=Ln((e=>e.display)),n=Ln((e=>e.progress)),{isSeeking:r}=Ln((e=>e.interface)),o=Ln((e=>e.mediaPlaying)),a=Ln((e=>e.progress.time)),{setVolume:s,toggleMute:l}=qo(),{toggleLastUsed:c}=wi(),u=Rn((e=>e.setShowVolume)),[d,f]=i.useState(!1),h=i.useRef(),p=i.useRef({setShowVolume:u,setVolume:s,toggleMute:l,setIsRolling:f,toggleLastUsed:c,display:t,mediaPlaying:o,mediaProgress:n,isSeeking:r,isRolling:d,time:a,router:e});return i.useEffect((()=>{p.current={setShowVolume:u,setVolume:s,toggleMute:l,setIsRolling:f,toggleLastUsed:c,display:t,mediaPlaying:o,mediaProgress:n,isSeeking:r,isRolling:d,time:a,router:e}}),[u,s,l,f,c,t,o,n,r,d,a,e]),i.useEffect((()=>{const e=e=>{var t,n,r,i,o,a,s,l,c,u,d,f,m,g,v;if(e.target&&"INPUT"===e.target.nodeName)return;const y=e.key,b=e.key.toLowerCase();if(["ArrowUp","ArrowDown","m","M"].includes(y)&&(p.current.setShowVolume(!0),h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{p.current.setShowVolume(!1)}),3e3)),"ArrowUp"===y&&p.current.setVolume(((null==(t=p.current.mediaPlaying)?void 0:t.volume)||0)+.15),"ArrowDown"===y&&p.current.setVolume(((null==(n=p.current.mediaPlaying)?void 0:n.volume)||0)-.15),"m"===b&&p.current.toggleMute(),">"===y||"<"===y){const e=[.25,.5,1,1.5,2];let t=e.indexOf(null==(r=p.current.mediaPlaying)?void 0:r.playbackRate);-1===t&&(t=e.indexOf(1));const n=e[t+(">"===y?1:-1)];n&&(null==(i=p.current.display)||i.setPlaybackRate(n))}if("ArrowRight"===y&&(null==(o=p.current.display)||o.setTime(p.current.time+5)),"ArrowLeft"===y&&(null==(a=p.current.display)||a.setTime(p.current.time-5)),"j"===b&&(null==(s=p.current.display)||s.setTime(p.current.time-10)),"l"===b&&(null==(l=p.current.display)||l.setTime(p.current.time+10)),"."===y&&(null==(c=p.current.mediaPlaying)?void 0:c.isPaused)&&(null==(u=p.current.display)||u.setTime(p.current.time+1)),","===y&&(null==(d=p.current.mediaPlaying)?void 0:d.isPaused)&&(null==(f=p.current.display)||f.setTime(p.current.time-1)),"f"===b&&(null==(m=p.current.display)||m.toggleFullscreen())," "===y||"k"===b){if(e.target&&"BUTTON"===e.target.nodeName)return;const t=p.current.mediaPlaying.isPaused?"play":"pause";null==(g=p.current.display)||g[t]()}if("Escape"===y&&p.current.router.close(),"c"===b&&p.current.toggleLastUsed().catch((()=>{})),"r"===b){if(p.current.isRolling||e.ctrlKey||e.metaKey)return;p.current.setIsRolling(!0),null==(v=document.querySelector(".popout-location"))||v.classList.add("roll"),document.body.setAttribute("data-no-scroll","true"),setTimeout((()=>{var e;null==(e=document.querySelector(".popout-location"))||e.classList.remove("roll"),document.body.removeAttribute("data-no-scroll"),p.current.setIsRolling(!1)}),1e3)}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]),null}function Dp(){var e,t,n,r,o;const a=i.useRef(!1),s=i.useRef(0),l=Ln.getState(),c=i.useCallback((e=>{"function"==typeof navigator.mediaSession.setPositionState&&(e>l.progress.buffered&&(a.current=!0),e>l.progress.duration||(s.current=l.progress.time,navigator.mediaSession.setPositionState({duration:l.progress.duration,playbackRate:l.mediaPlaying.playbackRate,position:e})))}),[l.mediaPlaying.playbackRate,l.progress.buffered,l.progress.duration,l.progress.time]);return i.useEffect((()=>{"mediaSession"in navigator&&(l.mediaPlaying.isPaused?navigator.mediaSession.playbackState="paused":navigator.mediaSession.playbackState="playing")}),[l.mediaPlaying.isPaused]),i.useEffect((()=>{"mediaSession"in navigator&&c(l.progress.time)}),[l.progress.time,l.mediaPlaying.playbackRate,c]),i.useEffect((()=>{"mediaSession"in navigator&&(!a.current&&l.mediaPlaying.isLoading&&(a.current=!0),Math.abs(l.progress.time-s.current)>=5&&!l.mediaPlaying.isLoading&&!a.current&&(a.current=!0),a.current&&!l.mediaPlaying.isLoading&&(a.current=!1,c(l.progress.time)),s.current=l.progress.time)}),[c,l.progress.time,l.mediaPlaying.isLoading]),i.useEffect((()=>{var e,t,n,r,i,o,a;if(!("mediaSession"in navigator)||!l.mediaPlaying.isLoading&&l.mediaPlaying.isPlaying&&!l.display)return;let s,u;"movie"===(null==(e=l.meta)?void 0:e.type)?s=null==(t=l.meta)?void 0:t.title:"tv"===(null==(n=l.meta)?void 0:n.type)&&(u=null==(r=l.meta)?void 0:r.title,s=`S${null==(i=l.meta)?void 0:i.currentSeason} E${null==(o=l.meta)?void 0:o.currentEpisode}`),navigator.mediaSession.metadata=new MediaMetadata({title:s,artist:u,artwork:[{src:(null==(a=l.meta)?void 0:a.poster)??"",sizes:"342x513",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",(()=>{var e;l.mediaPlaying.isLoading||(null==(e=l.display)||e.play(),c(l.progress.time))})),navigator.mediaSession.setActionHandler("pause",(()=>{var e;l.mediaPlaying.isLoading||(null==(e=l.display)||e.pause(),c(l.progress.time))})),navigator.mediaSession.setActionHandler("seekto",(e=>{var t;e.seekTime&&(null==(t=l.display)||t.setTime(e.seekTime),c(e.seekTime))}))}),[c,l.mediaPlaying.hasPlayedOnce,l.mediaPlaying.isLoading,l.progress.duration,l.progress.time,null==(e=l.meta)?void 0:e.currentEpisode,l.display,l.mediaPlaying,null==(t=l.meta)?void 0:t.title,null==(n=l.meta)?void 0:n.type,null==(r=l.meta)?void 0:r.poster,null==(o=l.meta)?void 0:o.currentSeason]),null}const $p=mt(bn(an((e=>({items:{},removeItem(t){e((e=>{delete e.items[t]}))},replaceItems(t){e((e=>{e.items=t}))},updateItem({meta:t,progress:n}){e((e=>{e.items[t.id]||(e.items[t.id]={type:t.type,updatedAt:Date.now(),title:t.title,dateAdded:t.dateAdded,poster:t.poster,watchId:t.watchId});const r=e.items[t.id];r.updatedAt=Date.now(),r.progress||(r.progress={duration:0,watched:0}),(t.currentEpisode||t.currentSeason)&&(r.currentEpisode=t.currentEpisode,r.currentSeason=t.currentSeason),r.progress={...n}}))},clear(){e((e=>{e.items={}}))}}))),{name:"embed::progress"}));function zp(){const e=Ln((e=>e.meta)),t=Ln((e=>e.progress)),n=$p((e=>e.updateItem)),r=Ln((e=>e.status)),o=Ln((e=>e.mediaPlaying.hasPlayedOnce)),a=i.useRef(null),s=i.useRef({updateItem:n,meta:e,progress:t,status:r,hasPlayedOnce:o});var l,c,u;return i.useEffect((()=>{s.current.updateItem=n,s.current.meta=e,s.current.progress=t,s.current.status=r,s.current.hasPlayedOnce=o}),[n,t,e,r,o]),l=()=>{var e,n;const r=s.current;if(!r.progress||!r.meta||!r.updateItem)return;if(r.status!==Cn)return;if(!o)return;let i=!1;a.current&&(null==(e=a.current)?void 0:e.duration)===t.duration&&(null==(n=a.current)?void 0:n.watched)===t.time||(i=!0),a.current={duration:t.duration,watched:t.time},i&&r.updateItem({meta:{...r.meta},progress:a.current})},c=3e3,u=i.useRef((function(){})),i.useEffect((function(){u.current=l})),i.useEffect((function(){var e=setInterval((function(){return u.current()}),c);return function(){return clearInterval(e)}}),[c]),null}class Bp{constructor(e){this.videoEl=null,this.canvasEl=null,this.hls=null,this.cb=e.addImage,this.interrupted=!1}start(e){if(Co)return!1;const t=document.createElement("video");t.setAttribute("muted","true");const n=document.createElement("canvas");if(this.hls=new f,"mp4"===e.type)t.src=Eh(e.url),t.crossOrigin="anonymous";else{if("hls"!==e.type)throw new Error("Invalid loadable source type");this.hls.attachMedia(t),this.hls.loadSource(Eh(e.url))}this.videoEl=t,this.canvasEl=n,this.begin().catch((e=>console.error(e)))}destroy(){var e,t;this.interrupted=!0,this.videoEl=null,this.canvasEl=null,null==(e=this.hls)||e.detachMedia(),null==(t=this.hls)||t.destroy(),this.hls=null}async initVideo(){this.videoEl&&this.canvasEl&&(await new Promise(((e,t)=>{var n,r;null==(n=this.videoEl)||n.addEventListener("loadedmetadata",e),null==(r=this.videoEl)||r.addEventListener("error",t)})),this.videoEl&&this.canvasEl&&(this.canvasEl.height=this.videoEl.videoHeight,this.canvasEl.width=this.videoEl.videoWidth))}async takeSnapshot(e){if(!this.videoEl||!this.canvasEl)return;if(this.videoEl.currentTime=e,await new Promise((e=>{var t;const n=()=>{var t;null==(t=this.videoEl)||t.removeEventListener("seeked",n),e(null)};null==(t=this.videoEl)||t.addEventListener("seeked",n)})),!this.videoEl||!this.canvasEl)return;const t=this.canvasEl.getContext("2d");if(!t)return;t.drawImage(this.videoEl,0,0,this.canvasEl.width,this.canvasEl.height);const n=this.canvasEl.toDataURL();this.interrupted||"data:,"!==n&&n&&this.cb({at:e,data:n})}async begin(){const e=this.videoEl;if(!e)return;await this.initVideo();const t=function(e){const t=[0,1];let n=.5,r=0;for(let i=0;i<e;i+=1){const e=1/n-1;for(let i=0;i<e-r;i+=1){const e=i*n*2;t.push(e+n)}r=e,n/=2}return t}(6);for(let n=0;n<t.length;n+=1){if(this.interrupted)return;await this.takeSnapshot(e.duration*t[n])}}}function Vp(){const e=Ln((e=>e.thumbnails.addImage)),t=Ln((e=>e.status)),n=Ln((e=>e.thumbnails.resetImages)),r=Ln((e=>e.meta)),o=Ln((e=>e.source)),a=hf((e=>e.enableThumbnails)),s=i.useRef(null),l=JSON.stringify(o),c=i.useCallback((()=>{let r=null;if(o&&(r=un(o,{automaticQuality:!1,lastChosenQuality:"360"})),s.current)return;if(t!==Cn)return;if(!r)return;n();const i=new Bp({addImage:e});s.current=i,i.start(r.stream)}),[o,e,n,t]),u=i.useRef(c);i.useEffect((()=>{u.current=c}),[c,t]),i.useEffect((()=>{a&&u.current()}),[l,a]),i.useEffect((()=>()=>{s.current&&(s.current.destroy(),s.current=null)}),[]);const d=JSON.stringify({id:null==r?void 0:r.id,ep:null==r?void 0:r.currentEpisode,se:null==r?void 0:r.currentSeason});return i.useEffect((()=>{s.current&&(s.current.destroy(),s.current=null),a&&u.current()}),[d,l,t,a]),null}const Up=()=>(ve(),De(),i.useEffect((()=>(window.addEventListener("message",Hp),()=>window.removeEventListener("message",Hp)))),""),Hp=({type:e,data:t})=>{},Wp=({type:e,data:t})=>{window.parent.postMessage({type:e,payload:t},"*")};var qp={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,c=64,u=128,d=256,f=1/0,h=9007199254740991,p=NaN,m=4294967295,g=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",c],["rearg",d]],v="[object Arguments]",y="[object Array]",b="[object Boolean]",w="[object Date]",x="[object Error]",C="[object Function]",_="[object GeneratorFunction]",k="[object Map]",S="[object Number]",E="[object Object]",j="[object Promise]",T="[object RegExp]",N="[object Set]",O="[object String]",A="[object Symbol]",L="[object WeakMap]",M="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",U="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,Q=RegExp(G.source),K=RegExp(Z.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),oe=/^\s+/,ae=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",je="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="[']",Ae="["+_e+"]",Le="["+Ne+"]",Me="["+ke+"]",Re="\\d+",Pe="["+Se+"]",Ie="["+Ee+"]",Fe="[^"+_e+Ne+Re+Se+Ee+je+"]",De="\\ud83c[\\udffb-\\udfff]",$e="[^"+_e+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+je+"]",Ue="\\u200d",He="(?:"+Ie+"|"+Fe+")",We="(?:"+Ve+"|"+Fe+")",qe="(?:['](?:d|ll|m|re|s|t|ve))?",Ge="(?:['](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Me+"|"+De+")"+"?",Qe="["+Te+"]?",Ke=Qe+Ze+("(?:"+Ue+"(?:"+[$e,ze,Be].join("|")+")"+Qe+Ze+")*"),Ye="(?:"+[Pe,ze,Be].join("|")+")"+Ke,Je="(?:"+[$e+Me+"?",Me,ze,Be,Ae].join("|")+")",Xe=RegExp(Oe,"g"),et=RegExp(Me,"g"),tt=RegExp(De+"(?="+De+")|"+Je+Ke,"g"),nt=RegExp([Ve+"?"+Ie+"+"+qe+"(?="+[Le,Ve,"$"].join("|")+")",We+"+"+Ge+"(?="+[Le,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+qe,Ve+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ye].join("|"),"g"),rt=RegExp("["+Ue+_e+ke+Te+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,st={};st[P]=st[I]=st[F]=st[D]=st[$]=st[z]=st[B]=st[V]=st[U]=!0,st[v]=st[y]=st[M]=st[b]=st[R]=st[w]=st[x]=st[C]=st[k]=st[S]=st[E]=st[T]=st[N]=st[O]=st[L]=!1;var lt={};lt[v]=lt[y]=lt[M]=lt[R]=lt[b]=lt[w]=lt[P]=lt[I]=lt[F]=lt[D]=lt[$]=lt[k]=lt[S]=lt[E]=lt[T]=lt[N]=lt[O]=lt[A]=lt[z]=lt[B]=lt[V]=lt[U]=!0,lt[x]=lt[C]=lt[L]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,dt=parseInt,ft="object"==typeof l&&l&&l.Object===Object&&l,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=ft||ht||Function("return this")(),mt=t&&!t.nodeType&&t,gt=mt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===mt,yt=vt&&ft.process,bt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(fs){}}(),wt=bt&&bt.isArrayBuffer,xt=bt&&bt.isDate,Ct=bt&&bt.isMap,_t=bt&&bt.isRegExp,kt=bt&&bt.isSet,St=bt&&bt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function jt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Lt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function It(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=qt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ht,n)}function Ut(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:p}function qt(e){return function(t){return null==t?n:t[e]}}function Gt(e){return function(t){return null==e?n:e[t]}}function Zt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Qt(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,pn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Xt(e,t){return Rt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var rn=Gt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),on=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){return sn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):$t(e)}function hn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var mn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var l,ae=(t=null==t?pt:gn.defaults(pt.Object(),t,gn.pick(pt,ot))).Array,_e=t.Date,ke=t.Error,Se=t.Function,Ee=t.Math,je=t.Object,Te=t.RegExp,Ne=t.String,Oe=t.TypeError,Ae=ae.prototype,Le=Se.prototype,Me=je.prototype,Re=t["__core-js_shared__"],Pe=Le.toString,Ie=Me.hasOwnProperty,Fe=0,De=(l=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",$e=Me.toString,ze=Pe.call(je),Be=pt._,Ve=Te("^"+Pe.call(Ie).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=vt?t.Buffer:n,He=t.Symbol,We=t.Uint8Array,qe=Ue?Ue.allocUnsafe:n,Ge=cn(je.getPrototypeOf,je),Ze=je.create,Qe=Me.propertyIsEnumerable,Ke=Ae.splice,Ye=He?He.isConcatSpreadable:n,Je=He?He.iterator:n,tt=He?He.toStringTag:n,rt=function(){try{var e=fo(je,"defineProperty");return e({},"",{}),e}catch(fs){}}(),ct=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ft=_e&&_e.now!==pt.Date.now&&_e.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Ee.ceil,gt=Ee.floor,yt=je.getOwnPropertySymbols,bt=Ue?Ue.isBuffer:n,$t=t.isFinite,Gt=Ae.join,vn=cn(je.keys,je),yn=Ee.max,bn=Ee.min,wn=_e.now,xn=t.parseInt,Cn=Ee.random,_n=Ae.reverse,kn=fo(t,"DataView"),Sn=fo(t,"Map"),En=fo(t,"Promise"),jn=fo(t,"Set"),Tn=fo(t,"WeakMap"),Nn=fo(je,"create"),On=Tn&&new Tn,An={},Ln=Do(kn),Mn=Do(Sn),Rn=Do(En),Pn=Do(jn),In=Do(Tn),Fn=He?He.prototype:n,Dn=Fn?Fn.valueOf:n,$n=Fn?Fn.toString:n;function zn(e){if(ts(e)&&!Ha(e)&&!(e instanceof Hn)){if(e instanceof Un)return e;if(Ie.call(e,"__wrapped__"))return $o(e)}return new Un(e)}var Bn=function(){function e(){}return function(t){if(!es(t))return{};if(Ze)return Ze(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Vn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new qn(e);this.size=t.size}function Kn(e,t){var n=Ha(e),r=!n&&Ua(e),i=!n&&!r&&Za(e),o=!n&&!r&&!i&&cs(e),a=n||r||i||o,s=a?Kt(e.length,Ne):[],l=s.length;for(var c in e)!t&&!Ie.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||s.push(c);return s}function Yn(e){var t=e.length;return t?e[Zr(0,t-1)]:n}function Jn(e,t){return Po(Ni(e),sr(t,0,e.length))}function Xn(e){return Po(Ni(e))}function er(e,t,r){(r!==n&&!za(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function tr(e,t,r){var i=e[t];Ie.call(e,t)&&za(i,r)&&(r!==n||t in e)||or(e,t,r)}function nr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function rr(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Oi(t,Ls(t),e)}function or(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,o=ae(i),a=null==e;++r<i;)o[r]=a?n:js(e,t[r]);return o}function sr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function lr(e,t,r,i,o,a){var s,l=1&t,c=2&t,u=4&t;if(r&&(s=o?r(e,i,o,a):r(e)),s!==n)return s;if(!es(e))return e;var d=Ha(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ni(e,s)}else{var f=mo(e),h=f==C||f==_;if(Za(e))return _i(e,l);if(f==E||f==v||h&&!o){if(s=c||h?{}:vo(e),!l)return c?function(e,t){return Oi(e,po(e),t)}(e,function(e,t){return e&&Oi(t,Ms(t),e)}(s,e)):function(e,t){return Oi(e,ho(e),t)}(e,ir(s,e))}else{if(!lt[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case M:return ki(e);case b:case w:return new r(+e);case R:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case I:case F:case D:case $:case z:case B:case V:case U:return Si(e,n);case k:return new r;case S:case O:return new r(e);case T:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case A:return i=e,Dn?je(Dn.call(i)):{}}var i}(e,f,l)}}a||(a=new Qn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(n){s.add(lr(n,t,r,n,e,a))})):ns(e)&&e.forEach((function(n,i){s.set(i,lr(n,t,r,i,e,a))}));var m=d?n:(u?c?io:ro:c?Ms:Ls)(e);return Tt(m||e,(function(n,i){m&&(n=e[i=n]),tr(s,i,lr(n,t,r,i,e,a))})),s}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=je(e);i--;){var o=r[i],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function ur(e,t,i){if("function"!=typeof e)throw new Oe(r);return Ao((function(){e.apply(n,i)}),t)}function dr(e,t,n,r){var i=-1,o=Lt,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Rt(t,Jt(n))),r?(o=Mt,a=!1):t.length>=200&&(o=en,a=!1,t=new Zn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}zn.templateSettings={escape:Y,evaluate:J,interpolate:X,variable:"",imports:{_:zn}},zn.prototype=Vn.prototype,zn.prototype.constructor=zn,Un.prototype=Bn(Vn.prototype),Un.prototype.constructor=Un,Hn.prototype=Bn(Vn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Nn){var r=t[e];return r===i?n:r}return Ie.call(t,e)?t[e]:n},Wn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==n:Ie.call(t,e)},Wn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Nn&&t===n?i:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?n:t[r][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||qn),string:new Wn}},Gn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return co(this,e).get(e)},Gn.prototype.has=function(e){return co(this,e).has(e)},Gn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,i),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var fr=Mi(wr),hr=Mi(xr,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(l===n?s==s&&!ls(s):r(s,l)))var l=s,c=a}return c}function gr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):Pt(i,s):r||(i[i.length]=s)}return i}var yr=Ri(),br=Ri(!0);function wr(e,t){return e&&yr(e,t,Ls)}function xr(e,t){return e&&br(e,t,Ls)}function Cr(e,t){return At(t,(function(t){return Ya(e[t])}))}function _r(e,t){for(var r=0,i=(t=bi(t,e)).length;null!=e&&r<i;)e=e[Fo(t[r++])];return r&&r==i?e:n}function kr(e,t,n){var r=t(e);return Ha(e)?r:Pt(r,n(e))}function Sr(e){return null==e?e===n?"[object Undefined]":"[object Null]":tt&&tt in je(e)?function(e){var t=Ie.call(e,tt),r=e[tt];try{e[tt]=n;var i=!0}catch(fs){}var o=$e.call(e);i&&(t?e[tt]=r:delete e[tt]);return o}(e):function(e){return $e.call(e)}(e)}function Er(e,t){return e>t}function jr(e,t){return null!=e&&Ie.call(e,t)}function Tr(e,t){return null!=e&&t in je(e)}function Nr(e,t,r){for(var i=r?Mt:Lt,o=e[0].length,a=e.length,s=a,l=ae(a),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Rt(d,Jt(t))),c=bn(d.length,c),l[s]=!r&&(t||o>=120&&d.length>=120)?new Zn(s&&d):n}d=e[0];var f=-1,h=l[0];e:for(;++f<o&&u.length<c;){var p=d[f],m=t?t(p):p;if(p=r||0!==p?p:0,!(h?en(h,m):i(u,m,r))){for(s=a;--s;){var g=l[s];if(!(g?en(g,m):i(e[s],m,r)))continue e}h&&h.push(m),u.push(p)}}return u}function Or(e,t,r){var i=null==(e=To(e,t=bi(t,e)))?e:e[Fo(Ko(t))];return null==i?n:Et(i,e,r)}function Ar(e){return ts(e)&&Sr(e)==v}function Lr(e,t,r,i,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!=e&&t!=t:function(e,t,r,i,o,a){var s=Ha(e),l=Ha(t),c=s?y:mo(e),u=l?y:mo(t),d=(c=c==v?E:c)==E,f=(u=u==v?E:u)==E,h=c==u;if(h&&Za(e)){if(!Za(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Qn),s||cs(e)?to(e,t,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case b:case w:case S:return za(+e,+t);case x:return e.name==t.name&&e.message==t.message;case T:case O:return e==t+"";case k:var s=ln;case N:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=to(s(e),s(t),r,i,o,a);return a.delete(e),u;case A:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,c,r,i,o,a);if(!(1&r)){var p=d&&Ie.call(e,"__wrapped__"),m=f&&Ie.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,C=m?t.value():t;return a||(a=new Qn),o(g,C,r,i,a)}}if(!h)return!1;return a||(a=new Qn),function(e,t,r,i,o,a){var s=1&r,l=ro(e),c=l.length,u=ro(t),d=u.length;if(c!=d&&!s)return!1;var f=c;for(;f--;){var h=l[f];if(!(s?h in t:Ie.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<c;){var y=e[h=l[f]],b=t[h];if(i)var w=s?i(b,y,h,t,e,a):i(y,b,h,e,t,a);if(!(w===n?y===b||o(y,b,r,i,a):w)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var x=e.constructor,C=t.constructor;x==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof C&&C instanceof C||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,r,i,o,a)}(e,t,r,i,Lr,o))}function Mr(e,t,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=je(e);o--;){var l=r[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=r[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===n&&!(c in e))return!1}else{var f=new Qn;if(i)var h=i(u,d,c,e,t,f);if(!(h===n?Lr(d,u,3,i,f):h))return!1}}return!0}function Rr(e){return!(!es(e)||function(e){return!!De&&De in e}(e))&&(Ya(e)?Ve:ve).test(Do(e))}function Pr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ha(e)?Br(e[0],e[1]):zr(e):hl(e)}function Ir(e){if(!ko(e))return vn(e);var t=[];for(var n in je(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in je(e))t.push(n);return t}(e);var t=ko(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function $r(e,t){var n=-1,r=qa(e)?ae(e.length):[];return fr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function zr(e){var t=uo(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Br(e,t){return xo(e)&&So(t)?Eo(Fo(e),t):function(r){var i=js(r,e);return i===n&&i===t?Ts(r,e):Lr(t,i,3)}}function Vr(e,t,r,i,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Qn),es(a))!function(e,t,r,i,o,a,s){var l=No(e,r),c=No(t,r),u=s.get(c);if(u)return void er(e,r,u);var d=a?a(l,c,r+"",e,t,s):n,f=d===n;if(f){var h=Ha(c),p=!h&&Za(c),m=!h&&!p&&cs(c);d=c,h||p||m?Ha(l)?d=l:Ga(l)?d=Ni(l):p?(f=!1,d=_i(c,!0)):m?(f=!1,d=Si(c,!0)):d=[]:is(c)||Ua(c)?(d=l,Ua(l)?d=ys(l):es(l)&&!Ya(l)||(d=vo(c))):f=!1}f&&(s.set(c,d),o(d,c,i,a,s),s.delete(c));er(e,r,d)}(e,t,s,r,Vr,i,o);else{var l=i?i(No(e,s),a,s+"",e,t,o):n;l===n&&(l=a),er(e,s,l)}}),Ms)}function Ur(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:n}function Hr(e,t,n){t=t.length?Rt(t,(function(e){return Ha(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;return t=Rt(t,Jt(lo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}($r(e,(function(e,n,i){return{criteria:Rt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var l=Ei(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&Xr(o,bi(a,e),s)}return o}function qr(e,t,n,r){var i=r?Ut:Vt,o=-1,a=t.length,s=e;for(e===t&&(t=Ni(t)),n&&(s=Rt(e,Jt(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ke.call(e,i,1):di(e,i)}}return e}function Zr(e,t){return e+gt(Cn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return Lo(jo(e,t,il),e+"")}function Yr(e){return Yn(Bs(e))}function Jr(e,t){var n=Bs(e);return Po(n,sr(t,0,n.length))}function Xr(e,t,r,i){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=Fo(t[o]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var d=l[c];(u=i?i(d,c,l):n)===n&&(u=es(d)?d:bo(t[o+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=On?function(e,t){return On.set(e,t),e}:il,ti=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ni(e){return Po(Bs(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ae(i);++r<i;)o[r]=e[r+t];return o}function ii(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,il,n)}function ai(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,l=null===t,c=ls(t),u=t===n;o<a;){var d=gt((o+a)/2),f=r(e[d]),h=f!==n,p=null===f,m=f==f,g=ls(f);if(s)var v=i||m;else v=u?m&&(i||h):l?m&&h&&(i||!p):c?m&&h&&!p&&(i||!g):!p&&!g&&(i?f<=t:f<t);v?o=d+1:a=d}return bn(a,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!za(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:ls(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Ha(e))return Rt(e,ci)+"";if(ls(e))return $n?$n.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Lt,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Mt;else if(o>=200){var c=t?null:Qi(e);if(c)return dn(c);a=!1,i=en,l=new Zn}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function di(e,t){return null==(e=To(e,t=bi(t,e)))||delete e[Fo(Ko(t))]}function fi(e,t,n,r){return Xr(e,t,n(_r(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function mi(e,t,n){var r=e.length;if(r<2)return r?ui(e[0]):[];for(var i=-1,o=ae(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=dr(o[i]||a,e[s],t,n));return ui(vr(o,1),t,n)}function gi(e,t,r){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var l=i<a?t[i]:n;r(s,e[i],l)}return s}function vi(e){return Ga(e)?e:[]}function yi(e){return"function"==typeof e?e:il}function bi(e,t){return Ha(e)?e:xo(e,t)?[e]:Io(bs(e))}var wi=Kr;function xi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ri(e,t,r)}var Ci=ct||function(e){return pt.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Si(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=ls(e),s=t!==n,l=null===t,c=t==t,u=ls(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!r&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!c)return-1}return 0}function ji(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,c=yn(o-a,0),u=ae(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<a;)(d||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function Ti(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,c=t.length,u=yn(o-s,0),d=ae(u+c),f=!r;++i<u;)d[i]=e[i];for(var h=i;++l<c;)d[h+l]=t[l];for(;++a<s;)(f||i<o)&&(d[h+n[a]]=e[i++]);return d}function Ni(e,t){var n=-1,r=e.length;for(t||(t=ae(r));++n<r;)t[n]=e[n];return t}function Oi(e,t,r,i){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=i?i(r[l],e[l],l,r,e):n;c===n&&(c=e[l]),o?or(r,l,c):tr(r,l,c)}return r}function Ai(e,t){return function(n,r){var i=Ha(n)?jt:rr,o=t?t():{};return i(n,e,lo(r,2),o)}}function Li(e){return Kr((function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&wo(r[0],r[1],s)&&(a=o<3?n:a,o=1),t=je(t);++i<o;){var l=r[i];l&&e(t,l,i,a)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=je(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=je(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Pi(e){return function(t){var r=sn(t=bs(t))?hn(t):n,i=r?r[0]:t.charAt(0),o=r?xi(r,1).join(""):t.slice(1);return i[e]()+o}}function Ii(e){return function(t){return It(Js(Hs(t).replace(Xe,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Di(e){return function(t,r,i){var o=je(t);if(!qa(t)){var a=lo(r,3);t=Ls(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,i);return s>-1?o[a?t[s]:s]:n}}function $i(e){return no((function(t){var i=t.length,o=i,a=Un.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new Oe(r);if(a&&!l&&"wrapper"==ao(s))var l=new Un([],!0)}for(o=l?o:i;++o<i;){var c=ao(s=t[o]),u="wrapper"==c?oo(s):n;l=u&&Co(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ao(u[0])].apply(l,u[3]):1==s.length&&Co(s)?l[c]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ha(n))return l.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function zi(e,t,r,i,o,a,s,l,c,d){var f=t&u,h=1&t,p=2&t,m=24&t,g=512&t,v=p?n:Fi(e);return function u(){for(var y=arguments.length,b=ae(y),w=y;w--;)b[w]=arguments[w];if(m)var x=so(u),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,x);if(i&&(b=ji(b,i,o,m)),a&&(b=Ti(b,a,s,m)),y-=C,m&&y<d){var _=un(b,x);return Gi(e,t,zi,u.placeholder,r,b,_,l,c,d-y)}var k=h?r:this,S=p?k[e]:e;return y=b.length,l?b=function(e,t){var r=e.length,i=bn(t.length,r),o=Ni(e);for(;i--;){var a=t[i];e[i]=bo(a,r)?o[a]:n}return e}(b,l):g&&y>1&&b.reverse(),f&&c<y&&(b.length=c),this&&this!==pt&&this instanceof u&&(S=v||Fi(S)),S.apply(k,b)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=li(r),i=li(i)),o=e(r,i)}return o}}function Ui(e){return no((function(t){return t=Rt(t,Jt(lo())),Kr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Hi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Qr(t,e):t;var i=Qr(t,mt(e/fn(t)));return sn(t)?xi(hn(i),0,e).join(""):i.slice(0,e)}function Wi(e){return function(t,r,i){return i&&"number"!=typeof i&&wo(t,r,i)&&(r=i=n),t=ps(t),r===n?(r=t,t=0):r=ps(r),function(e,t,n,r){for(var i=-1,o=yn(mt((t-e)/(n||1)),0),a=ae(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,r,i=i===n?t<r?1:-1:ps(i),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Gi(e,t,r,i,o,a,l,u,d,f){var h=8&t;t|=h?s:c,4&(t&=~(h?c:s))||(t&=-4);var p=[e,t,o,h?a:n,h?l:n,h?n:a,h?n:l,u,d,f],m=r.apply(n,p);return Co(e)&&Oo(m,p),m.placeholder=i,Mo(m,e,t)}function Zi(e){var t=Ee[e];return function(e,n){if(e=vs(e),(n=null==n?0:bn(ms(n),292))&&$t(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=jn&&1/dn(new jn([,-0]))[1]==f?function(e){return new jn(e)}:cl;function Ki(e){return function(t){var n=mo(t);return n==k?ln(t):n==N?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,i,l,f,h,p,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Oe(r);var v=l?l.length:0;if(v||(t&=-97,l=f=n),p=p===n?p:yn(ms(p),0),m=m===n?m:ms(m),v-=f?f.length:0,t&c){var y=l,b=f;l=f=n}var w=g?n:oo(e),x=[e,t,i,l,f,y,b,h,p,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?ji(c,l,t[4]):l,e[4]=c?un(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ti(c,l,t[6]):l,e[6]=c?un(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,w),e=x[0],t=x[1],i=x[2],l=x[3],f=x[4],!(m=x[9]=x[9]===n?g?0:e.length:yn(x[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||t==a?function(e,t,r){var i=Fi(e);return function o(){for(var a=arguments.length,s=ae(a),l=a,c=so(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:un(s,c);return(a-=u.length)<r?Gi(e,t,zi,o.placeholder,n,s,u,n,n,r-a):Et(this&&this!==pt&&this instanceof o?i:e,this,s)}}(e,t,m):t!=s&&33!=t||f.length?zi.apply(n,x):function(e,t,n,r){var i=1&t,o=Fi(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=r.length,u=ae(c+s),d=this&&this!==pt&&this instanceof t?o:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++a];return Et(d,i?n:this,u)}}(e,t,i,l);else var C=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Mo((w?ei:Oo)(C,x),e,t)}function Ji(e,t,r,i){return e===n||za(e,Me[r])&&!Ie.call(i,r)?t:e}function Xi(e,t,r,i,o,a){return es(e)&&es(t)&&(a.set(t,e),Vr(e,t,n,Xi,a),a.delete(t)),e}function eo(e){return is(e)?n:e}function to(e,t,r,i,o,a){var s=1&r,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&r?new Zn:n;for(a.set(e,t),a.set(t,e);++f<l;){var m=e[f],g=t[f];if(i)var v=s?i(g,m,f,t,e,a):i(m,g,f,e,t,a);if(v!==n){if(v)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!en(p,t)&&(m===e||o(m,e,r,i,a)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!o(m,g,r,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function no(e){return Lo(jo(e,n,Wo),e+"")}function ro(e){return kr(e,Ls,ho)}function io(e){return kr(e,Ms,po)}var oo=On?function(e){return On.get(e)}:cl;function ao(e){for(var t=e.name+"",n=An[t],r=Ie.call(An,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Ie.call(zn,"placeholder")?zn:e).placeholder}function lo(){var e=zn.iteratee||ol;return e=e===ol?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,So(i)]}return t}function fo(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Rr(r)?r:n}var ho=yt?function(e){return null==e?[]:(e=je(e),At(yt(e),(function(t){return Qe.call(e,t)})))}:gl,po=yt?function(e){for(var t=[];e;)Pt(t,ho(e)),e=Ge(e);return t}:gl,mo=Sr;function go(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xa(i)&&bo(a,i)&&(Ha(e)||Ua(e))}function vo(e){return"function"!=typeof e.constructor||ko(e)?{}:Bn(Ge(e))}function yo(e){return Ha(e)||Ua(e)||!!(Ye&&e&&e[Ye])}function bo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&bo(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function xo(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(te.test(e)||!ee.test(e)||null!=t&&e in je(t))}function Co(e){var t=ao(e),n=zn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(kn&&mo(new kn(new ArrayBuffer(1)))!=R||Sn&&mo(new Sn)!=k||En&&mo(En.resolve())!=j||jn&&mo(new jn)!=N||Tn&&mo(new Tn)!=L)&&(mo=function(e){var t=Sr(e),r=t==E?e.constructor:n,i=r?Do(r):"";if(i)switch(i){case Ln:return R;case Mn:return k;case Rn:return j;case Pn:return N;case In:return L}return t});var _o=Re?Ya:vl;function ko(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function So(e){return e==e&&!es(e)}function Eo(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in je(r)))}}function jo(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=yn(n.length-t,0),a=ae(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=ae(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),Et(e,this,s)}}function To(e,t){return t.length<2?e:_r(e,ri(t,0,-1))}function No(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Ro(ei),Ao=ht||function(e,t){return pt.setTimeout(e,t)},Lo=Ro(ti);function Mo(e,t,n){var r=t+"";return Lo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!Lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ro(e){var t=0,r=0;return function(){var i=wn(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Po(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=Zr(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Io=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return Pe.call(e)}catch(fs){}try{return e+""}catch(fs){}}return""}function $o(e){if(e instanceof Hn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Kr((function(e,t){return Ga(e)?dr(e,vr(t,1,Ga,!0)):[]})),Bo=Kr((function(e,t){var r=Ko(t);return Ga(r)&&(r=n),Ga(e)?dr(e,vr(t,1,Ga,!0),lo(r,2)):[]})),Vo=Kr((function(e,t){var r=Ko(t);return Ga(r)&&(r=n),Ga(e)?dr(e,vr(t,1,Ga,!0),n,r):[]}));function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Bt(e,lo(t,3),i)}function Ho(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=ms(r),o=r<0?yn(i+o,0):bn(o,i-1)),Bt(e,lo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?vr(e,1):[]}function qo(e){return e&&e.length?e[0]:n}var Go=Kr((function(e){var t=Rt(e,vi);return t.length&&t[0]===e[0]?Nr(t):[]})),Zo=Kr((function(e){var t=Ko(e),r=Rt(e,vi);return t===Ko(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Nr(r,lo(t,2)):[]})),Qo=Kr((function(e){var t=Ko(e),r=Rt(e,vi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Nr(r,n,t):[]}));function Ko(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Yo=Kr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Xo=no((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Gr(e,Rt(t,(function(e){return bo(e,n)?+e:e})).sort(Ei)),r}));function ea(e){return null==e?e:_n.call(e)}var ta=Kr((function(e){return ui(vr(e,1,Ga,!0))})),na=Kr((function(e){var t=Ko(e);return Ga(t)&&(t=n),ui(vr(e,1,Ga,!0),lo(t,2))})),ra=Kr((function(e){var t=Ko(e);return t="function"==typeof t?t:n,ui(vr(e,1,Ga,!0),n,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Ga(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return Rt(e,qt(t))}))}function oa(e,t){if(!e||!e.length)return[];var r=ia(e);return null==t?r:Rt(r,(function(e){return Et(t,n,e)}))}var aa=Kr((function(e,t){return Ga(e)?dr(e,t):[]})),sa=Kr((function(e){return mi(At(e,Ga))})),la=Kr((function(e){var t=Ko(e);return Ga(t)&&(t=n),mi(At(e,Ga),lo(t,2))})),ca=Kr((function(e){var t=Ko(e);return t="function"==typeof t?t:n,mi(At(e,Ga),n,t)})),ua=Kr(ia);var da=Kr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,oa(e,r)}));function fa(e){var t=zn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=no((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&bo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:n}),new Un(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var ma=Ai((function(e,t,n){Ie.call(e,n)?++e[n]:or(e,n,1)}));var ga=Di(Uo),va=Di(Ho);function ya(e,t){return(Ha(e)?Tt:fr)(e,lo(t,3))}function ba(e,t){return(Ha(e)?Nt:hr)(e,lo(t,3))}var wa=Ai((function(e,t,n){Ie.call(e,n)?e[n].push(t):or(e,n,[t])}));var xa=Kr((function(e,t,n){var r=-1,i="function"==typeof t,o=qa(e)?ae(e.length):[];return fr(e,(function(e){o[++r]=i?Et(t,e,n):Or(e,t,n)})),o})),Ca=Ai((function(e,t,n){or(e,n,t)}));function _a(e,t){return(Ha(e)?Rt:$r)(e,lo(t,3))}var ka=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Sa=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,vr(t,1),[])})),Ea=ft||function(){return pt.Date.now()};function ja(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Yi(e,u,n,n,n,n,t)}function Ta(e,t){var i;if("function"!=typeof t)throw new Oe(r);return e=ms(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Na=Kr((function(e,t,n){var r=1;if(n.length){var i=un(n,so(Na));r|=s}return Yi(e,r,t,n,i)})),Oa=Kr((function(e,t,n){var r=3;if(n.length){var i=un(n,so(Oa));r|=s}return Yi(t,r,e,n,i)}));function Aa(e,t,i){var o,a,s,l,c,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(r);function m(t){var r=o,i=a;return o=a=n,d=t,l=e.apply(i,r)}function g(e){var r=e-u;return u===n||r>=t||r<0||h&&e-d>=s}function v(){var e=Ea();if(g(e))return y(e);c=Ao(v,function(e){var n=t-(e-u);return h?bn(n,s-(e-d)):n}(e))}function y(e){return c=n,p&&o?m(e):(o=a=n,l)}function b(){var e=Ea(),r=g(e);if(o=arguments,a=this,u=e,r){if(c===n)return function(e){return d=e,c=Ao(v,t),f?m(e):l}(u);if(h)return Ci(c),c=Ao(v,t),m(u)}return c===n&&(c=Ao(v,t)),l}return t=vs(t)||0,es(i)&&(f=!!i.leading,s=(h="maxWait"in i)?yn(vs(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==n&&Ci(c),d=0,o=u=a=c=n},b.flush=function(){return c===n?l:y(Ea())},b}var La=Kr((function(e,t){return ur(e,1,t)})),Ma=Kr((function(e,t,n){return ur(e,vs(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Gn),n}function Pa(e){if("function"!=typeof e)throw new Oe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Gn;var Ia=wi((function(e,t){var n=(t=1==t.length&&Ha(t[0])?Rt(t[0],Jt(lo())):Rt(vr(t,1),Jt(lo()))).length;return Kr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Et(e,this,r)}))})),Fa=Kr((function(e,t){var r=un(t,so(Fa));return Yi(e,s,n,t,r)})),Da=Kr((function(e,t){var r=un(t,so(Da));return Yi(e,c,n,t,r)})),$a=no((function(e,t){return Yi(e,d,n,n,n,t)}));function za(e,t){return e===t||e!=e&&t!=t}var Ba=qi(Er),Va=qi((function(e,t){return e>=t})),Ua=Ar(function(){return arguments}())?Ar:function(e){return ts(e)&&Ie.call(e,"callee")&&!Qe.call(e,"callee")},Ha=ae.isArray,Wa=wt?Jt(wt):function(e){return ts(e)&&Sr(e)==M};function qa(e){return null!=e&&Xa(e.length)&&!Ya(e)}function Ga(e){return ts(e)&&qa(e)}var Za=bt||vl,Qa=xt?Jt(xt):function(e){return ts(e)&&Sr(e)==w};function Ka(e){if(!ts(e))return!1;var t=Sr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Ya(e){if(!es(e))return!1;var t=Sr(e);return t==C||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ms(e)}function Xa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=Ct?Jt(Ct):function(e){return ts(e)&&mo(e)==k};function rs(e){return"number"==typeof e||ts(e)&&Sr(e)==S}function is(e){if(!ts(e)||Sr(e)!=E)return!1;var t=Ge(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==ze}var os=_t?Jt(_t):function(e){return ts(e)&&Sr(e)==T};var as=kt?Jt(kt):function(e){return ts(e)&&mo(e)==N};function ss(e){return"string"==typeof e||!Ha(e)&&ts(e)&&Sr(e)==O}function ls(e){return"symbol"==typeof e||ts(e)&&Sr(e)==A}var cs=St?Jt(St):function(e){return ts(e)&&Xa(e.length)&&!!st[Sr(e)]};var us=qi(Dr),ds=qi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(qa(e))return ss(e)?hn(e):Ni(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=mo(e);return(t==k?ln:t==N?dn:Bs)(e)}function ps(e){return e?(e=vs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function gs(e){return e?sr(ms(e),0,m):0}function vs(e){if("number"==typeof e)return e;if(ls(e))return p;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||ye.test(e)?dt(e.slice(2),n?2:8):me.test(e)?p:+e}function ys(e){return Oi(e,Ms(e))}function bs(e){return null==e?"":ci(e)}var ws=Li((function(e,t){if(ko(t)||qa(t))Oi(t,Ls(t),e);else for(var n in t)Ie.call(t,n)&&tr(e,n,t[n])})),xs=Li((function(e,t){Oi(t,Ms(t),e)})),Cs=Li((function(e,t,n,r){Oi(t,Ms(t),e,r)})),_s=Li((function(e,t,n,r){Oi(t,Ls(t),e,r)})),ks=no(ar);var Ss=Kr((function(e,t){e=je(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&wo(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],s=Ms(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===n||za(d,Me[u])&&!Ie.call(e,u))&&(e[u]=a[u])}return e})),Es=Kr((function(e){return e.push(n,Xi),Et(Ps,n,e)}));function js(e,t,r){var i=null==e?n:_r(e,t);return i===n?r:i}function Ts(e,t){return null!=e&&go(e,t,Tr)}var Ns=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),e[t]=n}),tl(il)),Os=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]}),lo),As=Kr(Or);function Ls(e){return qa(e)?Kn(e):Ir(e)}function Ms(e){return qa(e)?Kn(e,!0):Fr(e)}var Rs=Li((function(e,t,n){Vr(e,t,n)})),Ps=Li((function(e,t,n,r){Vr(e,t,n,r)})),Is=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,io(e),n),r&&(n=lr(n,7,eo));for(var i=t.length;i--;)di(n,t[i]);return n}));var Fs=no((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Ts(e,n)}))}(e,t)}));function Ds(e,t){if(null==e)return{};var n=Rt(io(e),(function(e){return[e]}));return t=lo(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var $s=Ki(Ls),zs=Ki(Ms);function Bs(e){return null==e?[]:Xt(e,Ls(e))}var Vs=Ii((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Ys(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(we,rn).replace(et,"")}var Ws=Ii((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Ii((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=Pi("toLowerCase");var Zs=Ii((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Ii((function(e,t,n){return e+(n?" ":"")+Ys(t)}));var Ks=Ii((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=Pi("toUpperCase");function Js(e,t,r){return e=bs(e),(t=r?n:t)===n?function(e){return it.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Xs=Kr((function(e,t){try{return Et(e,n,t)}catch(fs){return Ka(fs)?fs:new ke(fs)}})),el=no((function(e,t){return Tt(t,(function(t){t=Fo(t),or(e,t,Na(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=$i(),rl=$i(!0);function il(e){return e}function ol(e){return Pr("function"==typeof e?e:lr(e,1))}var al=Kr((function(e,t){return function(n){return Or(n,e,t)}})),sl=Kr((function(e,t){return function(n){return Or(e,n,t)}}));function ll(e,t,n){var r=Ls(t),i=Cr(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Cr(t,Ls(t)));var o=!(es(n)&&"chain"in n&&!n.chain),a=Ya(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function cl(){}var ul=Ui(Rt),dl=Ui(Ot),fl=Ui(Dt);function hl(e){return xo(e)?qt(Fo(e)):function(e){return function(t){return _r(t,e)}}(e)}var pl=Wi(),ml=Wi(!0);function gl(){return[]}function vl(){return!1}var yl=Vi((function(e,t){return e+t}),0),bl=Zi("ceil"),wl=Vi((function(e,t){return e/t}),1),xl=Zi("floor");var Cl,_l=Vi((function(e,t){return e*t}),1),kl=Zi("round"),Sl=Vi((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Oe(r);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=ja,zn.assign=ws,zn.assignIn=xs,zn.assignInWith=Cs,zn.assignWith=_s,zn.at=ks,zn.before=Ta,zn.bind=Na,zn.bindAll=el,zn.bindKey=Oa,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},zn.chain=fa,zn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===n)?1:yn(ms(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=ae(mt(i/t));o<i;)s[a++]=ri(e,o,o+=t);return s},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Pt(Ha(n)?Ni(n):[n],vr(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Oe(r);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Et(i[0],this,n))return Et(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Ls(e);return function(n){return cr(n,e,t)}}(lr(e,1))},zn.constant=tl,zn.countBy=ma,zn.create=function(e,t){var n=Bn(e);return null==t?n:ir(n,t)},zn.curry=function e(t,r,i){var o=Yi(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},zn.curryRight=function e(t,r,i){var o=Yi(t,a,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},zn.debounce=Aa,zn.defaults=Ss,zn.defaultsDeep=Es,zn.defer=La,zn.delay=Ma,zn.difference=zo,zn.differenceBy=Bo,zn.differenceWith=Vo,zn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=r||t===n?1:ms(t))<0?0:t,i):[]},zn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,0,(t=i-(t=r||t===n?1:ms(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?hi(e,lo(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?hi(e,lo(t,3),!0):[]},zn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&wo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=ms(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:ms(i))<0&&(i+=o),i=r>i?0:gs(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},zn.filter=function(e,t){return(Ha(e)?At:gr)(e,lo(t,3))},zn.flatMap=function(e,t){return vr(_a(e,t),1)},zn.flatMapDeep=function(e,t){return vr(_a(e,t),f)},zn.flatMapDepth=function(e,t,r){return r=r===n?1:ms(r),vr(_a(e,t),r)},zn.flatten=Wo,zn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===n?1:ms(t)):[]},zn.flip=function(e){return Yi(e,512)},zn.flow=nl,zn.flowRight=rl,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:Cr(e,Ls(e))},zn.functionsIn=function(e){return null==e?[]:Cr(e,Ms(e))},zn.groupBy=wa,zn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},zn.intersection=Go,zn.intersectionBy=Zo,zn.intersectionWith=Qo,zn.invert=Ns,zn.invertBy=Os,zn.invokeMap=xa,zn.iteratee=ol,zn.keyBy=Ca,zn.keys=Ls,zn.keysIn=Ms,zn.map=_a,zn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(lr(e,1))},zn.matchesProperty=function(e,t){return Br(e,lr(t,1))},zn.memoize=Ra,zn.merge=Rs,zn.mergeWith=Ps,zn.method=al,zn.methodOf=sl,zn.mixin=ll,zn.negate=Pa,zn.nthArg=function(e){return e=ms(e),Kr((function(t){return Ur(t,e)}))},zn.omit=Is,zn.omitBy=function(e,t){return Ds(e,Pa(lo(t)))},zn.once=function(e){return Ta(2,e)},zn.orderBy=function(e,t,r,i){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(r=i?n:r)||(r=null==r?[]:[r]),Hr(e,t,r))},zn.over=ul,zn.overArgs=Ia,zn.overEvery=dl,zn.overSome=fl,zn.partial=Fa,zn.partialRight=Da,zn.partition=ka,zn.pick=Fs,zn.pickBy=Ds,zn.property=hl,zn.propertyOf=function(e){return function(t){return null==e?n:_r(e,t)}},zn.pull=Yo,zn.pullAll=Jo,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,lo(n,2)):e},zn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qr(e,t,n,r):e},zn.pullAt=Xo,zn.range=pl,zn.rangeRight=ml,zn.rearg=$a,zn.reject=function(e,t){return(Ha(e)?At:gr)(e,Pa(lo(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Oe(r);return Kr(e,t=t===n?t:ms(t))},zn.reverse=ea,zn.sampleSize=function(e,t,r){return t=(r?wo(e,t,r):t===n)?1:ms(t),(Ha(e)?Jn:Jr)(e,t)},zn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},zn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Xr(e,t,r,i)},zn.shuffle=function(e){return(Ha(e)?Xn:ni)(e)},zn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&wo(e,t,r)?(t=0,r=i):(t=null==t?0:ms(t),r=r===n?i:ms(r)),ri(e,t,r)):[]},zn.sortBy=Sa,zn.sortedUniq=function(e){return e&&e.length?si(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?si(e,lo(t,2)):[]},zn.split=function(e,t,r){return r&&"number"!=typeof r&&wo(e,t,r)&&(t=r=n),(r=r===n?m:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&sn(e)?xi(hn(e),0,r):e.split(t,r):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Oe(r);return t=null==t?0:yn(ms(t),0),Kr((function(n){var r=n[t],i=xi(n,0,t);return r&&Pt(i,r),Et(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},zn.take=function(e,t,r){return e&&e.length?ri(e,0,(t=r||t===n?1:ms(t))<0?0:t):[]},zn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=i-(t=r||t===n?1:ms(t)))<0?0:t,i):[]},zn.takeRightWhile=function(e,t){return e&&e.length?hi(e,lo(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?hi(e,lo(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Oe(r);return es(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Aa(e,t,{leading:i,maxWait:t,trailing:o})},zn.thru=ha,zn.toArray=hs,zn.toPairs=$s,zn.toPairsIn=zs,zn.toPath=function(e){return Ha(e)?Rt(e,Fo):ls(e)?[e]:Ni(Io(bs(e)))},zn.toPlainObject=ys,zn.transform=function(e,t,n){var r=Ha(e),i=r||Za(e)||cs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:es(e)&&Ya(o)?Bn(Ge(e)):{}}return(i?Tt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return ja(e,1)},zn.union=ta,zn.unionBy=na,zn.unionWith=ra,zn.uniq=function(e){return e&&e.length?ui(e):[]},zn.uniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?ui(e,n,t):[]},zn.unset=function(e,t){return null==e||di(e,t)},zn.unzip=ia,zn.unzipWith=oa,zn.update=function(e,t,n){return null==e?e:fi(e,t,yi(n))},zn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:fi(e,t,yi(r),i)},zn.values=Bs,zn.valuesIn=function(e){return null==e?[]:Xt(e,Ms(e))},zn.without=aa,zn.words=Js,zn.wrap=function(e,t){return Fa(yi(t),e)},zn.xor=sa,zn.xorBy=la,zn.xorWith=ca,zn.zip=ua,zn.zipObject=function(e,t){return gi(e||[],t||[],tr)},zn.zipObjectDeep=function(e,t){return gi(e||[],t||[],Xr)},zn.zipWith=da,zn.entries=$s,zn.entriesIn=zs,zn.extend=xs,zn.extendWith=Cs,ll(zn,zn),zn.add=yl,zn.attempt=Xs,zn.camelCase=Vs,zn.capitalize=Us,zn.ceil=bl,zn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=vs(r))==r?r:0),t!==n&&(t=(t=vs(t))==t?t:0),sr(vs(e),t,r)},zn.clone=function(e){return lr(e,4)},zn.cloneDeep=function(e){return lr(e,5)},zn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:n)},zn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:n)},zn.conformsTo=function(e,t){return null==t||cr(e,t,Ls(t))},zn.deburr=Hs,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=wl,zn.endsWith=function(e,t,r){e=bs(e),t=ci(t);var i=e.length,o=r=r===n?i:sr(ms(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},zn.eq=za,zn.escape=function(e){return(e=bs(e))&&K.test(e)?e.replace(Z,on):e},zn.escapeRegExp=function(e){return(e=bs(e))&&ie.test(e)?e.replace(re,"\\$&"):e},zn.every=function(e,t,r){var i=Ha(e)?Ot:pr;return r&&wo(e,t,r)&&(t=n),i(e,lo(t,3))},zn.find=ga,zn.findIndex=Uo,zn.findKey=function(e,t){return zt(e,lo(t,3),wr)},zn.findLast=va,zn.findLastIndex=Ho,zn.findLastKey=function(e,t){return zt(e,lo(t,3),xr)},zn.floor=xl,zn.forEach=ya,zn.forEachRight=ba,zn.forIn=function(e,t){return null==e?e:yr(e,lo(t,3),Ms)},zn.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),Ms)},zn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},zn.forOwnRight=function(e,t){return e&&xr(e,lo(t,3))},zn.get=js,zn.gt=Ba,zn.gte=Va,zn.has=function(e,t){return null!=e&&go(e,t,jr)},zn.hasIn=Ts,zn.head=qo,zn.identity=il,zn.includes=function(e,t,n,r){e=qa(e)?e:Bs(e),n=n&&!r?ms(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=yn(r+i,0)),Vt(e,t,i)},zn.inRange=function(e,t,r){return t=ps(t),r===n?(r=t,t=0):r=ps(r),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=vs(e),t,r)},zn.invoke=As,zn.isArguments=Ua,zn.isArray=Ha,zn.isArrayBuffer=Wa,zn.isArrayLike=qa,zn.isArrayLikeObject=Ga,zn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Sr(e)==b},zn.isBuffer=Za,zn.isDate=Qa,zn.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},zn.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Za(e)||cs(e)||Ua(e)))return!e.length;var t=mo(e);if(t==k||t==N)return!e.size;if(ko(e))return!Ir(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Lr(e,t)},zn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Lr(e,t,n,r):!!i},zn.isError=Ka,zn.isFinite=function(e){return"number"==typeof e&&$t(e)},zn.isFunction=Ya,zn.isInteger=Ja,zn.isLength=Xa,zn.isMap=ns,zn.isMatch=function(e,t){return e===t||Mr(e,t,uo(t))},zn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Mr(e,t,uo(t),r)},zn.isNaN=function(e){return rs(e)&&e!=+e},zn.isNative=function(e){if(_o(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=rs,zn.isObject=es,zn.isObjectLike=ts,zn.isPlainObject=is,zn.isRegExp=os,zn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=h},zn.isSet=as,zn.isString=ss,zn.isSymbol=ls,zn.isTypedArray=cs,zn.isUndefined=function(e){return e===n},zn.isWeakMap=function(e){return ts(e)&&mo(e)==L},zn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Sr(e)},zn.join=function(e,t){return null==e?"":Gt.call(e,t)},zn.kebabCase=Ws,zn.last=Ko,zn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=ms(r))<0?yn(i+o,0):bn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Bt(e,Ht,o,!0)},zn.lowerCase=qs,zn.lowerFirst=Gs,zn.lt=us,zn.lte=ds,zn.max=function(e){return e&&e.length?mr(e,il,Er):n},zn.maxBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Er):n},zn.mean=function(e){return Wt(e,il)},zn.meanBy=function(e,t){return Wt(e,lo(t,2))},zn.min=function(e){return e&&e.length?mr(e,il,Dr):n},zn.minBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Dr):n},zn.stubArray=gl,zn.stubFalse=vl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=_l,zn.nth=function(e,t){return e&&e.length?Ur(e,ms(t)):n},zn.noConflict=function(){return pt._===this&&(pt._=Be),this},zn.noop=cl,zn.now=Ea,zn.pad=function(e,t,n){e=bs(e);var r=(t=ms(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(gt(i),n)+e+Hi(mt(i),n)},zn.padEnd=function(e,t,n){e=bs(e);var r=(t=ms(t))?fn(e):0;return t&&r<t?e+Hi(t-r,n):e},zn.padStart=function(e,t,n){e=bs(e);var r=(t=ms(t))?fn(e):0;return t&&r<t?Hi(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(bs(e).replace(oe,""),t||0)},zn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ps(e),t===n?(t=e,e=0):t=ps(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=Cn();return bn(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Zr(e,t)},zn.reduce=function(e,t,n){var r=Ha(e)?It:Zt,i=arguments.length<3;return r(e,lo(t,4),n,i,fr)},zn.reduceRight=function(e,t,n){var r=Ha(e)?Ft:Zt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},zn.repeat=function(e,t,r){return t=(r?wo(e,t,r):t===n)?1:ms(t),Qr(bs(e),t)},zn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,r){var i=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[Fo(t[i])];a===n&&(i=o,a=r),e=Ya(a)?a.call(e):a}return e},zn.round=kl,zn.runInContext=e,zn.sample=function(e){return(Ha(e)?Yn:Yr)(e)},zn.size=function(e){if(null==e)return 0;if(qa(e))return ss(e)?fn(e):e.length;var t=mo(e);return t==k||t==N?e.size:Ir(e).length},zn.snakeCase=Zs,zn.some=function(e,t,r){var i=Ha(e)?Dt:ii;return r&&wo(e,t,r)&&(t=n),i(e,lo(t,3))},zn.sortedIndex=function(e,t){return oi(e,t)},zn.sortedIndexBy=function(e,t,n){return ai(e,t,lo(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&za(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return ai(e,t,lo(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(za(e[n],t))return n}return-1},zn.startCase=Qs,zn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:sr(ms(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},zn.subtract=Sl,zn.sum=function(e){return e&&e.length?Qt(e,il):0},zn.sumBy=function(e,t){return e&&e.length?Qt(e,lo(t,2)):0},zn.template=function(e,t,r){var i=zn.templateSettings;r&&wo(e,t,r)&&(t=n),e=bs(e),t=Cs({},t,i,Ji);var o,a,s=Cs({},t.imports,i.imports,Ji),l=Ls(s),c=Xt(s,l),u=0,d=t.interpolate||xe,f="__p += '",h=Te((t.escape||xe).source+"|"+d.source+"|"+(d===X?he:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(u,l).replace(Ce,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var m=Ie.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new ke("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(H,""):f).replace(W,"$1").replace(q,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Xs((function(){return Se(l,p+"return "+f).apply(n,c)}));if(g.source=f,Ka(g))throw g;return g},zn.times=function(e,t){if((e=ms(e))<1||e>h)return[];var n=m,r=bn(e,m);t=lo(t),e-=m;for(var i=Kt(r,t);++n<e;)t(n);return i},zn.toFinite=ps,zn.toInteger=ms,zn.toLength=gs,zn.toLower=function(e){return bs(e).toLowerCase()},zn.toNumber=vs,zn.toSafeInteger=function(e){return e?sr(ms(e),-9007199254740991,h):0===e?e:0},zn.toString=bs,zn.toUpper=function(e){return bs(e).toUpperCase()},zn.trim=function(e,t,r){if((e=bs(e))&&(r||t===n))return Yt(e);if(!e||!(t=ci(t)))return e;var i=hn(e),o=hn(t);return xi(i,tn(i,o),nn(i,o)+1).join("")},zn.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===n))return e.slice(0,pn(e)+1);if(!e||!(t=ci(t)))return e;var i=hn(e);return xi(i,0,nn(i,hn(t))+1).join("")},zn.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return xi(i,tn(i,hn(t))).join("")},zn.truncate=function(e,t){var r=30,i="...";if(es(t)){var o="separator"in t?t.separator:o;r="length"in t?ms(t.length):r,i="omission"in t?ci(t.omission):i}var a=(e=bs(e)).length;if(sn(e)){var s=hn(e);a=s.length}if(r>=a)return e;var l=r-fn(i);if(l<1)return i;var c=s?xi(s,0,l).join(""):e.slice(0,l);if(o===n)return c+i;if(s&&(l+=c.length-l),os(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Te(o.source,bs(pe.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var f=u.index;c=c.slice(0,f===n?l:f)}}else if(e.indexOf(ci(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+i},zn.unescape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(G,mn):e},zn.uniqueId=function(e){var t=++Fe;return bs(e)+t},zn.upperCase=Ks,zn.upperFirst=Ys,zn.each=ya,zn.eachRight=ba,zn.first=qo,ll(zn,(Cl={},wr(zn,(function(e,t){Ie.call(zn.prototype,t)||(Cl[t]=e)})),Cl),{chain:!1}),zn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Tt(["drop","take"],(function(e,t){Hn.prototype[e]=function(r){r=r===n?1:yn(ms(r),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,m),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(il)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Or(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Pa(lo(e)))},Hn.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(m)},wr(Hn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=zn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Hn,c=s[0],u=l||Ha(t),d=function(e){var t=o.apply(zn,Pt([e],s));return i&&f?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,m=l&&!h;if(!a&&u){t=m?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:ha,args:[d],thisArg:n}),new Un(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?i?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ha(i)?i:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Ie.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[zi(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,f=0,h=bn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[f++]=g}return p},zn.prototype.at=pa,zn.prototype.chain=function(){return fa(this)},zn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,r=this;r instanceof Vn;){var i=$o(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:n}),new Un(t,this.__chain__)}return this.thru(ea)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Je&&(zn.prototype[Je]=function(){return this}),zn}();gt?((gt.exports=gn)._=gn,mt._=gn):pt._=gn}).call(l)}(qp,qp.exports);var Gp=qp.exports;function Zp(){return Ln((e=>e.status))===Cn}function Qp(){const e=i.useRef(null),t=i.useRef(null),n=Ln((e=>e.display)),r=hf((e=>e.enableAutoplay)),o=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.srtData})),a=Ln((e=>e.caption.asTrack)),s=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.language})),l=Ln((e=>{var t;return null==(t=e.meta)?void 0:t.poster})),{displayGain:c}=pf(),u=i.useRef(null),d=i.useRef(null),f=i.useRef(null),h=function(e,t){const n=i.useRef(null),r=i.useMemo((()=>{n.current&&URL.revokeObjectURL(n.current);const t=e();return n.current=t,t}),t);return i.useEffect((()=>()=>{n.current&&URL.revokeObjectURL(n.current)}),[]),r}((()=>{return o?(e=o,URL.createObjectURL(new Blob([hi(e)],{type:"text/vtt"}))):null;var e}),[o]);i.useEffect((()=>{n&&e.current&&n.processVideoElement(e.current)}),[n,e]),i.useEffect((()=>{if(e.current){const t=()=>{u.current||(u.current=new(window.AudioContext||window.webkitAudioContext),d.current=u.current.createMediaElementSource(e.current),f.current=u.current.createGain(),d.current.connect(f.current),f.current.connect(u.current.destination))};return e.current.addEventListener("play",t),()=>{var n;null==(n=e.current)||n.removeEventListener("play",t)}}}),[]),i.useEffect((()=>{if(f.current&&u.current){const e=c<=1?c:1+3*(c-1);f.current.gain.setValueAtTime(e,u.current.currentTime)}}),[c]),i.useEffect((()=>{t.current&&(t.current.track.mode="showing")}),[t]);let p=null;a&&h&&s&&(p=k.jsx("track",{label:"movie-web",kind:"subtitles",srcLang:s,src:h,default:!0}));const m=i.useMemo((()=>Gp.debounce(Wp,5e3)),[]);return i.useEffect((()=>()=>{null==m||m.cancel()}),[m]),k.jsx("video",{ref:e,className:"absolute inset-0 w-full h-screen bg-black object-contain",poster:l,autoPlay:r,playsInline:!0,onPause:()=>Wp({type:"video-paused",data:!0}),onEnded:()=>Wp({type:"video-ended",data:!0}),onTimeUpdate:e=>{var t,n,r,i;(null==(t=null==e?void 0:e.target)?void 0:t.currentTime)>1&&!isNaN(null==(n=null==e?void 0:e.target)?void 0:n.duration)&&m({type:"timeupdate",data:{currentTime:null==(r=null==e?void 0:e.target)?void 0:r.currentTime,duration:null==(i=null==e?void 0:e.target)?void 0:i.duration}})},children:p})}function Kp(){const e=Zp();return function(){const e=Ln((e=>e.display)),t=Ln((e=>e.setDisplay)),n=i.useRef(e);i.useEffect((()=>{n.current=e}),[e]),i.useEffect((()=>{if(!n.current){const e=Oh();n.current=e,t(e)}return()=>{n.current&&(n.current=null,t(null))}}),[t])}(),function(){const e=Ln((e=>e.source)),t=i.useMemo((()=>e?JSON.stringify(e):null),[e]),{selectLastUsedLanguageIfEnabled:n}=wi(),r=i.useRef(n);i.useEffect((()=>{r.current=n}),[n]),i.useEffect((()=>{t&&r.current()}),[t])}(),e?k.jsx(Qp,{}):null}function Yp(e){const t=Zp(),n=Ln((e=>e.display)),r=Ln((e=>e.mediaPlaying.isPaused)),o=Ln((e=>e.updateInterfaceHovering)),a=Ln((e=>e.interface.hovering)),[s,l,c]=(u=()=>{o(jn.NOT_HOVERING)},d=3e3,f=i.useRef(!1),h=i.useRef(),p=i.useRef(u),m=i.useCallback((function(){return f.current}),[]),g=i.useCallback((function(){f.current=!1,h.current&&clearTimeout(h.current),h.current=setTimeout((function(){f.current=!0,p.current()}),d)}),[d]),v=i.useCallback((function(){f.current=null,h.current&&clearTimeout(h.current)}),[]),i.useEffect((function(){p.current=u}),[u]),i.useEffect((function(){return g(),v}),[d]),[m,v,g]);var u,d,f,h,p,m,g,v,y;y=()=>{l()},i.useEffect(y,[]);const b=i.useCallback((()=>{null==n||n.toggleFullscreen()}),[n]),w=i.useCallback((e=>{if("mouse"!==e.pointerType)a!==jn.MOBILE_TAPPED?(o(jn.MOBILE_TAPPED),c()):(o(jn.NOT_HOVERING),l());else{if(0!==e.button)return;r?null==n||n.play():null==n||n.pause()}}),[n,r,a,o,c,l]);return t?k.jsx("div",{className:Mi("absolute inset-0",{"absolute inset-0":!0,"cursor-none":!e.showingControls}),onDoubleClick:b,onPointerUp:w}):null}function Jp(e){const t=i.useRef(null),n=Ln((e=>e.display));return function(e){const t=i.useRef(null),n=Ln((e=>e.updateInterfaceHovering)),r=Ln((e=>e.interface.hovering));i.useEffect((()=>{if(!e.current)return;const r=e.current;function i(e){"mouse"===e.pointerType&&(n(jn.MOUSE_HOVER),t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{n(jn.NOT_HOVERING),t.current=null}),3e3))}function o(e){"mouse"===e.pointerType&&(n(jn.NOT_HOVERING),t.current&&clearTimeout(t.current))}return r.addEventListener("pointermove",i),r.addEventListener("pointerleave",o),()=>{r.removeEventListener("pointermove",i),r.removeEventListener("pointerleave",o)}}),[e,r,n])}(t),i.useEffect((()=>{n&&t.current&&n.processContainerElement(t.current)}),[n,t]),k.jsx("div",{ref:t,children:k.jsx(Xs,{children:k.jsx("div",{className:"h-screen select-none",children:e.children})})})}function Xp(e){const t=i.useRef(e.onLoad);return i.useEffect((()=>{var e;null==(e=t.current)||e.call(t)}),[]),k.jsx("div",{className:"relative",children:k.jsxs(Jp,{children:[k.jsx(Vp,{}),k.jsx(Ih,{}),k.jsx(Kp,{}),k.jsx(zp,{}),k.jsx(Fp,{}),k.jsx(Dp,{}),k.jsxs("div",{className:"relative h-screen overflow-hidden",children:[k.jsx(Yp,{showingControls:e.showingControls}),k.jsx(Ip,{}),e.children]})]})})}const em=mt(an((e=>({banners:[],isOnline:!0,isTurnstile:!1,location:null,ignoredBannerIds:[],updateOnline(t){e((e=>{e.isOnline=t}))},updateTurnstile(t){e((e=>{e.isTurnstile=t}))},setLocation(t){e((e=>{e.location=t}))},showBanner(t){e((e=>{e.banners.find((e=>e.id===t))||e.ignoredBannerIds.includes(t)||e.banners.push({id:t,height:0})}))},hideBanner(t,n=!1){e((e=>{n&&e.ignoredBannerIds.push(t),e.banners=e.banners.filter((e=>e.id!==t))}))},updateHeight(t,n){e((e=>{const r=e.banners.find((e=>e.id===t));r&&(r.height=n)}))}}))));function tm(e){const[t]=function(e){const[t,{height:n}]=Oi(),r=em((e=>e.updateHeight)),o=em((e=>e.showBanner)),a=em((e=>e.hideBanner));return i.useEffect((()=>(o(e),()=>{a(e)})),[o,a,e]),i.useEffect((()=>{r(e,n)}),[n,e,r]),[t]}(e.id),n=em((e=>e.hideBanner)),r={error:Ri.CIRCLE_EXCLAMATION,info:Ri.CIRCLE_EXCLAMATION};return i.useEffect((()=>{sessionStorage.getItem("hideBanner")&&n(e.id,!0)}),[n,e.id]),k.jsx("div",{ref:t,children:k.jsxs("div",{className:[{error:"bg-[#C93957] text-white",info:"bg-[#126FD3] text-white"}[e.type],"flex items-center justify-center p-1"].join(" "),children:[k.jsxs("div",{className:"flex items-center space-x-3",children:[k.jsx(Fi,{icon:r[e.type]}),k.jsx("div",{children:e.children})]}),k.jsx("span",{className:"absolute right-4 hover:cursor-pointer",onClick:()=>{n(e.id,!0),sessionStorage.setItem("hideBanner","true")},children:k.jsx(Fi,{icon:Ri.X})})]})})}function nm(e){const t=em((e=>e.isOnline)),n=em((e=>e.setLocation)),r=em((e=>e.ignoredBannerIds)),o=em((e=>e.location)),a=e.location??null;if(i.useEffect((()=>{if(a)return n(a),()=>{n(null)}}),[n,a]),o!==a)return null;return sessionStorage.getItem("hideBanner")?null:k.jsx("div",{children:t||r.includes("offline")?null:k.jsx(tm,{id:"offline",type:"error",children:"Check your internet connection, silly goose! "})})}function rm(e){const t=function(e){const t=e,n=em((e=>e.banners)),r=em((e=>e.location)),i=n.reduce(((e,t)=>e+t.height),0);return t!==r?0:i}("player"),n=Ln((e=>e.setHoveringAnyControls));return i.useEffect((()=>()=>{n(!1)}),[n]),k.jsxs("div",{className:"w-full text-white",children:[k.jsx(qs,{animation:"fade",show:e.show,style:{top:`${t}px`},className:"pointer-events-none flex justify-end pb-20 sm:pb-32 bg-gradient-to-b from-black/90 sm:from-black/90 to-transparent [margin-bottom:env(safe-area-inset-bottom)] transition-opacity duration-200 absolute top-0 w-full"}),k.jsx("div",{className:"relative z-10",children:k.jsx(nm,{location:"player"})}),k.jsx("div",{onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),className:"pointer-events-auto px-2 sm:pl-[calc(2rem+env(safe-area-inset-left))] sm:pr-[calc(2rem+env(safe-area-inset-right))] sm:pt-3 md:pt-5 lg:pt-6 absolute top-0 w-full",style:{top:`${t}px`},children:k.jsx(qs,{animation:"slide-down",show:e.show,className:"text-white",children:e.children})})]})}function im(e){return k.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none [&>*]:pointer-events-auto",children:e.children})}function om(e){const t=Ln((e=>e.setHoveringAnyControls));return i.useEffect((()=>()=>{t(!1)}),[t]),k.jsxs("div",{className:"w-full text-white",children:[k.jsx(qs,{animation:"fade",show:e.show,className:"pointer-events-none flex justify-end pt-20 sm:pt-32 bg-gradient-to-t from-black/90 sm:from-black/90 to-transparent transition-opacity duration-200 absolute bottom-0 w-full"}),k.jsx("div",{onMouseOver:()=>t(!0),onMouseOut:()=>t(!1),className:"pointer-events-auto z-10 px-3 sm:pl-[calc(2rem+env(safe-area-inset-left))] sm:pr-[calc(2rem+env(safe-area-inset-right))] sm:pb-3 mb-[env(safe-area-inset-bottom)] absolute bottom-0 w-full",children:k.jsx(qs,{animation:"slide-up",show:e.show,children:e.children})})]})}function am(e){return k.jsx(qs,{animation:"fade",show:e.show,className:"absolute inset-0 size-full bg-black/20 pointer-events-none"})}function sm(e){const t=Ln((e=>e.setHoveringLeftControls)),n=i.useCallback((()=>{t(!1)}),[t]);return i.useEffect((()=>()=>{t(!1)}),[t]),k.jsx("div",{className:Mi(["flex space-x-3 items-center",e.className]),onMouseLeave:n,children:e.children})}function lm(e){return k.jsx(qs,{animation:"fade",show:e.show,className:"pointer-events-none",children:k.jsx("div",{className:Mi(["absolute inset-0 flex space-x-6 items-center justify-center pointer-events-none [&>*]:pointer-events-auto",e.className]),children:e.children})})}const cm={i:"I"};function um({text:e,styling:t,overrideCasing:n}){const r=i.useMemo((()=>{let t=e;n&&e&&(t=e.slice(0,1)+e.slice(1).toLowerCase());const r=(t||"").split(" ").map((e=>cm[e]??e)).join(" ").replace(/ i'/g," I'").replace(/\r?\n/g,"<br />");return fi(r,{ALLOWED_TAGS:["c","b","i","u","span","ruby","rt","br"],ADD_TAGS:["v","lang"],ALLOWED_ATTR:["title","lang"]})}),[e,n]);return k.jsx("p",{className:"pointer-events-none mb-1 select-none rounded px-4 py-1 text-center leading-normal [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]",style:{color:t.color,fontSize:`${(1.5*t.size).toFixed(2)}em`,backgroundColor:`rgba(0,0,0,${t.backgroundOpacity.toFixed(2)})`,backdropFilter:0!==t.backgroundBlur?`blur(${Math.floor(64*t.backgroundBlur)}px)`:"none",fontWeight:t.bold?"bold":"normal"},children:k.jsx("span",{dangerouslySetInnerHTML:{__html:r},dir:"ltr"})})}function dm(){const e=Ln((e=>e.progress.time)),t=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.srtData})),n=Ln((e=>{var t;return null==(t=e.caption.selected)?void 0:t.language})),r=bi((e=>e.styling)),o=bi((e=>e.overrideCasing)),a=bi((e=>e.delay)),s=i.useMemo((()=>t?pi(t):[]),[t,n]),l=i.useMemo((()=>s.filter((({start:t,end:n})=>function(e,t,n,r){const i=e/1e3+n,o=t/1e3+n;return Math.max(0,i)<=r&&Math.max(0,o)>=r}(t,n,a,e)))),[s,e,a]);return k.jsx("div",{children:l.map((({start:e,end:t,content:n},i)=>k.jsx(um,{text:n,styling:r,overrideCasing:o},function(e,t,n){return`${e}-${t}-${n}`}(i,e,t))))})}function fm(e){const t=Ln((e=>e.caption.selected)),n=Ln((e=>e.caption.asTrack)),r=Ln((e=>e.display)),i="casting"===(null==r?void 0:r.getType());return n||!t||i?null:k.jsx(qs,{className:"absolute inset-0 pointer-events-none",animation:"slide-up",show:!0,children:k.jsx("div",{className:Mi(["text-white absolute flex w-full flex-col items-center transition-[bottom]",e.controlsShown?"bottom-24":"bottom-12"]),children:k.jsx(dm,{})})})}function hm(e){const{showTargets:t}=function(){const e=Ln((e=>e.interface.hovering)),t=Ln((e=>e.interface.lastHoveringState)),n=Ln((e=>e.mediaPlaying.isPaused)),r=Ln((e=>e.interface.hasOpenOverlay)),i=Ln((e=>e.interface.isHoveringControls)),o=t===jn.MOBILE_TAPPED,a=e!==jn.NOT_HOVERING||i||r||n;return{showTouchTargets:o&&a,showTargets:a}}(),n=Ln((e=>e.status)),{isMobile:r}=Ki(),i=Ln((e=>e.mediaPlaying.isLoading));return k.jsxs(Xp,{onLoad:e.onLoad,showingControls:t,children:[e.children,k.jsx(am,{show:t&&n===Cn}),k.jsx(_h,{}),k.jsx(hh,{}),k.jsx(fm,{controlsShown:t}),n===Cn?k.jsxs(k.Fragment,{children:[k.jsxs(im,{children:[k.jsx(Ho,{}),k.jsx(Wo,{})]}),k.jsx(im,{children:k.jsx(yh,{})})]}):null,k.jsxs(lm,{className:"text-white",show:t&&n===Cn,children:[r&&k.jsx(Bo,{isCenter:!0,iconSizeClass:"text-3xl"}),k.jsx(ho,{iconSizeClass:"text-5xl",className:i?"opacity-0":"opacity-100"}),r&&k.jsx(zo,{isCenter:!0,iconSizeClass:"text-3xl"})]}),k.jsx(rm,{show:t,children:k.jsxs("div",{className:"flex gap-6 justify-between items-center",children:[k.jsxs("div",{className:"space-y-1 max-w-xs",children:[k.jsx(Zo,{className:"truncate"}),r&&k.jsx(Qo,{className:"text-sm text-white/50"})]}),k.jsx("div",{className:"text-center flex-1 hidden lg:flex justify-center items-center",children:k.jsx(Qo,{})}),k.jsx("div",{className:"flex items-center  justify-end gap-2",children:n===Cn?k.jsxs(k.Fragment,{children:[k.jsx(mh,{}),k.jsx(vh,{})]}):null})]})}),k.jsxs(om,{show:t,children:[k.jsx("div",{className:"flex flex-col space-y-0",children:n===Cn?k.jsxs(k.Fragment,{children:[k.jsx(Vo,{}),k.jsx($o,{})]}):null}),k.jsxs("div",{className:"hidden lg:flex justify-between -me-2 -ms-2.5",dir:"ltr",children:[k.jsx(sm,{children:n===Cn?k.jsxs(k.Fragment,{children:[k.jsx(ho,{isleft:!0}),k.jsx(Bo,{}),k.jsx(zo,{}),k.jsx(Go,{})]}):null}),k.jsxs("div",{className:"flex items-center space-x-3",children:[k.jsx(kh,{}),n===_n||n===Cn?k.jsxs(k.Fragment,{children:[!r&&k.jsx(Ao,{}),k.jsx(bh,{}),k.jsx(ph,{}),k.jsx(po,{})]}):null]})]}),k.jsxs("div",{className:"flex items-center justify-between gap-3 lg:hidden -mx-2",children:[n===Cn?k.jsxs("div",{className:"flex justify-end items-center gap-2",children:[k.jsx("div",{className:"hidden sm:block",children:k.jsx(bh,{})}),k.jsx(Ao,{})]}):null,k.jsx("div",{className:"max-sm:ml-auto",children:k.jsx(kh,{})}),k.jsx("div",{className:"flex justify-end items-center gap-2",children:n===Cn?k.jsxs(k.Fragment,{children:[k.jsx(ph,{}),k.jsx(po,{})]}):null})]})]}),k.jsx(gh,{})]})}const pm=mt(an((e=>({routes:[],registerRoute(t){e((e=>{e.routes.push(t)}))}}))));function mm(){ge();const e=ve(),{status:t,playMedia:n,reset:r,shouldStartFromBeginning:o,setShouldStartFromBeginning:a}=xi(),{setPlayerMeta:s}=Ci(),l=function(){const e=pm((e=>e.routes)),t=pe();return i.useMemo((()=>{const n=[...e];n.reverse();const r=n.find((e=>!e.path.startsWith("/embed")&&t.pathname!==e.path));return(null==r?void 0:r.path)??"/"}),[e,t])}(),c=JSON.stringify({type:e.type,id:e.id,season:e.season,episode:e.episode});i.useEffect((()=>{r()}),[c,r]);const u=$p();const d=i.useCallback((async t=>{var r,i;if(!t)return;const o=null==t?void 0:t.servers,s=(null==(r=null==o?void 0:o.find((e=>!0===(null==e?void 0:e.default))))?void 0:r.name)??(null==(i=null==o?void 0:o[0])?void 0:i.name),l=await(null==window?void 0:window.fetchSauce(t,s,!1));if(!l)return;const c=function(t){const n=t[e.id??""];return n?"movie"===e.type?n.progress?n.progress.watched:0:"tv"===e.type&&e.id&&e.season&&e.episode&&n.currentSeason===Number(e.season)&&n.currentEpisode===Number(e.episode)&&n.progress?n.progress.watched:void 0:0}(u.items);n({type:(null==l||l.format,"hls"),url:null==l?void 0:l.source},mi(l.subtitles),s,c),a(!1)}),[n,o,a]);return k.jsxs(hm,{backUrl:l,children:[t===xn&&k.jsx(Gi,{onGetMeta:t=>{s({...t,id:e.id,type:e.type,episodeId:t.id}),d(t)}}),t===_n?k.jsx(Zi,{}):null,k.jsx(Up,{})]})}function gm(){return k.jsx(mm,{})}function vm(){return k.jsx(Me,{children:k.jsxs(Ne,{children:[k.jsx(je,{path:"/embed/:type/:id",element:k.jsx(gm,{})}),k.jsx(je,{path:"/embed/:type/:id/:season/:episode",element:k.jsx(gm,{})}),k.jsx(je,{path:"/embed/:type/:id/:episode",element:k.jsx(gm,{})}),k.jsx(je,{path:"*",element:k.jsx(Ee,{to:"/404",replace:!0})})]})})}!function(){if(window.__onGCastApiAvailable=e=>{var t;Rh=t=e,Mh.forEach((e=>e(t)))},!!!document.getElementById("chromecast-script")){const e=document.createElement("script");e.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),e.setAttribute("id","chromecast-script"),document.body.appendChild(e)}}(),d(document.getElementById("root")).render(k.jsx(i.StrictMode,{children:k.jsx(Tp,{children:k.jsx(vm,{})})}));
